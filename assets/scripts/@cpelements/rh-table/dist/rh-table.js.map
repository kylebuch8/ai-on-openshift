{"version":3,"file":"rh-table.js","sources":["../_temp/rh-table.js"],"sourcesContent":["/*!\n * PatternFly Elements: RhTable 0.0.19\n * @license\n * Copyright 2020 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\nimport PFElement from \"../../../@patternfly/pfelement/dist/pfelement.js\"; // | umd\n\n// @todo See if there are more a11y features we should take from: https://dequeuniversity.com/library/aria/table-sortable\n// @todo See if <dialog> tag could be useful for the maximized table\n// @todo Bug where fullscreen button doesn't show up sometimes in smaller reflow (hard to replicate)\n// @todo Pagination?\n// @todo Search?\n// @todo move to pfe-tools/pfe 2.0\n// @todo after pfe 2.0 write tests\n//    - Test to make sure full screen button shows up when table scrolls\n//    - Tests for sorting results\n\n/**\n * Debounce helper function\n * @see https://davidwalsh.name/javascript-debounce-function\n *\n * @param {function} func Function to be debounced\n * @param {number} delay How long until it will be run\n * @param {boolean} immediate Whether it should be run at the start instead of the end of the debounce\n */\nfunction debounce(func, delay, immediate = false) {\n  var timeout;\n  return function () {\n    var context = this,\n      args = arguments;\n    var later = function () {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, delay);\n    if (callNow) func.apply(context, args);\n  };\n}\n\nclass RhTable extends PFElement {\n  static get version() {\n    return \"0.0.19\";\n  }\n\n  get html() {\n    return `<style>*{-webkit-box-sizing:border-box;box-sizing:border-box}:host{position:relative;display:block;width:auto;width:var(--rh-table--wrappers--width,auto)}:host([hidden]){display:none}:host(.rh-table--expanded-vertically){--rh-table--maxHeight:max-content}#wrapper{overflow:auto;width:auto;width:var(--rh-table--wrappers--width,auto);max-width:100%;max-height:-webkit-max-content;max-height:-moz-max-content;max-height:max-content;max-height:var(--rh-table--maxHeight,-webkit-max-content);max-height:var(--rh-table--maxHeight,-moz-max-content);max-height:var(--rh-table--maxHeight,max-content);scrollbar-color:#8e8e8e #d6d6d6}#wrapper::-webkit-scrollbar{width:.625rem;height:.625rem}#wrapper::-webkit-scrollbar,#wrapper::-webkit-scrollbar-track{background-color:#d6d6d6}#wrapper::-webkit-scrollbar-thumb{background-color:#8e8e8e}#wrapper.table-full-screen{position:fixed;top:40px;right:0;bottom:40px;left:0;z-index:1;overflow:scroll;margin:0;width:100%;max-height:90vh;padding:40px;background-color:#fff}@media (min-width:1400px){#wrapper.table-full-screen{padding:40px 160px}}#wrapper.table-full-screen .full-screen{right:40px}.overlay{position:fixed;top:0;left:0;z-index:-1;display:block;width:100%;height:100%;background:rgba(21,21,21,.5);background:var(--pfe-table--overlay--Background,rgba(21,21,21,.5))}.overlay[hidden]{display:none}.visually-hidden{position:absolute;overflow:hidden;clip:rect(0,0,0,0);width:1px;height:1px;padding:0;border:0;white-space:nowrap}button{border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#f0efef;cursor:pointer}button:focus{outline:2px dashed #000;outline:var(--rh-table--button--outline--focus,2px dashed #000)}.rh-table__expand-vertical-button,.rh-table__full-screen-button{position:absolute;right:calc(0px + 8px);right:calc(var(--rh-table--scrollbar--width,0px) + 8px);z-index:1;width:1.75rem;height:1.75rem;padding:6px;color:#8a8a8a;background:#f0efef}:host(.full-screen) .rh-table__expand-vertical-button,:host(.full-screen) .rh-table__full-screen-button{display:none}.rh-table__expand-vertical-button svg,.rh-table__full-screen-button svg{width:1rem;height:1rem}.rh-table__expand-vertical-button:focus,.rh-table__expand-vertical-button:hover,.rh-table__full-screen-button:focus,.rh-table__full-screen-button:hover{color:#06c}.rh-table__expand-vertical-button{top:calc(1.75rem + 8px)}:host(.rh-table--expanded-vertically) .rh-table__expand-vertical-button{background:#2b9af3;color:#fff}.rh-table__expand-vertical-button path,.rh-table__expand-vertical-button svg{fill:currentColor}.rh-table__close-full-screen-button{position:fixed;top:80px;right:40px;z-index:10;display:none;width:2rem;height:2rem;padding:0;background:#f0efef}:host(.full-screen) .rh-table__close-full-screen-button{display:block}.rh-table__close-full-screen-button svg{width:2rem;height:2rem}\n/*# sourceMappingURL=rh-table.min.css.map */\n</style><div id=\"wrapper\">\n  <button class=\"rh-table__sort-button\" hidden title=\"Sort in descending order\">\n    <svg\n      aria-hidden=\"true\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 320 512\"\n    >\n      <path\n        class=\"arrow--up\"\n        d=\"M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224z\"\n      />\n      <path\n        class=\"arrow--down\"\n        d=\"M311.9 335.1l-132.4 136.8C174.1 477.3 167.1 480 160 480c-7.055 0-14.12-2.702-19.47-8.109l-132.4-136.8C-9.229 317.8 3.055 288 27.66 288h264.7C316.9 288 329.2 317.8 311.9 335.1z\"\n      />\n    </svg>\n  </button>\n  <button class=\"rh-table__full-screen-button full-screen\" hidden title=\"Maximize the table\">\n    <svg\n      aria-hidden=\"true\"\n      focusable=\"false\"\n      data-prefix=\"fas\"\n      data-icon=\"expand-arrows-alt\"\n      class=\"svg-inline--fa fa-expand-arrows-alt fa-w-14\"\n      role=\"img\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 448 512\"\n    >\n      <path\n        fill=\"currentColor\"\n        d=\"M448 344v112a23.94 23.94 0 0 1-24 24H312c-21.39 0-32.09-25.9-17-41l36.2-36.2L224 295.6 116.77 402.9 153 439c15.09 15.1 4.39 41-17 41H24a23.94 23.94 0 0 1-24-24V344c0-21.4 25.89-32.1 41-17l36.19 36.2L184.46 256 77.18 148.7 41 185c-15.1 15.1-41 4.4-41-17V56a23.94 23.94 0 0 1 24-24h112c21.39 0 32.09 25.9 17 41l-36.2 36.2L224 216.4l107.23-107.3L295 73c-15.09-15.1-4.39-41 17-41h112a23.94 23.94 0 0 1 24 24v112c0 21.4-25.89 32.1-41 17l-36.19-36.2L263.54 256l107.28 107.3L407 327.1c15.1-15.2 41-4.5 41 16.9z\"\n      ></path>\n    </svg>\n  </button>\n  <button class=\"rh-table__expand-vertical-button\" hidden title=\"Expand to full height\">\n    <svg\n      aria-hidden=\"true\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 320 512\">\n      <path d=\"M182.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L128 109.3V402.7L86.6 361.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 402.7V109.3l41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96z\"/>\n    </svg>\n  </button>\n  <slot></slot>\n</div>\n<button class=\"rh-table__close-full-screen-button full-screen--close\" title=\"Restore table to original size\">\n  <svg fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 28 28\">\n    <path fill=\"#F0EFEF\" d=\"M0 0h28v28H0z\" />\n    <g clip-path=\"url(#a)\">\n      <path\n        d=\"M12.25 15h-3.5a.75.75 0 0 0-.531 1.281l1.028.969-3.1 3.103a.502.502 0 0 0 0 .706l.794.794a.502.502 0 0 0 .706 0l3.103-3.103.972 1.031A.749.749 0 0 0 13 19.25v-3.5a.748.748 0 0 0-.75-.75Zm3.5-2h3.5a.751.751 0 0 0 .531-1.281l-1.031-.969 3.103-3.103a.502.502 0 0 0 0-.706l-.794-.794a.502.502 0 0 0-.706 0L17.25 9.25l-.972-1.031A.749.749 0 0 0 15 8.75v3.5c0 .416.334.75.75.75Zm3 4.25 1.031-.972A.749.749 0 0 0 19.25 15h-3.5a.748.748 0 0 0-.75.75v3.5a.751.751 0 0 0 1.281.531l.969-1.028 3.103 3.103a.502.502 0 0 0 .706 0l.794-.794a.502.502 0 0 0 0-.706L18.75 17.25Zm-7.031-9.028-.97 1.028-3.102-3.103a.502.502 0 0 0-.706 0l-.794.794a.502.502 0 0 0 0 .706L9.25 10.75l-1.031.972A.749.749 0 0 0 8.749 13h3.5c.416 0 .75-.334.75-.75v-3.5c0-.666-.809-1-1.28-.528Z\"\n        fill=\"#9B9B9B\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"a\">\n        <path fill=\"#fff\" transform=\"translate(6 6)\" d=\"M0 0h16v16H0z\" />\n      </clipPath>\n    </defs>\n  </svg>\n</button>\n<div class=\"overlay\" hidden></div>`;\n  }\n\n  static get properties() {\n    return {\"compact-mode\":{\"title\":\"Compact-mode\",\"type\":\"string\",\"enum\":[],\"default\":\"\",\"prefixed\":true},\"sortable-cols\":{\"title\":\"Sortable-cols\",\"type\":\"string\",\"enum\":[],\"default\":\"\",\"prefixed\":true}};\n  }\n\n  static get slots() {\n    return {\"default\":{\"title\":\"Default slot\",\"type\":\"array\",\"namedSlot\":false,\"items\":{\"oneOf\":[{\"$ref\":\"raw\"}]}}};\n  }\n  static get tag() {\n    return \"rh-table\";\n  }\n\n  static get properties() {\n    return {};\n  }\n\n  static get slots() {\n    return {};\n  }\n\n  get schemaUrl() {\n    return \"rh-table.json\";\n  }\n\n  get templateUrl() {\n    return \"rh-table.html\";\n  }\n\n  get styleUrl() {\n    return \"rh-table.scss\";\n  }\n\n  static get events() {\n    return {\n      sorted: `${this.tag}:sorted`,\n    };\n  }\n\n  // Declare the type of this component\n  static get PfeType() {\n    return PFElement.PfeTypes.Content;\n  }\n\n  static get observedAttributes() {\n    return [\"compact-mode\", \"sortable-cols\"];\n  }\n\n  constructor() {\n    super(RhTable, { type: RhTable.PfeType });\n    // NO DOM ACCESS\n\n    this.table = null;\n    this._shadowWrapper = this.shadowRoot.getElementById(\"wrapper\");\n    this.canFullScreen = true;\n    this.isFullscreen = false;\n    this._fullScreenButton =\n      this.shadowRoot.querySelector(\".rh-table__full-screen-button\");\n    this._expandButton = this.shadowRoot.querySelector('.rh-table__expand-vertical-button')\n    this._fullScreenCloseButton = this.shadowRoot.querySelector(\".rh-table__close-full-screen-button\");\n    this._overlay = this.shadowRoot.querySelector(\".overlay\");\n    this._expandUnpressed = true;\n    this.hovered = {\n      hoveredCoordinates: null,\n      styleElement: null,\n      styleSheet: null,\n      checkInterval: null,\n    };\n\n    this.docLang;\n    this._sortHeadings = null;\n    this.tableSortValues = { heading: [], values: [] };\n    this.tableCellValues = {};\n    this.sortable = null;\n    this.lastSortCol = null;\n    this.resizeDebounce = 250;\n    this.sortOrder = \"az\";\n\n    // Used to trap focus in maximized table\n    this._focusableElements =\n      'button, a[href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])';\n    // Used to track\n    this._previousFirstFocusableElement = null;\n    this._focusTrapCallbacks = {\n      first: null,\n      last: null,\n    };\n\n    this.translations = {\n      maximizeTable: {\n        en: \"Maximize the table\",\n        ko: \"테이블 크기 최대화\",\n        jp: \"表の最大化表示\",\n        zh: \"最大化表\",\n        zh_cn: \"最大化表\",\n        fr: \"Agrandir Table\",\n        it: \"Visualizza la tabella a schermo pieno\",\n        es: \"Maximizar la tabla\",\n        de: \"Tabelle vergrößern\",\n        pt: \"Maximizar a tabela\",\n      },\n      closeFullscreen: {\n        en: \"Restore table to original size\",\n        ko: \"전체 화면 표시 닫기\",\n        jp: \"表の全画面表示の終了\",\n        zh: \"关闭全屏显示表\",\n        zh_cn: \"关闭全屏显示表\",\n        fr: \"Fermer Table Plein écran\",\n        it: \"Esci dalla modalità a schermo pieno\",\n        es: \"Minimizar la tabla\",\n        de: \"Vollbildtabelle schließen\",\n        pt: \"Fechar a tabela em tela cheia\",\n      },\n      sortAscending: {\n        en: \"Sort by ascending order\",\n        ko: \"Sort by ascending order\",\n        jp: \"Sort by ascending order\",\n        zh: \"Sort by ascending order\",\n        zh_cn: \"Sort by ascending order\",\n        fr: \"Sort by ascending order\",\n        it: \"Sort by ascending order\",\n        es: \"Sort by ascending order\",\n        de: \"Sort by ascending order\",\n        pt: \"Sort by ascending order\",\n      },\n      sortDescending: {\n        en: \"Sort by descending order\",\n        ko: \"Sort by descending order\",\n        jp: \"Sort by descending order\",\n        zh: \"Sort by descending order\",\n        zh_cn: \"Sort by descending order\",\n        fr: \"Sort by descending order\",\n        it: \"Sort by descending order\",\n        es: \"Sort by descending order\",\n        de: \"Sort by descending order\",\n        pt: \"Sort by descending order\",\n      },\n    };\n\n    // Ensure 'this' is tied to the component object in these member functions\n    const functionsToBind = [\n      \"_processLightDom\",\n      \"_rowAndColumnHighlight\",\n      \"_popstateListener\",\n      \"_toggleFullScreen\",\n      \"_sortData\",\n      \"_getCSSStyleSheetById\",\n      \"_checkForScroll\",\n      \"_handleEscPress\",\n      \"_getTranslatedString\",\n      \"setupFocusTrap\",\n      \"removeFocusTrap\",\n      \"_trapFocusInMaximizedTable\",\n    ];\n\n    for (let index = 0; index < functionsToBind.length; index++) {\n      const functionName = functionsToBind[index];\n      if (this[functionName]) {\n        this[functionName] = this[functionName].bind(this);\n      } else {\n        this.error(\"Tried to bind a function that doesn't exist\", functionName);\n      }\n    }\n\n    this._resizeListener = debounce(this._checkForScroll, this.resizeDebounce);\n    this._overlay.addEventListener(\"click\", () =>\n      this._toggleFullScreen(false)\n    );\n    this._fullScreenCloseButton.addEventListener(\"click\", () =>\n      this._toggleFullScreen(false)\n    );\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // BEGIN DOM ACCESS\n\n    this._sortButtonBoilerplate = this.shadowRoot.querySelector(\n      \".rh-table__sort-button\"\n    );\n\n    // Make sure pointers are set\n    this.table = this.table ? this.table : this.querySelector(\"table\");\n    this._sortHeadings = this.table.querySelectorAll(\".sort-button\");\n\n    // check to see if the table has a top heading\n    this.topHeading = this.getAttribute(\"top-heading\");\n\n    // check to see if the table is sortable\n    this.sortable = this.getAttribute(\"sortable\");\n\n    // check to see if the full screen button is disabled\n    this.canFullScreen = this.stringToBool(this.getAttribute(\"full-screen\"));\n\n    // Make an unique id for use on table id, style tag id, etc.\n    const newId = Math.random().toString(36).substring(2, 9);\n    this.dataset.id = newId;\n    // If we don't have an ID on the table, set one\n    if (!this.id) {\n      this.id = `rh-table--${newId}`;\n    }\n\n    if (this.canFullScreen) {\n      window.addEventListener(\"resize\", this._resizeListener);\n      this._fullScreenButton.addEventListener(\"click\", () =>\n        this._toggleFullScreen(true)\n      );\n      this._expandButton.addEventListener('click', () => {\n        this._expandUnpressed = false;\n        if (this.classList.contains('rh-table--expanded-vertically')) {\n          this.classList.remove('rh-table--expanded-vertically');\n        }\n        else {\n          this.classList.add('rh-table--expanded-vertically');\n        }\n        this._checkForScroll();\n      });\n    }\n\n    // Get the docLang if it wasn't set and the doc has one\n    if (\n      !this.docLang &&\n      document &&\n      document.documentElement &&\n      document.documentElement.lang\n    ) {\n      this.docLang = document.documentElement.lang.toLowerCase();\n    }\n\n    // Add correct translation for expand text\n    const maximizeTableString = this._getTranslatedString(\"maximizeTable\");\n    if (this._fullScreenButton && maximizeTableString) {\n      this._fullScreenButton.setAttribute(\"title\", maximizeTableString);\n    } else {\n      this.warn(\n        \"Was unable to translate assistive text on maximize table button\"\n      );\n    }\n\n    // Add correct translation for collapse text\n    const closeFullscreenString = this._getTranslatedString(\"closeFullscreen\");\n    if (closeFullscreenString && this._fullScreenCloseButton) {\n      this._fullScreenCloseButton.setAttribute(\"title\", closeFullscreenString);\n    } else {\n      this.warn(\n        \"Was unable to translate assistive text on collapse table button\"\n      );\n    }\n\n    // fullScreenButton.value = `rh-table--${newId}`;\n\n    this._processLightDom();\n\n    // this.addEventListener(RhTable.events.sorted, this._sortedHandler);\n  }\n\n  disconnectedCallback() {\n    // this.removeEventListener(RhTable.events.sorted, this._sortedHandler);\n    this.table.removeEventListener(\"mouseover\", this._rowAndColumnHighlight);\n    window.removeEventListener(\"resize\", this._resizeListener);\n    this._overlay.removeEventListener(\"click\", () =>\n      this._toggleFullScreen(false)\n    );\n    this._fullScreenCloseButton.removeEventListener(\"click\", () =>\n      this._toggleFullScreen(false)\n    );\n  }\n\n  stringToBool(string) {\n    if (string === \"false\" || string === \"f\") {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  /**\n   * Get trnaslated string\n   * @param {string} stringName The index value for the string in this.translations\n   * @returns Translated string\n   */\n  _getTranslatedString(stringName) {\n    if (\n      this.translations[stringName] &&\n      this.translations[stringName][this.docLang]\n    ) {\n      return this.translations[stringName][this.docLang];\n    } else if (\n      this.translations[stringName] &&\n      this.translations[stringName][\"en\"]\n    ) {\n      this.warn(`Could not get translated string for ${stringName}`);\n      return this.translations[stringName][\"en\"];\n    }\n    this.warn(\n      `Could not get translated string for ${stringName}, or english version, docLang is set to ${this.docLang}`\n    );\n  }\n\n  // Process the attribute change\n  // attributeChangedCallback(attr, oldValue, newValue) {\n  //   super.attributeChangedCallback(attr, oldValue, newValue);\n  // }\n\n  _trapFocusInMaximizedTable() {\n    if (this.isFullscreen) {\n    }\n  }\n\n  /**\n   * Keeps a keyboard user from getting outside of the maximzed table overlay\n   */\n  setupFocusTrap() {\n    const queryFirstFocusableElement = this.querySelector(\n      this._focusableElements\n    );\n    const lastFocusableElement = this._fullScreenCloseButton;\n    const firstFocusableElement = queryFirstFocusableElement\n      ? queryFirstFocusableElement\n      : this._fullScreenCloseButton;\n\n    // Set var so we can remove the listener later\n    this._previousFirstFocusableElement = firstFocusableElement;\n    // There is only one focusable element in the maximized table\n    if (firstFocusableElement === lastFocusableElement) {\n      this._focusTrapCallbacks.first = (event) => {\n        if (this.isFullscreen && event.key === \"Tab\") {\n          event.preventDefault();\n          firstFocusableElement.focus();\n        }\n      };\n      firstFocusableElement.addEventListener(\n        \"keydown\",\n        this._focusTrapCallbacks.first\n      );\n\n      this._focusTrapCallbacks.last = null;\n    } else {\n      // Setup first focusable element\n      this._focusTrapCallbacks.first = (event) => {\n        if (this.isFullscreen && event.key === \"Tab\" && event.shiftKey) {\n          event.preventDefault();\n          lastFocusableElement.focus();\n        }\n      };\n      firstFocusableElement.addEventListener(\n        \"keydown\",\n        this._focusTrapCallbacks.first\n      );\n\n      // Setup last focusable element\n      this._focusTrapCallbacks.last = (event) => {\n        if (this.isFullscreen && event.key === \"Tab\" && !event.shiftKey) {\n          event.preventDefault();\n          firstFocusableElement.focus();\n        }\n      };\n      lastFocusableElement.addEventListener(\n        \"keydown\",\n        this._focusTrapCallbacks.last\n      );\n    }\n  }\n\n  /**\n   * Remove event listeners for focus trap\n   */\n  removeFocusTrap() {\n    if (this._previousFirstFocusableElement && this._focusTrapCallbacks.first) {\n      this._previousFirstFocusableElement.removeEventListener(\n        \"keydown\",\n        this._focusTrapCallbacks.first\n      );\n    }\n    if (this._fullScreenCloseButton && this._focusTrapCallbacks.last) {\n      this._fullScreenCloseButton.removeEventListener(\n        \"keydown\",\n        this._focusTrapCallbacks.last\n      );\n    }\n  }\n\n  /**\n   * Catch when the URL has changed and close the full screen table if content isn't contained\n   */\n  _popstateListener() {\n    // Figure out if the URL update has a hash\n    if (location.hash) {\n      // If it does and the referenced element isn't in this table, close full screen\n      if (!this.querySelector(location.hash)) {\n        this._toggleFullScreen(false);\n      }\n    }\n  }\n\n  /**\n   * Open or close the full screen mode of the table\n   * @param {boolean} setToFullscreen Desired state\n   */\n  _toggleFullScreen(setToFullscreen) {\n    // Maximize table\n    if (setToFullscreen) {\n      // Make sure page layout doesn't change when table gets removed from document flow\n      this.style.height = `${this.offsetHeight}px`;\n      // @todo Retire non-BEM class\n      this.classList.add(\"full-screen\", \"rh-table--full-screen\");\n      document.body.classList.add(\"rh-table--is-full-screen\");\n      this._shadowWrapper.classList.add(\"table-full-screen\");\n      this._overlay.hidden = false;\n      window.addEventListener(\"keydown\", this._handleEscPress, true);\n      this.table.focus();\n      this.isFullscreen = true;\n      this.setupFocusTrap();\n      // Listener that closes full screen if a link outside of the table is clicked\n      window.addEventListener('popstate', this._popstateListener);\n    }\n    // Restore table to original size\n    else {\n      this.removeAttribute(\"style\");\n      // @todo Retire non-BEM class\n      this.classList.remove(\"full-screen\", \"rh-table--full-screen\");\n      document.body.classList.remove(\"rh-table--is-full-screen\");\n      this._shadowWrapper.classList.remove(\"table-full-screen\");\n      this._overlay.hidden = true;\n      window.removeEventListener(\"keydown\", this._handleEscPress, true);\n      this.removeFocusTrap();\n      window.removeEventListener('popstate', this._popstateListener);\n      this.isFullscreen = false;\n    }\n  }\n\n  /**\n   * Handle keyboard inputs\n   * @param {object} event Event object from event listener\n   */\n  _handleEscPress(event) {\n    if (event.defaultPrevented) {\n      return; // Do nothing if the event was already processed\n    }\n    switch (event.key) {\n      case \"Esc\": // IE/Edge specific value\n      case \"Escape\":\n        // check to see if table is full screen\n        if (this.isFullscreen) {\n          // if it is, close it\n          this._toggleFullScreen(false);\n        }\n        break;\n      default:\n        return; // Quit when this doesn't handle the key event.\n    }\n    // Cancel the default action to avoid it being handled twice\n    event.preventDefault();\n  }\n\n  /**\n   * Sort the data based on column heading\n   * @param {object} event Event object from event listener\n   */\n  _sortData(event) {\n    const thisCell = event.target.closest(\"td, th\");\n    let row, col;\n    if (thisCell) {\n      row = thisCell.dataset.row - 1;\n      col = thisCell.dataset.col - 1;\n    } else {\n      console.warn(\"Wasn't able to get column information to sort\");\n      return;\n    }\n\n    // check to see if this is re-sorting a row/col that has been sorted\n    // already to swap the direction of the values if it has\n    if (this.lastSortCol === col && this.sortOrder === \"az\") {\n      this.sortOrder = \"za\";\n    } else {\n      this.sortOrder = \"az\";\n    }\n    thisCell.classList.add(`sort-${this.sortOrder}`);\n    this.lastSortCol = col;\n\n    function checkIfLetters(value) {\n      const regex = RegExp(\"^d\");\n      return regex.test(value);\n    }\n    let sortedData;\n\n    if (this.sortOrder === \"az\") {\n      sortedData = this.tableSortValues.sort((a, b) => {\n        let aParam = a[col].innerText;\n        let bParam = b[col].innerText;\n        const aIsLetters = checkIfLetters(aParam);\n        const bIsLetters = checkIfLetters(bParam);\n        if (typeof aParam === \"string\" && aIsLetters && bIsLetters) {\n          aParam = aParam.toUpperCase(); // ignore upper and lowercase\n          bParam = bParam.toUpperCase(); // ignore upper and lowercase\n        }\n\n        if (aParam < bParam) {\n          return -1;\n        }\n        if (aParam > bParam) {\n          return 1;\n        }\n        // names must be equal\n        return 0;\n      });\n    } else if (this.sortOrder === \"za\") {\n      sortedData = this.tableSortValues.sort(function (a, b) {\n        let aParam = a[col].innerText;\n        let bParam = b[col].innerText;\n\n        const aIsLetters = checkIfLetters(aParam);\n        const bIsLetters = checkIfLetters(bParam);\n        if (typeof aParam === \"string\" && aIsLetters && bIsLetters) {\n          aParam = aParam.toUpperCase(); // ignore upper and lowercase\n          bParam = bParam.toUpperCase(); // ignore upper and lowercase\n        }\n\n        if (aParam < bParam) {\n          return 1;\n        }\n        if (aParam > bParam) {\n          return -1;\n        }\n        // names must be equal\n        return 0;\n      });\n    }\n\n    // wrapper for the rows\n    const wrapper = document.createElement(\"tbody\");\n\n    for (let rowIndex = 0; rowIndex < sortedData.length; rowIndex++) {\n      // make a new row to insert the cells\n      const rowWrapper = document.createElement(\"tr\");\n      const originalRow = sortedData[rowIndex][0].initialRow;\n      let rowData = Object.values(this.tableCellValues[originalRow]);\n      rowWrapper.append(...rowData);\n      wrapper.appendChild(rowWrapper);\n    }\n\n    // Update DOM state (classes, aria, etc)\n    if (this.sortOrder) {\n      const ariaSortedValue =\n        this.sortOrder === \"az\" ? \"descending\" : \"ascending\";\n      thisCell.setAttribute(\"aria-sort\", ariaSortedValue);\n\n      // Remove sorted-by on old headings\n      const sortedByHeadings = this.table.querySelectorAll(\n        \".rh-table__header--sorted-by\"\n      );\n      for (let index = 0; index < sortedByHeadings.length; index++) {\n        const sortedByHeading = sortedByHeadings[index];\n        sortedByHeading.classList.remove(\n          \"rh-table__header--sorted-by\",\n          \"rh-table__header--sorted-by--az\",\n          \"rh-table__header--sorted-by--za\"\n        );\n        sortedByHeading.removeAttribute(\"aria-sort\");\n      }\n\n      // Add it to our new cell\n      thisCell.classList.add(\"rh-table__header--sorted-by\");\n      const sortButton = thisCell.querySelector(\".rh-table__sort-button\");\n      let sortText;\n      switch (ariaSortedValue) {\n        case \"descending\":\n          sortText = this._getTranslatedString(\"sortAscending\");\n          if (sortButton && sortText)\n            sortButton.setAttribute(\"title\", sortText);\n          thisCell.classList.add(\"rh-table__header--sorted-by--za\");\n          break;\n        case \"ascending\":\n          sortText = sortText = this._getTranslatedString(\"sortDescending\");\n          if (sortButton && sortText)\n            sortButton.setAttribute(\"title\", sortText);\n          thisCell.classList.add(\"rh-table__header--sorted-by--az\");\n          break;\n      }\n    }\n\n    const tbody = this.querySelector(\"tbody\");\n    tbody.parentElement.replaceChild(wrapper, tbody);\n  }\n\n  /**\n   * Get the CSSSTyleSheet object by HTML Element's ID\n   * @param {string} stylesheetId HTML id of stylesheet element inDOM\n   * @returns {CSSStyleSheet} The CSSStyleSheet object associated with the HTML Element\n   */\n  _getCSSStyleSheetById(stylesheetId) {\n    const styleElement = this.querySelector(`#${stylesheetId}`);\n    if (styleElement && styleElement.sheet) {\n      return styleElement.sheet;\n    }\n  }\n\n  /**\n   * Removes all style rules from provided stylesheet\n   * @param {CSSSTyleSheet} stylesheet\n   */\n  _deleteAllRules(stylesheet) {\n    // Get rid of old styles\n    // Tried using a for loop, wasn't successful\n    while (stylesheet.cssRules.length > 0) {\n      stylesheet.deleteRule(0);\n    }\n  }\n\n  /**\n   * Function to highlight row, column, and currently hovered cell\n   * Uses the CSSOM to add styles instead of doing a bunch of DOM Updates\n   * @param {object} event Event object from event listener\n   */\n  _rowAndColumnHighlight(event) {\n    // Get the nearest table cell\n    let thisCell = event.target;\n    if (thisCell.tagName !== \"th\" || thisCell.tagName !== \"td\") {\n      thisCell = thisCell.closest(\"th, td\");\n    }\n    if (!thisCell) return;\n\n    // Get coordinates and add hover behavior\n    const row = thisCell.dataset.row;\n    const col = thisCell.dataset.col;\n    if (event.target && row && col) {\n      // If we're on the same cell as last time this was run we can avoid extra work\n      if ([row, col] === this.hovered.hoveredCoordinates) {\n        return;\n      }\n\n      this.hovered.hoveredCoordinates = [row, col];\n\n      if (this.hovered.checkInterval) {\n        clearInterval(this.hovered.checkInterval);\n      }\n\n      if (!this.hovered.styleElement) {\n        this.hovered.styleElement = document.createElement(\"style\");\n        this.hovered.styleElement.id = `hoverStyles--${this.dataset.id}`;\n        this.append(this.hovered.styleElement);\n        this.hovered.styleSheet = this._getCSSStyleSheetById(\n          this.hovered.styleElement.id\n        );\n      }\n\n      // Remove all previous styles\n      this._deleteAllRules(this.hovered.styleSheet);\n      // @todo Don't like hardcoding fallback colors in JS, not sure what a better option is though\n      const colHover = `#${this.id} [data-col=\"${col}\"] {\n          background: var(--rh-table--hoveredCol--Background, #EFF7FC);\n        }`;\n      const rowHover = `#${this.id} [data-row=\"${row}\"] {\n          background: var(--rh-table--hoveredRow--Background, #F3F3F3);\n        }`;\n      const intersectionHover = `#${this.id} [data-col=\"${col}\"][data-row=\"${row}\"] {\n          background: var(--rh-table--hoveredIntersection--Background, #E0EDF4)\n        }`;\n\n      // Add styles\n      this.hovered.styleSheet.insertRule(colHover, 0);\n      this.hovered.styleSheet.insertRule(rowHover, 1);\n      this.hovered.styleSheet.insertRule(intersectionHover, 2);\n\n      /**\n       * Remove row/col highlight if element is no longer hovered over\n       */\n      const hoverCheck = () => {\n        // Uses CSS pseudo state to see what element is currently hovered\n        const isHovered =\n          thisCell ===\n          thisCell.parentElement.querySelector(`[data-col=\"${col}\"]:hover`);\n        if (!isHovered) {\n          this._deleteAllRules(this.hovered.styleSheet);\n          this.hovered.hoveredCoordinates = null;\n          clearInterval(this.hovered.checkInterval);\n        }\n      };\n      this.hovered.checkInterval = setInterval(hoverCheck, 500);\n    }\n  }\n\n  /**\n   * Check to see if table scrolls, if so show/enable full screen functionality\n   */\n  _checkForScroll() {\n    const hasVerticalScroll = this._shadowWrapper.scrollHeight > this._shadowWrapper.clientHeight;\n    const hasHorizontalScroll = this._shadowWrapper.scrollWidth > this._shadowWrapper.clientWidth;\n    if (\n      this.table &&\n      this._shadowWrapper &&\n      hasVerticalScroll || hasHorizontalScroll\n    ) {\n      this.style.setProperty('--rh-table--scrollbar--width', `${this._shadowWrapper.offsetWidth - this._shadowWrapper.clientWidth}px`);\n      // Respects full screen option preference and minimize DOM changes\n      if (this.canFullScreen) {\n        if (this._fullScreenButton.hidden) this._fullScreenButton.hidden = false;\n        if (this._expandButton.hidden && hasVerticalScroll) this._expandButton.hidden = false;\n      }\n      // Check for attribute to minimize DOM changes\n      if (!this._shadowWrapper.hasAttribute('tabindex')) {\n        this._shadowWrapper.setAttribute('tabindex', '0');\n      }\n    } else {\n      // Don't hide expand and fullscreen if table can be un-expanded\n      if (this._expandUnpressed) {\n        // Check for attribute to minimize DOM changes\n        if (!this._fullScreenButton.hidden) this._fullScreenButton.hidden = true;\n        if (!this._expandButton.hidden) this._expandButton.hidden = true;\n      }\n      // Check for attribute to minimize DOM changes\n      if (this._shadowWrapper.hasAttribute('tabindex')) {\n        this._shadowWrapper.removeAttribute('tabindex');\n      }\n    }\n  }\n\n  /**\n   * Add HTML and behaviors necessary for sort\n   * @param {HTMLElement} columnHeader Sortable column header\n   */\n  _processSortableColumn(columnHeader) {\n    // Quick exit if it's been processed\n    if (columnHeader.classList.contains(\"sortable--processed\")) {\n      return;\n    }\n\n    const sortButton = this._sortButtonBoilerplate.cloneNode(\"true\");\n\n    // Remove hidden which is on the boilerplate\n    sortButton.hidden = false;\n\n    // Move any nodes (text node or Element) into the sort button\n    for (let index = 0; index < columnHeader.childNodes.length; index++) {\n      const childNode = columnHeader.childNodes[index];\n      sortButton.prepend(childNode);\n    }\n\n    // Add proper assistive text to the sort button\n    const sortText = this._getTranslatedString(\"sortDescending\");\n    if (sortButton && sortText) {\n      sortButton.setAttribute(\"title\", sortText);\n    }\n\n    // Add sort button to DOM and update column header\n    columnHeader.append(sortButton);\n    columnHeader.classList.add(\"sortable\");\n\n    sortButton.addEventListener(\"click\", this._sortData);\n\n    // Add our init class so we don't re-init\n    columnHeader.classList.add(\"sortable--processed\");\n  }\n\n  /**\n   * Get the table's data and update table's html\n   * Makes a copy of the table, enhance the copy, gets the data for sorting\n   */\n  _processLightDom() {\n    if (this.table && !this.classList.contains(\"rh-table--processed\")) {\n      //--------------------------------------------------\n      // Begin best time to manipulate the table's markup\n      // Modify elements when they're in not in the DOM yet\n      //--------------------------------------------------\n\n      const newTable = this.table.cloneNode(true);\n      this.tableSortValues = [];\n\n      // Set data attributes for column and row index\n      // Iterate over rows\n      const tableRows = newTable.querySelectorAll(\"tr\");\n      for (let rowIndex = 0; rowIndex < tableRows.length; rowIndex++) {\n        // @todo Handle row/col spanning\n        // Iterate over cells in each row\n        const tableRow = tableRows[rowIndex];\n        const tableCells = tableRow.querySelectorAll(\"td, th\");\n\n        let tableRowValues = [];\n        // if the table is sortable, this adds the rows to an object for sorting\n        if (this.sortable) {\n          this.tableCellValues[rowIndex] = Array.from(tableCells);\n        }\n        for (let colIndex = 0; colIndex < tableCells.length; colIndex++) {\n          const tableCell = tableCells[colIndex];\n\n          // Set col & row metadata\n          tableCell.dataset.row = rowIndex + 1;\n          tableCell.dataset.col = colIndex + 1;\n\n          if (tableCell.innerText.length > 75) {\n            tableCell.classList.add(\"content--lg\");\n          } else if (tableCell.innerText.length > 30) {\n            tableCell.classList.add(\"content--md\");\n          } else {\n            tableCell.classList.add(\"content--sm\");\n          }\n\n          // If the table isn't sortable, don't bother pulling any of the data for sorting\n          if (this.sortable) {\n            const sortableCols = this.sortable.split(\",\");\n\n            if (\n              rowIndex === 0 &&\n              sortableCols.includes((colIndex + 1).toString())\n            ) {\n              this._processSortableColumn(tableCell);\n            }\n\n            tableRowValues.push({\n              initialCol: colIndex,\n              initialRow: rowIndex,\n              innerText: tableCell.innerText.trim(),\n            });\n\n            // dump every cell into an object for lookup when sorting\n            this.tableCellValues[rowIndex][colIndex] = tableCell;\n          }\n        }\n        if (this.sortable) {\n          if (rowIndex !== 0) {\n            this.tableSortValues.push(tableRowValues);\n          }\n        }\n      }\n\n      //--------------------------------------------------\n      // End best time to manipulate the table's markup\n      //--------------------------------------------------\n      this.replaceChild(newTable, this.table);\n      this.table = newTable;\n\n      if (this.table) {\n        this._sortHeadings = this.table.querySelectorAll(\".sort-button\");\n      }\n\n      // Setup row/col hover effects\n      this.table.addEventListener(\"mouseover\", this._rowAndColumnHighlight);\n      this._checkForScroll();\n      this.classList.add(\"rh-table--processed\");\n    }\n  }\n\n  // _sortedHandler(event) {\n  //   this.emitEvent(RhTable.events.sorted, {\n  //     detail: {},\n  //   });\n  // }\n}\n\nPFElement.create(RhTable);\n\nexport default RhTable;\n"],"names":[],"mappings":"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"}