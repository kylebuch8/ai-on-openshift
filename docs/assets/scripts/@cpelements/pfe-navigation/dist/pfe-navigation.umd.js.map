{"version":3,"file":"pfe-navigation.umd.js","sources":["../_temp/pfe-navigation.umd.js"],"sourcesContent":["/*!\n * PatternFly Elements: PfeNavigation 1.0.127\n * @license\n * Copyright 2020 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\nimport PFElement from \"../../../@patternfly/pfelement/dist/pfelement.umd\";\nimport \"../../../@patternfly/pfe-icon/dist/pfe-icon.umd\";\nimport \"../../../@patternfly/pfe-avatar/dist/pfe-avatar.umd\";\n\n/**\n * Figures out if string starts with certain characters\n * @note Removing need for startsWithPolyfill, which may be causing issues with Solutions Engine\n * @param {string} haystack String to search in\n * @param {string} needle What we're checking for\n * @return {boolean}\n */\nfunction stringStartsWith(haystack, needle) {\n  return haystack.substring(0, needle.length) === needle;\n}\n\n/**\n * Debounce helper function\n * @see https://davidwalsh.name/javascript-debounce-function\n *\n * @param {function} func Function to be debounced\n * @param {number} delay How long until it will be run\n * @param {boolean} immediate Whether it should be run at the start instead of the end of the debounce\n */\nfunction debounce(func, delay, immediate = false) {\n  var timeout;\n  return function () {\n    var context = this,\n      args = arguments;\n    var later = function () {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, delay);\n    if (callNow) func.apply(context, args);\n  };\n}\n\nconst _isCrustyBrowser = () => window.ShadyCSS && !window.ShadyCSS.nativeShadow;\n\n// Config for mutation observer to see if things change inside of the component\nconst lightDomObserverConfig = {\n  characterData: true,\n  attributes: true,\n  subtree: true,\n  childList: true,\n};\n\n/**\n * Utiility function to merge objects and know if data was changed\n * @param {object} source Object to merge into\n * @param {object} update New data that can override source\n */\nfunction mergeObjectData(source, update) {\n  const updateKeys = Object.keys(update);\n  updateKeys.forEach((key) => {\n    if (!key in source || source[key] !== update[key]) {\n      source[key] = update[key];\n    }\n  });\n}\n\nclass PfeNavigation extends PFElement {\n  static get version() {\n    return \"1.0.127\";\n  }\n\n  get html() {\n    return `<style>.element-invisible,.sr-only,.visually-hidden{position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}*,:after,:before{box-sizing:border-box}:host{display:block;position:relative;z-index:95;z-index:95;z-index:var(--pfe-theme--zindex--navigation,95)}:host([hidden]){display:none}[hidden]{display:none!important}nav.pfe-navigation{display:flex;align-items:stretch}.pfe-navigation__overlay{display:block;background:rgba(21,21,21,.5);background:rgba(21,21,21,.5);background:var(--pfe-navigation--overlay--Background,rgba(21,21,21,.5));position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1}.pfe-navigation__overlay[hidden]{display:none}.pfe-navigation__wrapper{position:relative;z-index:95;z-index:95;z-index:var(--pfe-navigation--ZIndex,var(--pfe-theme--zindex--navigation,95));display:flex;align-items:stretch;height:72px;height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);font-size:1rem;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);line-height:1.5;font-family:Red Hat Text,RedHatText,Arial,Helvetica,sans-serif;font-family:Red Hat Text,RedHatText,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamily,Red Hat Text,RedHatText,Arial,Helvetica,sans-serif);color:#fff;color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));background:#151515;background:#151515;background:var(--pfe-navigation__nav-bar--Background,#151515);max-width:9999em;margin:0;padding:0 16px;transition:opacity .1s linear}@media (min-width:768px){.pfe-navigation__wrapper{max-width:9999em;margin:0;padding:0 16px}}@media (min-width:1200px){.pfe-navigation__wrapper{margin:0 auto;padding:0 32px}}.pfe-navigation--collapse-main-menu .pfe-navigation__wrapper,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__wrapper{max-width:9999em;margin:0;padding:0 16px}.pfe-navigation--collapse-secondary-links .pfe-navigation__wrapper,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__wrapper{max-width:9999em;margin:0;padding:0 16px}.pfe-navigation__wrapper a{text-decoration:none}.pfe-navigation__wrapper button{font-family:inherit}.pfe-navigation__wrapper.pfe-navigation--is-resizing{opacity:0}.pfe-navigation__logo-wrapper{display:flex;align-items:center;justify-content:flex-start;margin:0;padding:10px 16px 10px 0}@media (min-width:768px){.pfe-navigation--no-main-menu .pfe-navigation__logo-wrapper{margin-right:auto}}.pfe-navigation--collapse-secondary-links .pfe-navigation--no-main-menu .pfe-navigation__logo-wrapper,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation--no-main-menu .pfe-navigation__logo-wrapper{margin-right:0}.pfe-navigation__logo-link{position:relative;display:block;padding:6px 8px;margin-left:-8px;outline:0;border-radius:3px}.pfe-navigation__logo-link:focus{outline:0}.pfe-navigation__logo-link:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed #fff}.pfe-navigation__logo-image,.pfe-navigation__logo-link img,.pfe-navigation__logo-link svg{display:block;width:100%;height:auto}@media (min-width:576px){.pfe-navigation__logo-image,.pfe-navigation__logo-link img,.pfe-navigation__logo-link svg{width:auto;height:40px;height:40px;height:var(--pfe-navigation__logo--height,40px)}}@media print{.pfe-navigation__logo-image,.pfe-navigation__logo-link img,.pfe-navigation__logo-link svg{display:none}}.pfe-navigation__logo-image:only-child,.pfe-navigation__logo-link img:only-child,.pfe-navigation__logo-link svg:only-child{display:block}@media (min-width:576px){.pfe-navigation__logo-image.pfe-navigation__logo-image--small,.pfe-navigation__logo-link img.pfe-navigation__logo-image--small,.pfe-navigation__logo-link svg.pfe-navigation__logo-image--small{height:32px;height:32px;height:var(--pfe-navigation__logo--height,32px)}}@media print{.pfe-navigation__logo-image.pfe-navigation__logo-image--screen,.pfe-navigation__logo-link img.pfe-navigation__logo-image--screen,.pfe-navigation__logo-link svg.pfe-navigation__logo-image--screen{display:none!important}}@media screen{.pfe-navigation__logo-image.pfe-navigation__logo-image--print,.pfe-navigation__logo-link img.pfe-navigation__logo-image--print,.pfe-navigation__logo-link svg.pfe-navigation__logo-image--print{display:none!important}}.pfe-navigation__logo-image.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print,.pfe-navigation__logo-link img.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print,.pfe-navigation__logo-link svg.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print{display:inline-block!important}.pfe-navigation__account-toggle,.pfe-navigation__log-in-link,.pfe-navigation__menu-toggle,.pfe-navigation__search-toggle{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color, var(--pfe-theme--color--link, #06c));position:relative;display:flex;align-items:center;width:100%;margin:0;padding:8px 24px;border:0;white-space:nowrap;font-family:inherit;font-size:1rem;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);color:#06c;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));text-align:center;text-decoration:none;background:0 0;outline:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;justify-content:flex-start}@media print{.pfe-navigation__account-toggle,.pfe-navigation__log-in-link,.pfe-navigation__menu-toggle,.pfe-navigation__search-toggle{display:none!important}}@media (min-width:768px){.pfe-navigation__account-toggle,.pfe-navigation__log-in-link,.pfe-navigation__menu-toggle,.pfe-navigation__search-toggle{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default, var(--pfe-theme--color--ui-base--text, #fff));display:flex;flex-direction:column;justify-content:flex-end;width:auto;height:72px;height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);padding:14px 8px;font-size:12px;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);color:#fff;color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff))}@supports (display:grid){.pfe-navigation__account-toggle,.pfe-navigation__log-in-link,.pfe-navigation__menu-toggle,.pfe-navigation__search-toggle{display:grid;grid-template-rows:26px 18px;align-items:center;justify-items:center}}.pfe-navigation__account-toggle[class]:focus,.pfe-navigation__account-toggle[class]:hover,.pfe-navigation__log-in-link[class]:focus,.pfe-navigation__log-in-link[class]:hover,.pfe-navigation__menu-toggle[class]:focus,.pfe-navigation__menu-toggle[class]:hover,.pfe-navigation__search-toggle[class]:focus,.pfe-navigation__search-toggle[class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation__account-toggle:focus,.pfe-navigation__account-toggle:hover,.pfe-navigation__log-in-link:focus,.pfe-navigation__log-in-link:hover,.pfe-navigation__menu-toggle:focus,.pfe-navigation__menu-toggle:hover,.pfe-navigation__search-toggle:focus,.pfe-navigation__search-toggle:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:768px){.pfe-navigation__account-toggle:focus,.pfe-navigation__account-toggle:hover,.pfe-navigation__log-in-link:focus,.pfe-navigation__log-in-link:hover,.pfe-navigation__menu-toggle:focus,.pfe-navigation__menu-toggle:hover,.pfe-navigation__search-toggle:focus,.pfe-navigation__search-toggle:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation--collapse-secondary-links .pfe-navigation__account-toggle:focus,.pfe-navigation--collapse-secondary-links .pfe-navigation__account-toggle:hover,.pfe-navigation--collapse-secondary-links .pfe-navigation__log-in-link:focus,.pfe-navigation--collapse-secondary-links .pfe-navigation__log-in-link:hover,.pfe-navigation--collapse-secondary-links .pfe-navigation__menu-toggle:focus,.pfe-navigation--collapse-secondary-links .pfe-navigation__menu-toggle:hover,.pfe-navigation--collapse-secondary-links .pfe-navigation__search-toggle:focus,.pfe-navigation--collapse-secondary-links .pfe-navigation__search-toggle:hover,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__account-toggle:focus,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__account-toggle:hover,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__log-in-link:focus,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__log-in-link:hover,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__menu-toggle:focus,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__menu-toggle:hover,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__search-toggle:focus,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__search-toggle:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}.pfe-navigation__account-toggle:focus,.pfe-navigation__log-in-link:focus,.pfe-navigation__menu-toggle:focus,.pfe-navigation__search-toggle:focus{outline:0}.pfe-navigation__account-toggle:focus:after,.pfe-navigation__log-in-link:focus:after,.pfe-navigation__menu-toggle:focus:after,.pfe-navigation__search-toggle:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}.pfe-navigation__account-toggle pfe-icon,.pfe-navigation__log-in-link pfe-icon,.pfe-navigation__menu-toggle pfe-icon,.pfe-navigation__search-toggle pfe-icon{pointer-events:none}.pfe-navigation__account-toggle .secondary-link__icon-wrapper,.pfe-navigation__account-toggle>pfe-icon,.pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation__log-in-link>pfe-icon,.pfe-navigation__menu-toggle .secondary-link__icon-wrapper,.pfe-navigation__menu-toggle>pfe-icon,.pfe-navigation__search-toggle .secondary-link__icon-wrapper,.pfe-navigation__search-toggle>pfe-icon{--pfe-icon--size:18px;padding-right:5px}@media (min-width:768px){.pfe-navigation__account-toggle .secondary-link__icon-wrapper,.pfe-navigation__account-toggle>pfe-icon,.pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation__log-in-link>pfe-icon,.pfe-navigation__menu-toggle .secondary-link__icon-wrapper,.pfe-navigation__menu-toggle>pfe-icon,.pfe-navigation__search-toggle .secondary-link__icon-wrapper,.pfe-navigation__search-toggle>pfe-icon{padding-right:0}}@media (min-width:768px){.pfe-navigation__account-toggle .secondary-link__icon-wrapper,.pfe-navigation__account-toggle>pfe-icon,.pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation__log-in-link>pfe-icon,.pfe-navigation__menu-toggle .secondary-link__icon-wrapper,.pfe-navigation__menu-toggle>pfe-icon,.pfe-navigation__search-toggle .secondary-link__icon-wrapper,.pfe-navigation__search-toggle>pfe-icon{padding:2px 0 4px}}.pfe-navigation--collapse-secondary-links .pfe-navigation__account-toggle .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links .pfe-navigation__account-toggle>pfe-icon,.pfe-navigation--collapse-secondary-links .pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links .pfe-navigation__log-in-link>pfe-icon,.pfe-navigation--collapse-secondary-links .pfe-navigation__menu-toggle .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links .pfe-navigation__menu-toggle>pfe-icon,.pfe-navigation--collapse-secondary-links .pfe-navigation__search-toggle .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links .pfe-navigation__search-toggle>pfe-icon,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__account-toggle .secondary-link__icon-wrapper,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__account-toggle>pfe-icon,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__log-in-link .secondary-link__icon-wrapper,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__log-in-link>pfe-icon,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__menu-toggle .secondary-link__icon-wrapper,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__menu-toggle>pfe-icon,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__search-toggle .secondary-link__icon-wrapper,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__search-toggle>pfe-icon{padding:0 16px 0 0}.pfe-navigation__account-toggle pfe-icon,.pfe-navigation__log-in-link pfe-icon,.pfe-navigation__menu-toggle pfe-icon,.pfe-navigation__search-toggle pfe-icon{display:block;height:18px}.pfe-navigation__menu-toggle[class]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default, var(--pfe-theme--color--ui-base--text, #fff));display:flex;flex-direction:column;justify-content:flex-end;width:auto;height:72px;height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);padding:14px 8px;font-size:12px;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);color:#fff;color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;margin:0 0 0 auto;box-shadow:none;position:relative;min-width:50px}@supports (display:grid){.pfe-navigation__menu-toggle[class]{display:grid;grid-template-rows:26px 18px;align-items:center;justify-items:center}}.pfe-navigation__menu-toggle[class][class]:focus,.pfe-navigation__menu-toggle[class][class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}.pfe-navigation__menu-toggle[class][class]{background:0 0;color:#fff;color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff))}.pfe-navigation__menu-toggle[class]:focus{outline:0}.pfe-navigation__menu-toggle[class]:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}@media (min-width:768px){.pfe-navigation__menu-toggle[class]{display:flex;margin:0 auto 0 0}.pfe-navigation--no-main-menu .pfe-navigation__menu-toggle[class]{display:none}}@media (min-width:1200px){.pfe-navigation__menu-toggle[class]{display:none}}.pfe-navigation--collapse-main-menu .pfe-navigation__menu-toggle[class],:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-toggle[class]{display:flex;margin:0 auto 0 0}.pfe-navigation--no-main-menu .pfe-navigation--collapse-main-menu .pfe-navigation__menu-toggle[class],.pfe-navigation--no-main-menu :host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-toggle[class]{display:none}.pfe-navigation--collapse-secondary-links .pfe-navigation__menu-toggle[class],:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__menu-toggle[class]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default, var(--pfe-theme--color--ui-base--text, #fff));display:flex;flex-direction:column;justify-content:flex-end;width:auto;height:72px;height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);padding:14px 8px;font-size:12px;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);color:#fff;color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;margin:0 0 0 auto}@supports (display:grid){.pfe-navigation--collapse-secondary-links .pfe-navigation__menu-toggle[class],:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__menu-toggle[class]{display:grid;grid-template-rows:26px 18px;align-items:center;justify-items:center}}.pfe-navigation--collapse-secondary-links .pfe-navigation__menu-toggle[class][class]:focus,.pfe-navigation--collapse-secondary-links .pfe-navigation__menu-toggle[class][class]:hover,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__menu-toggle[class][class]:focus,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__menu-toggle[class][class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}[open-toggle=mobile__button] .pfe-navigation__menu-toggle[class][class],[open-toggle^=main-menu__] .pfe-navigation__menu-toggle[class][class]{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}[open-toggle=mobile__button] .pfe-navigation__menu-toggle[class][class][class],[open-toggle^=main-menu__] .pfe-navigation__menu-toggle[class][class][class]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active, var(--pfe-theme--color--text, #151515));color:#151515;color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff))}[open-toggle=mobile__button] .pfe-navigation__menu-toggle[class][class]:focus,[open-toggle^=main-menu__] .pfe-navigation__menu-toggle[class][class]:focus{outline:0}[open-toggle=mobile__button] .pfe-navigation__menu-toggle[class][class]:focus:after,[open-toggle^=main-menu__] .pfe-navigation__menu-toggle[class][class]:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}[open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class],[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}[open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class][class],[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class][class]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active, var(--pfe-theme--color--text, #151515));color:#151515;color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff))}[open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class]:focus,[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]:focus{outline:0}[open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class]:focus:after,[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}@media (min-width:768px){[open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class],[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]{box-shadow:none}[open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class][class],[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class][class]{background:0 0;color:#fff;color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff))}[open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class]:focus,[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]:focus{outline:0}[open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class]:focus:after,[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}}.pfe-navigation--collapse-secondary-links [open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class],.pfe-navigation--collapse-secondary-links [open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class],:host(.pfe-navigation--collapse-secondary-links) [open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class],:host(.pfe-navigation--collapse-secondary-links) [open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}.pfe-navigation--collapse-secondary-links [open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class][class],.pfe-navigation--collapse-secondary-links [open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class][class],:host(.pfe-navigation--collapse-secondary-links) [open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class][class],:host(.pfe-navigation--collapse-secondary-links) [open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class][class]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active, var(--pfe-theme--color--text, #151515));color:#151515;color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff))}.pfe-navigation--collapse-secondary-links [open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class]:focus,.pfe-navigation--collapse-secondary-links [open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]:focus,:host(.pfe-navigation--collapse-secondary-links) [open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class]:focus,:host(.pfe-navigation--collapse-secondary-links) [open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]:focus{outline:0}.pfe-navigation--collapse-secondary-links [open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class]:focus:after,.pfe-navigation--collapse-secondary-links [open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]:focus:after,:host(.pfe-navigation--collapse-secondary-links) [open-toggle=secondary-links__button--search] .pfe-navigation__menu-toggle[class]:focus:after,:host(.pfe-navigation--collapse-secondary-links) [open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__menu-toggle[class]:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}.pfe-navigation__burger-icon{position:absolute;top:25px;left:calc(50% - 9px);transform:scale(.25) translateX(1px);transform-origin:left top;transition:transform .3s cubic-bezier(.55,.085,0,.99);backface-visibility:hidden}[aria-expanded=true] .pfe-navigation__burger-icon{transform:scale(.25) translateX(5px);transform-origin:left top}.pfe-navigation__burger-icon:after,.pfe-navigation__burger-icon:before{content:'';position:absolute;top:0;left:0;box-sizing:border-box;display:block;width:72px}.pfe-navigation__burger-icon:before{height:0;border-top:8px solid currentColor;background:currentColor;transform:translateY(-28px);transform-origin:left top;transition:transform .3s cubic-bezier(.55,.085,0,.99)}[aria-expanded=true] .pfe-navigation__burger-icon:before{border-color:currentColor;transform:translateY(-32px) rotate(45deg) scaleX(1) translateX(12px);transform-origin:left top}.pfe-navigation__burger-icon:after{height:36px;border:8px solid currentColor;border-width:8px 0 8px 0;transition:border .3s cubic-bezier(.55,.085,0,.99),transform .3s cubic-bezier(.55,.085,0,.99);transform-origin:left bottom}[aria-expanded=true] .pfe-navigation__burger-icon:after{transform:translateY(4px) rotate(-45deg) scaleX(1) translateX(12px);border-top-color:transparent;border-bottom-color:currentColor;transform-origin:left bottom}[id=mobile__button-text]{display:block;min-width:34px;grid-row:2}.pfe-navigation__mobile-dropdown[class][class][class]{position:absolute;top:100%;left:0;display:none;width:100%;height:calc(100vh - 72px);height:calc(100vh - 72px);height:calc(100vh - var(--pfe-navigation__nav-bar--Height,72px));margin:0;padding:16px 32px;padding:16px 32px;padding:var(--pfe-navigation__mobile-dropdown--PaddingVertical,16px) var(--pfe-navigation__mobile-dropdown--PaddingHorizontal,32px);overflow-x:hidden;overflow-y:auto;background:#fff;background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff))}@media (min-width:768px){.pfe-navigation__mobile-dropdown[class][class][class]{height:auto}}@media (min-width:1200px){.pfe-navigation__mobile-dropdown[class][class][class]{overflow:visible}}.pfe-navigation--collapse-main-menu .pfe-navigation__mobile-dropdown[class][class][class],:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__mobile-dropdown[class][class][class]{overflow-y:auto}.pfe-navigation--collapse-secondary-links .pfe-navigation__mobile-dropdown[class][class][class],:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__mobile-dropdown[class][class][class]{height:calc(100vh - 72px);height:calc(100vh - 72px);height:calc(100vh - var(--pfe-navigation__nav-bar--Height,72px))}[open-toggle=mobile__button] .pfe-navigation__mobile-dropdown[class][class][class],[open-toggle^=main-menu__] .pfe-navigation__mobile-dropdown[class][class][class]{display:flex}[open-toggle=secondary-links__button--search] .pfe-navigation__mobile-dropdown[class][class][class],[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__mobile-dropdown[class][class][class]{display:flex}@media (min-width:768px){[open-toggle=secondary-links__button--search] .pfe-navigation__mobile-dropdown[class][class][class],[open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__mobile-dropdown[class][class][class]{display:none}}.pfe-navigation--collapse-secondary-links [open-toggle=secondary-links__button--search] .pfe-navigation__mobile-dropdown[class][class][class],.pfe-navigation--collapse-secondary-links [open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__mobile-dropdown[class][class][class],:host(.pfe-navigation--collapse-secondary-links) [open-toggle=secondary-links__button--search] .pfe-navigation__mobile-dropdown[class][class][class],:host(.pfe-navigation--collapse-secondary-links) [open-toggle^=pfe-navigation__secondary-link--] .pfe-navigation__mobile-dropdown[class][class][class]{display:flex}:host([pfe-sticky]) .pfe-navigation__mobile-dropdown[class][class][class]{max-height:calc(100vh - 72px);max-height:calc(100vh - 72px);max-height:calc(100vh - var(--pfe-navigation__nav-bar--Height,72px));overflow-y:auto}@media (min-width:1200px){:host([pfe-sticky]) .pfe-navigation__mobile-dropdown[class][class][class]{max-height:9999em;overflow:visible}}.pfe-navigation--collapse-main-menu :host([pfe-sticky]) .pfe-navigation__mobile-dropdown[class][class][class],:host(.pfe-navigation--collapse-main-menu) :host([pfe-sticky]) .pfe-navigation__mobile-dropdown[class][class][class]{max-height:calc(100vh - 72px);max-height:calc(100vh - 72px);max-height:calc(100vh - var(--pfe-navigation__nav-bar--Height,72px));overflow-y:auto}@media (min-width:768px){.pfe-navigation__outer-menu-wrapper,.pfe-navigation__outer-menu-wrapper__inner{display:flex;align-items:stretch}}@media (min-width:1200px){.pfe-navigation__outer-menu-wrapper,.pfe-navigation__outer-menu-wrapper__inner{flex-grow:1}}.pfe-navigation--collapse-main-menu .pfe-navigation__outer-menu-wrapper,.pfe-navigation--collapse-main-menu .pfe-navigation__outer-menu-wrapper__inner,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__outer-menu-wrapper,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__outer-menu-wrapper__inner{flex-grow:0}.pfe-navigation--collapse-secondary-links .pfe-navigation__outer-menu-wrapper,.pfe-navigation--collapse-secondary-links .pfe-navigation__outer-menu-wrapper__inner,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__outer-menu-wrapper,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__outer-menu-wrapper__inner{display:block}.pfe-navigation__outer-menu-wrapper{height:auto}@media (min-width:1200px){.pfe-navigation__outer-menu-wrapper{height:72px;height:72px;height:var(--pfe-navigation__nav-bar--Height,72px)}}.pfe-navigation--collapse-main-menu .pfe-navigation__outer-menu-wrapper,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__outer-menu-wrapper{height:auto}:host(:not([open-toggle])) .pfe-navigation--is-resizing .pfe-navigation__outer-menu-wrapper{overflow:hidden}.pfe-navigation__outer-menu-wrapper__inner{width:100%;opacity:0;transition:transform .25s ease-in-out,opacity .25s 1s linear;transition:transform .25s ease-in-out,opacity .25s 1s linear;transition:transform .25s ease-in-out,opacity .25s var(--pfe-navigation--fade-transition-delay,1s) linear}@media (prefers-reduced-motion){.pfe-navigation__outer-menu-wrapper__inner{transition:opacity .25s 1s linear;transition:opacity .25s 1s linear;transition:opacity .25s var(--pfe-navigation--fade-transition-delay,1s) linear}}:host([breakpoint]) .pfe-navigation--processed .pfe-navigation__outer-menu-wrapper__inner{opacity:1}:host([mobile-slide]) .pfe-navigation__outer-menu-wrapper__inner{position:relative;transform:translate(-100vw)}@media (min-width:768px){:host([mobile-slide]) .pfe-navigation__outer-menu-wrapper__inner{position:static;transform:none}}.pfe-navigation--collapse-secondary-links :host([mobile-slide]) .pfe-navigation__outer-menu-wrapper__inner,:host(.pfe-navigation--collapse-secondary-links) :host([mobile-slide]) .pfe-navigation__outer-menu-wrapper__inner{position:relative;transform:translate(-100vw)}.pfe-navigation__menu-wrapper{display:flex}@media (min-width:1200px){.pfe-navigation__menu-wrapper{margin-right:auto}}.pfe-navigation--collapse-main-menu .pfe-navigation__menu-wrapper,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-wrapper{margin-right:0}.pfe-navigation__menu,.pfe-navigation__menu ul{list-style:none;margin:0;padding:0}.pfe-navigation__menu{width:100%}@media print{.pfe-navigation__menu{display:none!important}}@media (min-width:1200px){.pfe-navigation__menu{display:flex;align-items:stretch;width:auto}}.pfe-navigation--collapse-main-menu .pfe-navigation__menu,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu{display:block;width:100%}.pfe-navigation__menu-item{border-top:1px solid #d2d2d2;border-top:1px solid #d2d2d2;border-top:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2));padding:0;transition:border .5s .25s linear}@media (min-width:1200px){.pfe-navigation__menu-item{display:flex;align-items:stretch;border:none}}.pfe-navigation--collapse-main-menu .pfe-navigation__menu-item,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-item{display:block;border-top:1px solid #d2d2d2;border-top:1px solid #d2d2d2;border-top:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2))}.pfe-navigation__menu-item:last-child{border-bottom:1px solid #d2d2d2;border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2))}@media (min-width:1200px){.pfe-navigation__menu-item:last-child{border:0}}.pfe-navigation--collapse-main-menu .pfe-navigation__menu-item:last-child,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-item:last-child{border-bottom:1px solid #d2d2d2;border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2))}.pfe-navigation__menu-item--open{box-shadow:inset 4px 0 0 0 #06c,0 1px 2px rgba(0,0,0,.12);box-shadow:inset 4px 0 0 0 #06c,0 1px 2px rgba(0,0,0,.12);box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c)),var(--pfe-navigation__dropdown--BoxShadow,0 1px 2px rgba(0,0,0,.12))}@media (min-width:1200px){.pfe-navigation__menu-item--open{box-shadow:none}}.pfe-navigation--collapse-main-menu .pfe-navigation__menu-item--open,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-item--open{box-shadow:inset 4px 0 0 0 #06c,0 1px 2px rgba(0,0,0,.12);box-shadow:inset 4px 0 0 0 #06c,0 1px 2px rgba(0,0,0,.12);box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c)),var(--pfe-navigation__dropdown--BoxShadow,0 1px 2px rgba(0,0,0,.12))}.pfe-navigation__menu-link{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color, var(--pfe-theme--color--link, #06c));position:relative;display:flex;align-items:center;width:100%;margin:0;padding:8px 24px;border:0;white-space:nowrap;font-family:inherit;font-size:1rem;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);color:#06c;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));text-align:center;text-decoration:none;background:0 0;outline:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;justify-content:flex-start;position:relative}@media print{.pfe-navigation__menu-link{display:none!important}}.pfe-navigation__menu-link:focus,.pfe-navigation__menu-link:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:1200px){.pfe-navigation__menu-link:focus,.pfe-navigation__menu-link:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation--collapse-main-menu .pfe-navigation__menu-link:focus,.pfe-navigation--collapse-main-menu .pfe-navigation__menu-link:hover,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-link:focus,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-link:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}.pfe-navigation__menu-link:focus{outline:0}.pfe-navigation__menu-link:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}.pfe-navigation__menu-link pfe-icon{pointer-events:none}.pfe-navigation__menu-link[class]{width:100%;max-height:9999em;padding:16px 24px;font-size:1.25rem;font-size:1.25rem;font-size:var(--pf-global--FontSize--xl,1.25rem);font-weight:500;color:#151515;color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515);background:0 0}@media (min-width:1200px){.pfe-navigation__menu-link[class]{width:auto;max-height:72px;padding:0 11px;font-size:1rem;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);font-weight:400;color:#fff;color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff))}}.pfe-navigation--collapse-main-menu .pfe-navigation__menu-link,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-link{width:100%;max-height:9999em;padding:16px 24px;font-size:1.25rem;font-size:1.25rem;font-size:var(--pf-global--FontSize--xl,1.25rem);font-weight:500;color:#151515;color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515);background:0 0}.pfe-navigation__menu-link--has-dropdown{position:relative}@media (min-width:1200px){.pfe-navigation__menu-link--has-dropdown:focus{outline:0}.pfe-navigation__menu-link--has-dropdown:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}}.pfe-navigation--collapse-main-menu .pfe-navigation__menu-link--has-dropdown:focus,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-link--has-dropdown:focus{box-shadow:none}@media (min-width:1200px){.pfe-navigation__menu-item--open>.pfe-navigation__menu-link--has-dropdown{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active, var(--pfe-theme--color--text, #151515));color:#151515;color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff))}}.pfe-navigation--collapse-main-menu .pfe-navigation__menu-item--open>.pfe-navigation__menu-link--has-dropdown,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-item--open>.pfe-navigation__menu-link--has-dropdown{box-shadow:none;background:0 0}@media (min-width:1200px){.pfe-navigation__menu-item--open>.pfe-navigation__menu-link--has-dropdown:focus{outline:0}.pfe-navigation__menu-item--open>.pfe-navigation__menu-link--has-dropdown:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}}.pfe-navigation__menu-link--has-dropdown:before{position:absolute;top:50%;left:auto;right:24px;display:block;width:11px;height:11px;border:4px solid currentColor;border-bottom:0;border-left:0;transform:translateX(4px) rotate(45deg);transform-origin:right top;transition:transform .25s;content:''}@media (min-width:1200px){.pfe-navigation__menu-link--has-dropdown:before{position:absolute;top:100%;left:50%;right:auto;width:0;height:0;border:4px solid transparent;border-bottom:0;transform:translate(-4px,-14px);transition:none}}.pfe-navigation--collapse-main-menu .pfe-navigation__menu-link--has-dropdown:before,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-link--has-dropdown:before{position:absolute;top:50%;left:auto;right:24px;display:block;width:11px;height:11px;border:4px solid currentColor;border-bottom:0;border-left:0;transform:translateX(4px) rotate(45deg);transform-origin:right top;transition:transform .25s}@media (min-width:1200px){.pfe-navigation__menu-link--has-dropdown:focus:before,.pfe-navigation__menu-link--has-dropdown:hover:before{border-top-color:#6a6e73;border-top-color:#6a6e73;border-top-color:var(--pfe-navigation__dropdown--arrow--color,#6a6e73)}}.pfe-navigation--collapse-main-menu .pfe-navigation__menu-link--has-dropdown:focus:before,.pfe-navigation--collapse-main-menu .pfe-navigation__menu-link--has-dropdown:hover:before,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-link--has-dropdown:focus:before,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-link--has-dropdown:hover:before{position:absolute;top:50%;left:auto;right:24px;display:block;width:11px;height:11px;border:4px solid currentColor;border-bottom:0;border-left:0;transform:translateX(4px) rotate(45deg);transform-origin:right top;transition:transform .25s;border-top-color:#151515;border-top-color:#151515;border-top-color:var(--pfe-navigation__dropdown--Color,#151515)}.pfe-navigation__menu-item--open>.pfe-navigation__menu-link--has-dropdown[class]:before{transform:translateY(7px) rotate(135deg)}@media (min-width:1200px){.pfe-navigation__menu-item--open>.pfe-navigation__menu-link--has-dropdown[class]:before{border-top-color:#6a6e73;border-top-color:#6a6e73;border-top-color:var(--pfe-navigation__dropdown--arrow--color--active,#6a6e73);transform:translate(-4px,-12px)}}.pfe-navigation--collapse-main-menu .pfe-navigation__menu-item--open>.pfe-navigation__menu-link--has-dropdown[class]:before,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__menu-item--open>.pfe-navigation__menu-link--has-dropdown[class]:before{transform:rotate(135deg)}.pfe-navigation__dropdown-wrapper{position:static;max-height:9999em;padding:0 calc(24px + 16px);padding:0 calc(24px + 16px);padding:0 calc(var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px) + var(--pfe-navigation__dropdown--single-column--spacing,16px));overflow-y:visible;background:0 0;transition:height .25s ease-in-out;transition:height .25s ease-in-out;transition:var(--pfe-navigation--accordion-transition,height .25s ease-in-out);display:flex;align-items:flex-start;justify-content:center;width:100%;height:0;overflow:hidden;will-change:height}@media (prefers-reduced-motion){.pfe-navigation__dropdown-wrapper{transition:none}}@media (min-width:1200px){.pfe-navigation__dropdown-wrapper{position:absolute;top:100%;left:0;padding:0 calc(64px + 24px);padding:0 calc(64px + 24px);padding:0 calc(var(--pfe-navigation__dropdown--full-width--spacing--desktop,64px) + var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px));background:#fff;background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff));transition:var(--pfe-navigation--dropdown-transition);height:auto}:host([pfe-sticky]) .pfe-navigation__dropdown-wrapper{max-height:calc(100vh - 72px);max-height:calc(100vh - 72px);max-height:calc(100vh - var(--pfe-navigation__nav-bar--Height,72px));overflow-y:auto}}@media (min-width:1200px) and (prefers-reduced-motion){.pfe-navigation__dropdown-wrapper{transition:none}}.pfe-navigation--collapse-main-menu .pfe-navigation__dropdown-wrapper,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__dropdown-wrapper{position:static;max-height:9999em;padding:0 calc(24px + 16px);padding:0 calc(24px + 16px);padding:0 calc(var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px) + var(--pfe-navigation__dropdown--single-column--spacing,16px));overflow-y:visible;background:0 0;transition:height .25s ease-in-out;transition:height .25s ease-in-out;transition:var(--pfe-navigation--accordion-transition,height .25s ease-in-out);height:0}@media (prefers-reduced-motion){.pfe-navigation--collapse-main-menu .pfe-navigation__dropdown-wrapper,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__dropdown-wrapper{transition:none}}.pfe-navigation__dropdown-wrapper.pfe-navigation__dropdown-wrapper--invisible{display:none}.pfe-navigation__dropdown-wrapper--single-column{padding:0 calc(24px + 16px);padding:0 calc(24px + 16px);padding:0 calc(var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px) + var(--pfe-navigation__dropdown--single-column--spacing,16px))}@media (min-width:1200px){.pfe-navigation__dropdown-wrapper--single-column{position:absolute;top:100%;max-width:100%;min-width:13em;padding:0 32px;box-shadow:0 1px 2px rgba(0,0,0,.12);box-shadow:0 1px 2px rgba(0,0,0,.12);box-shadow:var(--pfe-navigation__dropdown--BoxShadow,0 1px 2px rgba(0,0,0,.12))}}.pfe-navigation--collapse-main-menu .pfe-navigation__dropdown-wrapper--single-column,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__dropdown-wrapper--single-column{position:static;max-width:100%;box-shadow:none}@media (min-width:1200px){.pfe-navigation__dropdown-wrapper--single-column{left:auto;width:auto}}.pfe-navigation__dropdown{display:block;width:calc(100% + 32px);max-width:1136px;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);margin-left:-16px;margin-right:-16px;padding-top:12px;padding-bottom:12px;-moz-column-count:auto;column-count:auto;gap:0;font-size:1rem;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);color:#151515;color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515);visibility:hidden;transition:visibility 0s linear .4s}.pfe-navigation__dropdown a{display:inline-block;color:#06c;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));border:1px solid transparent}.pfe-navigation__dropdown a:focus,.pfe-navigation__dropdown a:hover{color:#036;color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);text-decoration:underline}.pfe-navigation__dropdown a:focus{border:1px dashed currentColor;border-top:1px dashed currentColor;outline:0}.pfe-navigation__dropdown .pfe-link-list--header,.pfe-navigation__dropdown [role=heading][aria-heading-level],.pfe-navigation__dropdown h2,.pfe-navigation__dropdown h3,.pfe-navigation__dropdown h4,.pfe-navigation__dropdown h5,.pfe-navigation__dropdown h6{margin:32px 0 .75em;margin:32px 0 .75em;margin:var(--pfe-navigation--gutter,32px) 0 .75em;padding:0;-moz-column-break-inside:avoid;break-inside:avoid;font-size:1.125rem;font-size:1.125rem;font-size:var(--pf-global--FontSize--lg,1.125rem);font-family:Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif;font-family:Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamilyHeadline,Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif);font-weight:500;color:#464646;color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646)}.pfe-navigation__dropdown .pfe-link-list--header:first-child,.pfe-navigation__dropdown [role=heading][aria-heading-level]:first-child,.pfe-navigation__dropdown h2:first-child,.pfe-navigation__dropdown h3:first-child,.pfe-navigation__dropdown h4:first-child,.pfe-navigation__dropdown h5:first-child,.pfe-navigation__dropdown h6:first-child{margin-top:0}.pfe-navigation__dropdown .pfe-link-list--header a,.pfe-navigation__dropdown [role=heading][aria-heading-level] a,.pfe-navigation__dropdown h2 a,.pfe-navigation__dropdown h3 a,.pfe-navigation__dropdown h4 a,.pfe-navigation__dropdown h5 a,.pfe-navigation__dropdown h6 a{color:#464646;color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646);border:1px solid transparent;text-decoration:underline}.pfe-navigation__dropdown .pfe-link-list--header a:focus,.pfe-navigation__dropdown .pfe-link-list--header a:hover,.pfe-navigation__dropdown [role=heading][aria-heading-level] a:focus,.pfe-navigation__dropdown [role=heading][aria-heading-level] a:hover,.pfe-navigation__dropdown h2 a:focus,.pfe-navigation__dropdown h2 a:hover,.pfe-navigation__dropdown h3 a:focus,.pfe-navigation__dropdown h3 a:hover,.pfe-navigation__dropdown h4 a:focus,.pfe-navigation__dropdown h4 a:hover,.pfe-navigation__dropdown h5 a:focus,.pfe-navigation__dropdown h5 a:hover,.pfe-navigation__dropdown h6 a:focus,.pfe-navigation__dropdown h6 a:hover{text-decoration:none;color:#036;color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036)}.pfe-navigation__dropdown .pfe-link-list--header a:focus,.pfe-navigation__dropdown [role=heading][aria-heading-level] a:focus,.pfe-navigation__dropdown h2 a:focus,.pfe-navigation__dropdown h3 a:focus,.pfe-navigation__dropdown h4 a:focus,.pfe-navigation__dropdown h5 a:focus,.pfe-navigation__dropdown h6 a:focus{border:1px dashed currentColor;border-top:1px dashed currentColor;outline:0}.pfe-navigation__dropdown li{margin:0 0 16px;-moz-column-break-inside:avoid;break-inside:avoid}.pfe-navigation__dropdown a,.pfe-navigation__dropdown pfe-card,.pfe-navigation__dropdown pfe-cta{-moz-column-break-inside:avoid;break-inside:avoid}.pfe-navigation__dropdown pfe-cta[pfe-priority=primary],.pfe-navigation__dropdown pfe-cta[priority=primary]{--pfe-cta--BackgroundColor:var(--pfe-navigation__dropdown--pfe-cta--BackgroundColor, #e00);--pfe-cta--BackgroundColor--hover:var(--pfe-navigation__dropdown--pfe-cta--hover--BackgroundColor, #c00);--pfe-theme--ui--border-width:0}.pfe-navigation__dropdown pfe-cta[pfe-priority=primary]:focus,.pfe-navigation__dropdown pfe-cta[pfe-priority=primary]:hover,.pfe-navigation__dropdown pfe-cta[priority=primary]:focus,.pfe-navigation__dropdown pfe-cta[priority=primary]:hover{--pfe-cta--BackgroundColor:var(--pfe-navigation__dropdown--pfe-cta--hover--BackgroundColor, #c00)}pfe-card .pfe-navigation__dropdown pfe-cta{margin-top:0}@media (min-width:768px){.pfe-navigation__dropdown{display:block;-moz-column-count:3;column-count:3;gap:32px;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-top:12px;padding-bottom:12px}}@media (min-width:1200px){.pfe-navigation__dropdown{display:flex;flex-wrap:wrap;-moz-column-count:auto;column-count:auto;padding-top:32px;padding-bottom:32px}@supports (display:grid){.pfe-navigation__dropdown{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:32px;gap:32px;gap:var(--pfe-navigation--gutter,32px);grid-auto-flow:row}}}.pfe-navigation--collapse-main-menu .pfe-navigation__dropdown,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__dropdown{display:block;-moz-column-count:3;column-count:3;gap:32px;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-top:12px;padding-bottom:12px}.pfe-navigation--collapse-secondary-links .pfe-navigation__dropdown,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__dropdown{display:block;width:calc(100% + 32px);max-width:1136px;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);margin-left:-16px;margin-right:-16px;padding-top:12px;padding-bottom:12px;-moz-column-count:auto;column-count:auto;gap:0}@media (max-width:48em){.pfe-navigation__dropdown[class]{display:block;-moz-column-count:1;column-count:1}}:host([breakpoint=mobile]) .pfe-navigation__dropdown{display:block;width:calc(100% + 32px);max-width:1136px;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);margin-left:-16px;margin-right:-16px;padding-top:12px;padding-bottom:12px;-moz-column-count:auto;column-count:auto;gap:0}.pfe-navigation__menu-item--open .pfe-navigation__dropdown{visibility:visible;transition-delay:0s}.pfe-navigation__dropdown>*{margin:0 0 18px;-moz-column-break-inside:avoid;break-inside:avoid}@media (min-width:1200px){.pfe-navigation__dropdown>*{margin:0}}.pfe-navigation--collapse-main-menu .pfe-navigation__dropdown>*,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__dropdown>*{margin:0 0 18px}.pfe-navigation__dropdown--3-column{display:block;width:calc(100% + 32px);max-width:1136px;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);margin-left:-16px;margin-right:-16px;padding-top:12px;padding-bottom:12px;-moz-column-count:auto;column-count:auto;gap:0}@media (min-width:768px){.pfe-navigation__dropdown--3-column{display:block;-moz-column-count:3;column-count:3;gap:32px;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-top:12px;padding-bottom:12px}}@media (min-width:1200px){.pfe-navigation__dropdown--3-column{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));padding-top:32px;padding-bottom:32px;-moz-column-count:auto;column-count:auto}}.pfe-navigation--collapse-main-menu .pfe-navigation__dropdown--3-column,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__dropdown--3-column{display:block;-moz-column-count:3;column-count:3;gap:32px;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-top:12px;padding-bottom:12px}.pfe-navigation--collapse-secondary-links .pfe-navigation__dropdown--3-column,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__dropdown--3-column{display:block;width:calc(100% + 32px);max-width:1136px;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);margin-left:-16px;margin-right:-16px;padding-top:12px;padding-bottom:12px;-moz-column-count:auto;column-count:auto;gap:0}.pfe-navigation__dropdown--single-column[class]{display:block;-moz-column-count:auto;column-count:auto;gap:0}@media (min-width:1200px){.pfe-navigation__dropdown--single-column{padding:16px 0;padding:16px 0;padding:var(--pfe-navigation__dropdown--single-column--spacing,16px) 0;background:#fff;background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff))}}.pfe-navigation--collapse-main-menu .pfe-navigation__dropdown--single-column,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__dropdown--single-column{background:0 0}.pfe-navigation__dropdown--single-column [role=heading][aria-heading-level],.pfe-navigation__dropdown--single-column h1,.pfe-navigation__dropdown--single-column h2,.pfe-navigation__dropdown--single-column h3,.pfe-navigation__dropdown--single-column h4,.pfe-navigation__dropdown--single-column h5,.pfe-navigation__dropdown--single-column h6{color:#6a6e73;color:#6a6e73;color:var(--pfe-navigation__dropdown--headings--single-column--Color,#6a6e73);font-family:Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif;font-family:Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamilyHeadline,Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif);font-weight:500;font-size:.875rem;font-size:.875rem;font-size:var(--pf-global--FontSize--sm,.875rem)}.pfe-navigation__dropdown--single-column ul+ul,.pfe-navigation__sub-nav-link--separator[class]{border-top:1px solid #d2d2d2;border-top:1px solid #d2d2d2;border-top:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2));margin-left:calc(16px * -1);margin-left:calc(16px * -1);margin-left:calc(var(--pfe-navigation__dropdown--single-column--spacing,16px) * -1);margin-right:calc(16px * -1);margin-right:calc(16px * -1);margin-right:calc(var(--pfe-navigation__dropdown--single-column--spacing,16px) * -1);margin-top:16px;margin-top:16px;margin-top:var(--pfe-navigation__dropdown--single-column--spacing,16px);padding-left:16px;padding-left:16px;padding-left:var(--pfe-navigation__dropdown--single-column--spacing,16px);padding-right:16px;padding-right:16px;padding-right:var(--pfe-navigation__dropdown--single-column--spacing,16px);padding-top:16px;padding-top:16px;padding-top:var(--pfe-navigation__dropdown--single-column--spacing,16px)}.pfe-navigation__footer{display:flex;flex-wrap:nowrap;flex-direction:column;justify-content:flex-start;align-items:flex-start;border-top:1px solid #d2d2d2;border-top:1px solid #d2d2d2;border-top:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2));grid-column:1/-1;-moz-column-span:all;column-span:all;margin:16px 0 0;padding:26px 0 16px}@media (min-width:768px){.pfe-navigation__footer{display:flex;flex-wrap:wrap;flex-direction:row;justify-content:flex-start;align-items:flex-start}}@media (min-width:1200px){.pfe-navigation__footer{display:flex;flex-wrap:wrap;-moz-column-count:auto;column-count:auto;padding-top:32px;padding-bottom:32px;margin:calc(16px * 2) 0 calc(16px * 1.5);margin:calc(16px * 2) 0 calc(16px * 1.5);margin:calc(var(--pfe-theme--container-padding,16px) * 2) 0 calc(var(--pfe-theme--container-padding,16px) * 1.5);padding:calc(16px * 2.5) 0 0;padding:calc(16px * 2.5) 0 0;padding:calc(var(--pfe-theme--container-padding,16px) * 2.5) 0 0}@supports (display:grid){.pfe-navigation__footer{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:32px;gap:32px;gap:var(--pfe-navigation--gutter,32px);grid-auto-flow:row}}}.pfe-navigation--collapse-main-menu .pfe-navigation__footer,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__footer{display:block;width:calc(100% + 32px);max-width:1136px;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);margin-left:-16px;margin-right:-16px;padding-top:12px;padding-bottom:12px;-moz-column-count:auto;column-count:auto;gap:0;margin:16px 0 0;padding:26px 0 16px}.pfe-navigation--collapse-secondary-links .pfe-navigation__footer,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__footer{display:flex;flex-wrap:wrap;flex-direction:row;justify-content:flex-start;align-items:flex-start}.pfe-navigation__footer .pfe-navigation--column,.pfe-navigation__footer a,.pfe-navigation__footer pfe-cta{margin:0 0 1em}@media (min-width:768px){.pfe-navigation__footer .pfe-navigation--column+.pfe-navigation--column,.pfe-navigation__footer .pfe-navigation--column+a,.pfe-navigation__footer .pfe-navigation--column+pfe-cta,.pfe-navigation__footer a+.pfe-navigation--column,.pfe-navigation__footer a+a,.pfe-navigation__footer a+pfe-cta,.pfe-navigation__footer pfe-cta+.pfe-navigation--column,.pfe-navigation__footer pfe-cta+a,.pfe-navigation__footer pfe-cta+pfe-cta{margin-left:32px;margin-left:32px;margin-left:var(--pfe-navigation--gutter,32px)}}@media (min-width:1200px){.pfe-navigation__footer .pfe-navigation--column+.pfe-navigation--column,.pfe-navigation__footer .pfe-navigation--column+a,.pfe-navigation__footer .pfe-navigation--column+pfe-cta,.pfe-navigation__footer a+.pfe-navigation--column,.pfe-navigation__footer a+a,.pfe-navigation__footer a+pfe-cta,.pfe-navigation__footer pfe-cta+.pfe-navigation--column,.pfe-navigation__footer pfe-cta+a,.pfe-navigation__footer pfe-cta+pfe-cta{margin-left:0}}.pfe-navigation--collapse-main-menu .pfe-navigation__footer .pfe-navigation--column+.pfe-navigation--column,.pfe-navigation--collapse-main-menu .pfe-navigation__footer .pfe-navigation--column+a,.pfe-navigation--collapse-main-menu .pfe-navigation__footer .pfe-navigation--column+pfe-cta,.pfe-navigation--collapse-main-menu .pfe-navigation__footer a+.pfe-navigation--column,.pfe-navigation--collapse-main-menu .pfe-navigation__footer a+a,.pfe-navigation--collapse-main-menu .pfe-navigation__footer a+pfe-cta,.pfe-navigation--collapse-main-menu .pfe-navigation__footer pfe-cta+.pfe-navigation--column,.pfe-navigation--collapse-main-menu .pfe-navigation__footer pfe-cta+a,.pfe-navigation--collapse-main-menu .pfe-navigation__footer pfe-cta+pfe-cta,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__footer .pfe-navigation--column+.pfe-navigation--column,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__footer .pfe-navigation--column+a,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__footer .pfe-navigation--column+pfe-cta,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__footer a+.pfe-navigation--column,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__footer a+a,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__footer a+pfe-cta,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__footer pfe-cta+.pfe-navigation--column,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__footer pfe-cta+a,:host(.pfe-navigation--collapse-main-menu) .pfe-navigation__footer pfe-cta+pfe-cta{margin-left:32px;margin-left:32px;margin-left:var(--pfe-navigation--gutter,32px)}.pfe-navigation--collapse-secondary-links .pfe-navigation__footer .pfe-navigation--column+.pfe-navigation--column,.pfe-navigation--collapse-secondary-links .pfe-navigation__footer .pfe-navigation--column+a,.pfe-navigation--collapse-secondary-links .pfe-navigation__footer .pfe-navigation--column+pfe-cta,.pfe-navigation--collapse-secondary-links .pfe-navigation__footer a+.pfe-navigation--column,.pfe-navigation--collapse-secondary-links .pfe-navigation__footer a+a,.pfe-navigation--collapse-secondary-links .pfe-navigation__footer a+pfe-cta,.pfe-navigation--collapse-secondary-links .pfe-navigation__footer pfe-cta+.pfe-navigation--column,.pfe-navigation--collapse-secondary-links .pfe-navigation__footer pfe-cta+a,.pfe-navigation--collapse-secondary-links .pfe-navigation__footer pfe-cta+pfe-cta,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__footer .pfe-navigation--column+.pfe-navigation--column,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__footer .pfe-navigation--column+a,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__footer .pfe-navigation--column+pfe-cta,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__footer a+.pfe-navigation--column,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__footer a+a,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__footer a+pfe-cta,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__footer pfe-cta+.pfe-navigation--column,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__footer pfe-cta+a,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__footer pfe-cta+pfe-cta{margin-left:0}.pfe-navigation__footer pfe-cta a{display:inline-block;margin:0}:host(.pfe-navigation--inline-search) .pfe-navigation__search-toggle,:host([breakpoint=mobile]) .pfe-navigation__search-toggle{display:none}[open-toggle=secondary-links__button--search] .pfe-navigation__search-toggle{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active, var(--pfe-theme--color--text, #151515));color:#151515;color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}[open-toggle=secondary-links__button--search] .pfe-navigation__search-toggle:focus{outline:0}[open-toggle=secondary-links__button--search] .pfe-navigation__search-toggle:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed currentColor}.pfe-navigation__dropdown-wrapper--search[class][class]{position:absolute;top:100%;left:0;width:100%;height:auto;padding:16px;margin-bottom:0;background:#fff;background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff));visibility:hidden}:host([breakpoint=desktop]) .pfe-navigation--has-search .pfe-navigation__dropdown-wrapper--search[class][class],:host([breakpoint=tablet]) .pfe-navigation--has-search .pfe-navigation__dropdown-wrapper--search[class][class]{visibility:visible}.pfe-navigation__dropdown-wrapper--search[class][class].pfe-navigation__dropdown-wrapper--invisible{display:none}:host(.pfe-navigation--inline-search) .pfe-navigation__dropdown-wrapper--search[class][class]{position:relative;top:auto;left:auto;display:block;width:auto;height:100%;padding:0;overflow:visible;background:0 0}.pfe-navigation__search{display:block;width:100%;margin-bottom:24px;margin-bottom:24px;margin-bottom:var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px);color:#151515;color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515);max-width:1136px;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);margin-left:auto;margin-right:auto}@media (min-width:768px){.pfe-navigation__search{margin-bottom:0}}.pfe-navigation--collapse-secondary-links .pfe-navigation__search,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__search{margin-bottom:24px;margin-bottom:24px;margin-bottom:var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}[aria-hidden=true] .pfe-navigation__search{visibility:hidden}:host(.pfe-navigation--inline-search) .pfe-navigation__search{height:100%}.pfe-navigation__secondary-links-wrapper{display:flex;flex-direction:column;margin:0;padding:16px 0 0;list-style:none}@media (min-width:768px){.pfe-navigation__secondary-links-wrapper{flex-direction:row;margin-left:auto;padding-top:0}}.pfe-navigation--collapse-secondary-links .pfe-navigation__secondary-links-wrapper,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__secondary-links-wrapper{flex-direction:column;padding-top:16px;margin-left:0}.pfe-navigation__secondary-links-wrapper>li{display:block;width:auto;height:auto;margin:0 0 8px;padding:0;list-style:none}@media (min-width:768px){.pfe-navigation__secondary-links-wrapper>li{margin:0}}.pfe-navigation--collapse-secondary-links .pfe-navigation__secondary-links-wrapper>li,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__secondary-links-wrapper>li{margin:0 0 8px}.pfe-navigation__burger-icon{padding:2px 0 4px;left:calc(50% - 9px);transform:scale(.25) translateX(1px);transform-origin:left top;transition:transform .3s cubic-bezier(.55,.085,0,.99);backface-visibility:hidden}[aria-expanded=true] .pfe-navigation__burger-icon{transform:scale(.25) translateX(5px);transform-origin:left top}.pfe-navigation__burger-icon:after,.pfe-navigation__burger-icon:before{content:'';position:absolute;top:0;left:0;box-sizing:border-box;display:block;width:72px}.pfe-navigation__burger-icon:before{height:0;border-top:8px solid currentColor;background:currentColor;transform:translateY(-32px);transform-origin:left top;transition:transform .3s cubic-bezier(.55,.085,0,.99)}[aria-expanded=true] .pfe-navigation__burger-icon:before{border-color:currentColor;transform:translateY(-32px) rotate(45deg) scaleX(1) translateX(12px);transform-origin:left top}.pfe-navigation__burger-icon:after{height:40px;border:8px solid currentColor;border-width:8px 0 8px 0;transition:border .3s cubic-bezier(.55,.085,0,.99),transform .3s cubic-bezier(.55,.085,0,.99);transform-origin:left bottom}[aria-expanded=true] .pfe-navigation__burger-icon:after{transform:rotate(-45deg) scaleX(1) translateX(12px);border-top-color:transparent;border-bottom-color:currentColor;transform-origin:left bottom}.pfe-navigation__account-toggle,.pfe-navigation__log-in-link{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default, var(--pfe-theme--color--ui-base--text, #fff));display:flex;flex-direction:column;justify-content:flex-end;width:auto;height:72px;height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);padding:14px 8px;font-size:12px;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);color:#fff;color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff))}@supports (display:grid){.pfe-navigation__account-toggle,.pfe-navigation__log-in-link{display:grid;grid-template-rows:26px 18px;align-items:center;justify-items:center}}.pfe-navigation__account-toggle[class]:focus,.pfe-navigation__account-toggle[class]:hover,.pfe-navigation__log-in-link[class]:focus,.pfe-navigation__log-in-link[class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media print{.pfe-navigation__account-toggle,.pfe-navigation__log-in-link{display:none}}.pfe-navigation--collapse-secondary-links .pfe-navigation__account-toggle,.pfe-navigation--collapse-secondary-links .pfe-navigation__log-in-link,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__account-toggle,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__log-in-link{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default, var(--pfe-theme--color--ui-base--text, #fff));display:flex;flex-direction:column;justify-content:flex-end;width:auto;height:72px;height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);padding:14px 8px;font-size:12px;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);color:#fff;color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff))}@supports (display:grid){.pfe-navigation--collapse-secondary-links .pfe-navigation__account-toggle,.pfe-navigation--collapse-secondary-links .pfe-navigation__log-in-link,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__account-toggle,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__log-in-link{display:grid;grid-template-rows:26px 18px;align-items:center;justify-items:center}}.pfe-navigation--collapse-secondary-links .pfe-navigation__account-toggle[class]:focus,.pfe-navigation--collapse-secondary-links .pfe-navigation__account-toggle[class]:hover,.pfe-navigation--collapse-secondary-links .pfe-navigation__log-in-link[class]:focus,.pfe-navigation--collapse-secondary-links .pfe-navigation__log-in-link[class]:hover,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__account-toggle[class]:focus,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__account-toggle[class]:hover,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__log-in-link[class]:focus,:host(.pfe-navigation--collapse-secondary-links) .pfe-navigation__log-in-link[class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}.pfe-navigation__account-wrapper .pfe-navigation__account-wrapper--logged-in .pfe-navigation__account-toggle{display:flex}.pfe-navigation__account-wrapper .pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link{display:none}.pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link[class]{display:none}.pfe-navigation__log-in-link[class][class] pfe-icon{padding:2px 0 4px}.pfe-navigation__account-toggle{height:72px;height:72px;height:var(--pfe-navigation__nav-bar--Height,72px)}.pfe-navigation__account-toggle[class][class][class]{display:flex;justify-content:center}.pfe-navigation__account-toggle[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active, var(--pfe-theme--color--text, #151515));color:#151515;color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}.pfe-navigation__account-toggle[aria-expanded=true]:focus{outline:0}.pfe-navigation__account-toggle[aria-expanded=true]:focus:after{content:'';position:absolute;right:0;bottom:0;top:0;left:0;display:block;border:1px dashed #151515;border:1px dashed #151515;border:1px dashed var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}.pfe-navigation__account-toggle pfe-avatar{width:36px;height:36px;border-radius:50%;overflow:hidden;background:rgba(122,122,122,.2)}.pfe-navigation__dropdown-wrapper--account[class][class]{position:absolute;top:72px;top:72px;top:var(--pfe-navigation__nav-bar--Height,72px);left:0;width:100%;display:block;padding:0;height:auto}.pfe-navigation__dropdown-wrapper--account.pfe-navigation__dropdown-wrapper--invisible[class]{display:none}:host([breakpoint=mobile]) .hidden-at-mobile[class][class][class]{display:none}:host([breakpoint=tablet]) .hidden-at-tablet[class][class][class]{display:none}:host([breakpoint=desktop]) .hidden-at-desktop[class][class][class]{display:none}.tablet-col-span-all{-moz-column-span:all;column-span:all}.desktop-col-span-2,.pfe-navigation--column--2{grid-column-end:span 2}.desktop-col-span-3,.pfe-navigation--column--3{grid-column-end:span 3}.desktop-col-span-4,.pfe-navigation--column--4{grid-column-end:span 4}\n/*# sourceMappingURL=pfe-navigation.min.css.map */\n</style><nav id=\"pfe-navigation__wrapper\" part=\"pfe-navigation__wrapper\" class=\"pfe-navigation__wrapper\" aria-label=\"Main\">\n  <button class=\"pfe-navigation__menu-toggle\" part=\"pfe-navigation__menu-toggle\" id=\"mobile__button\">\n    <div class=\"pfe-navigation__burger-icon\"></div>\n    <span id=\"mobile__button-text\" part=\"mobile__button-text\">Menu</span>\n  </button>\n\n  <div class=\"pfe-navigation__outer-menu-wrapper\" id=\"mobile__dropdown\" part=\"mobile__dropdown\">\n    <div id=\"pfe-navigation__outer-menu-wrapper__inner\" part=\"pfe-navigation__outer-menu-wrapper__inner\" class=\"pfe-navigation__outer-menu-wrapper__inner\">\n\n      <div id=\"pfe-navigation__search-wrapper--xs\" part=\"pfe-navigation__search-wrapper--xs\"></div>\n\n      <div id=\"pfe-navigation__menu-wrapper\" part=\"pfe-navigation__menu-wrapper\" class=\"pfe-navigation__menu-wrapper\">\n      </div>\n\n      <div class=\"pfe-navigation__secondary-links-wrapper\" id=\"pfe-navigation__secondary-links-wrapper\" part=\"pfe-navigation__secondary-links-wrapper\">\n        <div>\n          <button class=\"pfe-navigation__search-toggle\" id=\"secondary-links__button--search\" part=\"secondary-links__button--search\" hidden data-analytics-text=\"Search\" data-analytics-category=\"Search\" data-analytics-level=\"1\">\n            <pfe-icon icon=\"web-search\" pfe-size=\"sm\" aria-hidden=\"true\"></pfe-icon>\n            <span id=\"secondary-links__button--search-text\" part=\"secondary-links__button--search-text\">Search</span>\n          </button>\n          <div class=\"pfe-navigation__dropdown-wrapper pfe-navigation__dropdown-wrapper--search\" id=\"pfe-navigation__search-wrapper--md\" part=\"pfe-navigation__search-wrapper--md\">\n            <slot name=\"search\" class=\"pfe-navigation__search\" id=\"search-slot\" part=\"search-slot\">\n            </slot>\n          </div>\n        </div>\n\n        <slot name=\"secondary-links\" id=\"secondary-links\" part=\"secondary-links\"></slot>\n\n      </div>\n    </div>\n  </div>\n\n  <div class=\"pfe-navigation__account-wrapper\" id=\"pfe-navigation__account-wrapper\" part=\"pfe-navigation__account-wrapper\">\n    <div id=\"pfe-navigation__account-dropdown-wrapper\" part=\"pfe-navigation__account-dropdown-wrapper\" class=\"pfe-navigation__dropdown-wrapper pfe-navigation__dropdown-wrapper--account pfe-navigation__dropdown-wrapper--invisible\">\n      <slot name=\"account\" id=\"pfe-navigation__account-slot\" part=\"pfe-navigation__account-slot\"></slot>\n    </div>\n  </div>\n\n</nav>\n<div class=\"pfe-navigation__overlay\" part=\"pfe-navigation__overlay\" hidden></div>`;\n  }\n\n  static get properties() {\n    return {\"state\":{\"title\":\"State\",\"type\":\"string\",\"enum\":[],\"default\":\"\",\"prefixed\":true}};\n  }\n\n  static get slots() {\n    return {\"default\":{\"title\":\"Default slot\",\"type\":\"array\",\"namedSlot\":false,\"items\":{\"oneOf\":[{\"$ref\":\"raw\"}]}},\"search\":{\"title\":\"Search\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Search item\",\"oneOf\":[{\"$ref\":\"raw\"}]}},\"customlinks\":{\"title\":\"Customlinks\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Customlinks item\",\"oneOf\":[{\"$ref\":\"raw\"}]}}};\n  }\n  static get tag() {\n    return \"pfe-navigation\";\n  }\n\n  get schemaUrl() {\n    return \"pfe-navigation.json\";\n  }\n\n  get templateUrl() {\n    return \"pfe-navigation.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-navigation.css\";\n  }\n\n  get navTranslations() {\n    return this._navTranslations;\n  }\n\n  /**\n   * Adds site owner provided translations to our existing ones\n   * Or overrides if there's overlap\n   * @param {object} data An object of translations with the shape of:\n   * {\n   *   'en': {\n   *     login: \"Log In\",\n   *     menu: \"Menu\",\n   *     search: \"Search\",\n   *     returnToMainMenu: \"Back to menu\",\n   *     openAccountMenu: \"Open account menu\",\n   *   }\n   * }\n   */\n  set navTranslations(data) {\n    if (!data) {\n      console.error('pfe-navigation.navTranslations: Refusing to set falsey value to navTranslations.', {data});\n      return;\n    }\n    if (typeof data !== 'object') {\n      console.error('pfe-navigation.navTranslations: Tried setting navTranslations with no object', {data});\n      return;\n    }\n\n    // Iterate over the languages and add/override the existing translations\n    const dataKeys = Object.keys(data);\n    for (let index = 0; index < dataKeys.length; index++) {\n      const langCode = dataKeys[index];\n      if (langCode in this._navTranslations) {\n        mergeObjectData(this._navTranslations[langCode], data[langCode]);\n      }\n      else {\n        this._navTranslations[langCode] = data[langCode];\n      }\n    }\n  }\n\n  static get events() {\n    return {\n      expandedItem: `${this.tag}:expanded-item`,\n      collapsedItem: `${this.tag}:collapsed-item`,\n      shadowDomInteraction: `pfe-shadow-dom-event`,\n      ready: `${this.tag}:ready`,\n\n      // @note v1.x support:\n      pfeNavigationItemOpen: `pfe-navigation-item:open`,\n      pfeNavigationItemClose: `pfe-navigation-item:close`,\n    };\n  }\n\n  // Declare the type of this component\n  static get PfeType() {\n    return PFElement.PfeTypes.Combo;\n  }\n\n  static get properties() {\n    return {\n      // Using _lang to avoid namespacing issue with HTMLElement.lang\n      _lang: {\n        title: \"Language support\",\n        attr: \"lang\",\n        type: String,\n        default: \"en\",\n        observer: \"_translateStrings\",\n      },\n      // State indicator\n      breakpoint: {\n        title: \"Indicates current layout state\",\n        // 'mobile' means secondary links && main menu are collapsed, search goes to top of mobile dropdown\n        // 'tablet' means main menu is collapsed, search has it's own dropdown\n        // 'desktop' means nothing is collapsed, search has it's own dropdown\n        type: String,\n      },\n      // State indicator\n      openToggle: {\n        title: \"Currently opened toggle\",\n        type: String,\n      },\n      // State indicator\n      mobileSlide: {\n        title:\n          \"Indicates an open child element that slides the menu over when open\",\n        type: Boolean,\n      },\n      // @note If role isn't set, code will check if it has a parent with role=\"banner\",\n      // If not role=banner will be added to pfe-navigation\n      role: {\n        type: String,\n      },\n      sticky: {\n        title:\n          \"When page touches top of navigation stick it to the top of the screen\",\n        type: Boolean,\n      },\n      // @note v1.x support\n      pfeSticky: {\n        type: Boolean,\n        alias: \"sticky\",\n        attr: \"pfe-sticky\",\n      },\n    };\n  }\n\n  static get slots() {\n    return {\n      search: {\n        title: \"Search\",\n        description: \"For site's search form\",\n        namedSlot: true,\n      },\n      secondaryLinks: {\n        title: \"Secondary Links\",\n        description:\n          \"For site's custom links/dropdowns that appear in the top right at desktop\",\n        slotName: \"secondary-links\",\n        namedSlot: true,\n      },\n      account: {\n        title: \"Account\",\n        description: \"For rh-account-dropdown component or custom auth content\",\n        namedSlot: true,\n      },\n    };\n  }\n\n  constructor() {\n    super(PfeNavigation, { type: PfeNavigation.PfeType });\n\n    // Set pointers to commonly used elements\n    this._shadowDomOuterWrapper = this.shadowRoot.getElementById(\n      \"pfe-navigation__wrapper\"\n    );\n    this._logoWrapper = this.shadowRoot.getElementById(\n      \"pfe-navigation__logo-wrapper\"\n    );\n    this._shadowMenuWrapper = this.shadowRoot.getElementById(\n      \"pfe-navigation__menu-wrapper\"\n    );\n    this._mobileToggle = this.shadowRoot.getElementById(\"mobile__button\");\n    this._mobileToggleText = this.shadowRoot.getElementById(\n      \"mobile__button-text\"\n    );\n    this._mobileButton = this.shadowRoot.querySelector(\"#mobile__button-text\");\n    this._menuDropdownXs = this.shadowRoot.getElementById(\"mobile__dropdown\");\n    this._menuDropdownMd = this.shadowRoot.getElementById(\n      `${this.tag}__menu-wrapper`\n    );\n    this._secondaryLinksWrapper = this.shadowRoot.getElementById(\n      `${this.tag}__secondary-links-wrapper`\n    );\n    this._searchToggle = this.shadowRoot.getElementById(\n      \"secondary-links__button--search\"\n    );\n    this._searchToggleText = this.shadowRoot.getElementById(\n      \"secondary-links__button--search-text\"\n    );\n    this._searchSlot = this.shadowRoot.getElementById(\"search-slot\");\n    this._searchSpotXs = this.shadowRoot.getElementById(\n      `${this.tag}__search-wrapper--xs`\n    );\n    this._searchSpotMd = this.shadowRoot.getElementById(\n      `${this.tag}__search-wrapper--md`\n    );\n    this._customLinksSlot = this.shadowRoot.getElementById(\"secondary-links\");\n    this._mobileNavSearchSlot = this.shadowRoot.querySelector(\n      'slot[name=\"search\"]'\n    );\n    this._overlay = this.shadowRoot.querySelector(`.${this.tag}__overlay`);\n    this._shadowNavWrapper = this.shadowRoot.querySelector(\n      `.${this.tag}__wrapper`\n    );\n    this._accountOuterWrapper = this.shadowRoot.getElementById(\n      \"pfe-navigation__account-wrapper\"\n    );\n    this._accountSlot = this.shadowRoot.getElementById(\n      \"pfe-navigation__account-slot\"\n    );\n    this._accountDropdownWrapper = this.shadowRoot.getElementById(\n      \"pfe-navigation__account-dropdown-wrapper\"\n    );\n    this._searchButtonText = this.shadowRoot.querySelector(\n      \"#secondary-links__button--search-text\"\n    );\n\n    // Elements that don't exist yet\n    this._siteSwitcherToggle = null;\n    this._siteSwitcherBackButton = null;\n    this._accountComponent = null;\n    this._accountToggle = null;\n    this._accountLogInLink = null;\n    this._currentMobileDropdown = null;\n\n    // @todo Make this selector list a PFE-wide resource?\n    this._focusableElements =\n      'button, a[href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])';\n\n    // Set default collapse breakpoints to null (falls back to CSS)\n    this._menuBreakpoints = {\n      secondaryLinks: null,\n      mainMenu: null,\n    };\n\n    // Used to calculate when menu should collapse,\n    // parts that have changed can be set to null and breakpoints recalculated\n    this._menuBounds = {\n      logoRight: null,\n      mainMenuRight: null,\n      secondaryLinksLeft: null,\n    };\n\n    // To track observers and events and remove them when necessary\n    this._customDropdownAlertsObservers = {};\n    this._mobileSliderMutationObservers = {};\n    this._mobileSliderFocusTrapEvents = {};\n    this._mobileSliderFocusTrapElements = {};\n    this._debouncedPreResizeAdjustments = null;\n    this._debouncedPostResizeAdjustments = null;\n    this._menuBreakpointQueries = {\n      secondaryLinks: null,\n      mainMenu: null,\n    };\n\n    this._prefersReducedMotion = false;\n\n    // Tracking if window width gets updated\n    this._windowInnerWidth = null;\n    // Cache element visibility for performance\n    this.mainMenuButtonVisible = null;\n    this.secondaryLinksSectionCollapsed = null;\n    this.logoHeights = {\n      default: 40,\n      small: 32,\n    };\n\n\n    // Add default translations\n    this._navTranslations = {\n      en: {\n        login: \"Log In\",\n        menu: \"Menu\",\n        search: \"Search\",\n        returnToMainMenu: \"Back to menu\",\n        openAccountMenu: \"Open account menu\",\n      },\n      ja: {\n        login: \"ログイン\",\n        menu: \"メニュー\",\n        search: \"検索\",\n        returnToMainMenu: \"メニューに戻る\",\n        openAccountMenu: \"アカウントメニューを開く\",\n      },\n      ko: {\n        login: \"로그인\",\n        menu: \"메뉴\",\n        search: \"검색\",\n        returnToMainMenu: \"메뉴로 돌아가기\",\n        openAccountMenu: \"계정 메뉴 열기\",\n      },\n      zh: {\n        login: \"登录\",\n        menu: \"菜单\",\n        search: \"搜索\",\n        returnToMainMenu: \"返回菜单\",\n        openAccountMenu: \"打开账户菜单\",\n      },\n      de: {\n        login: \"Anmelden\",\n        menu: \"Menü\",\n        search: \"Suchen\",\n        returnToMainMenu: \"Zurück zum Menü\",\n        openAccountMenu: \"Kontomenü öffnen\",\n      },\n      fr: {\n        login: \"Se connecter\",\n        menu: \"Menu\",\n        search: \"Rechercher\",\n        returnToMainMenu: \"Retour au menu\",\n        openAccountMenu: \"Ouvrir menu du compte\",\n      },\n      it: {\n        login: \"Accedi\",\n        menu: \"Menu\",\n        search: \"Cerca\",\n        returnToMainMenu: \"Torna al menu\",\n        openAccountMenu: \"Apri menu account\",\n      },\n      es: {\n        login: \"Iniciar sesión\",\n        menu: \"Menu\",\n        search: \"Buscar\",\n        returnToMainMenu: \"Regresar al menú\",\n        openAccountMenu: \"Abrir menú de la cuenta\",\n      },\n      pt: {\n        login: \"Entrar\",\n        menu: \"Menu\",\n        search: \"Pesquisar\",\n        returnToMainMenu: \"Voltar ao menu\",\n        openAccountMenu: \"Abrir menu da conta\",\n      }\n    };\n\n    // Ensure 'this' is tied to the component object in these member functions\n    const functionsToBind = [\n      \"isOpen\",\n      \"getToggleElement\",\n      \"getDropdownElement\",\n      \"isMobileMenuButtonVisible\",\n      \"isSecondaryLinksSectionCollapsed\",\n      \"_focusOutOfNav\",\n      \"_isDevelopment\",\n      \"_getParentToggleAndDropdown\",\n      \"_changeNavigationState\",\n      \"_calculateBreakpointAttribute\",\n      \"_processSearchSlotChange\",\n      \"_createCustomDropdownToggle\",\n      \"_processCustomDropdowns\",\n      \"_shadowDomInteraction\",\n      \"_processLightDom\",\n      \"_toggleMobileMenu\",\n      \"_toggleSearch\",\n      \"_siteSwitcherBackClickHandler\",\n      \"_dropdownItemToggle\",\n      \"_calculateMenuBreakpoints\",\n      \"_collapseMainMenu\",\n      \"_collapseSecondaryLinks\",\n      \"_moveSearchSlot\",\n      \"_postResizeAdjustments\",\n      \"_generalKeyboardListener\",\n      \"_overlayClickHandler\",\n      \"_stickyHandler\",\n      \"_hideMobileMainMenu\",\n      \"_showMobileMainMenu\",\n      \"_createLogInLink\",\n      \"_accountToggleClick\",\n      \"_processAccountDropdownChange\",\n      \"_processAccountSlotChange\",\n      \"_getLastFocusableItemInMobileSlider\",\n      \"_updateAlerts\",\n      \"_postProcessLogo\",\n      \"updateOpenDropdownHeight\",\n    ];\n\n    for (let index = 0; index < functionsToBind.length; index++) {\n      const functionName = functionsToBind[index];\n      if (this[functionName]) {\n        this[functionName] = this[functionName].bind(this);\n      } else {\n        this.error(\"Tried to bind a function that doesn't exist\", functionName);\n      }\n    }\n\n    // Handle updates to slotted search content\n    this._searchSlot.addEventListener(\n      \"slotchange\",\n      this._processSearchSlotChange\n    );\n    this._accountSlot.addEventListener(\n      \"slotchange\",\n      this._processAccountSlotChange\n    );\n\n    // Setup mutation observer to watch for content changes\n    this._observer = new MutationObserver(this._processLightDom);\n\n    // Ensure we close the whole menu and hide the overlay when the overlay is clicked\n    this._overlay.addEventListener(\"click\", this._overlayClickHandler);\n  } // ends constructor()\n\n  connectedCallback() {\n    super.connectedCallback();\n    // If you need to initialize any attributes, do that here\n    if (this._isDevelopment()) {\n      PFElement._debugLog = true;\n    }\n\n    // Assess if user prefers reduced motion, which means we can eliminate some timeouts\n    const prefersReducedMotionQuery = window.matchMedia(\n      \"(prefers-reduced-motion)\"\n    );\n    this._prefersReducedMotion = prefersReducedMotionQuery.matches || false;\n\n    this._resizeDebounce = 500;\n\n    // Change a few preferences for automated testing so scripts can run faster\n    if (this.hasAttribute(\"automated-testing\")) {\n      this._resizeDebounce = 10;\n      this._prefersReducedMotion = true;\n    }\n\n    // Add class to scope styles for old browsers like IE11\n    if (_isCrustyBrowser()) {\n      this.classList.add(\"pfe-navigation--in-crusty-browser\");\n    }\n\n    this.emitEvent(PfeNavigation.events.ready, {\n      detail: {\n        nav: this,\n      },\n    });\n\n\n    ////////////////////////////////////////////////////////\n    // Kicks off the menu/light DOM processing\n    // for the bulk of the menu render\n    ////////////////////////////////////////////////////////\n    this._processLightDom();\n\n    this._observer.observe(this, lightDomObserverConfig);\n\n    const preResizeAdjustments = () => {\n      // iOS changes browser height on scroll, shouldn't fade out UI for window height changes\n      if (\n        this._windowInnerWidth !== window.innerWidth &&\n        !this.classList.contains(\"pfe-navigation--is-resizing\")\n      ) {\n        this.classList.add(\"pfe-navigation--is-resizing\");\n      }\n    };\n\n    this._debouncedPreResizeAdjustments = debounce(\n      preResizeAdjustments,\n      // Needs to be run frequently\n      this._resizeDebounce > 10 ? 10 : this._resizeDebounce,\n      true\n    );\n    window.addEventListener(\"resize\", this._debouncedPreResizeAdjustments);\n    this._debouncedPostResizeAdjustments = debounce(\n      this._postResizeAdjustments,\n      this._resizeDebounce\n    );\n    window.addEventListener(\"resize\", this._debouncedPostResizeAdjustments, {\n      passive: true,\n    });\n    this._calculateBreakpointAttribute();\n\n    // Initial position of this element from the top of the screen\n    this._top = this.getBoundingClientRect().top || 0;\n\n    // If the nav is set to sticky, run the sticky handler and attach scroll event to window\n    if (this.sticky) {\n      // Run the sticky check on first page load\n      this._stickyHandler();\n\n      // Attach the scroll event to the window\n      window.addEventListener(\"scroll\", () => {\n        window.requestAnimationFrame(() => {\n          this._stickyHandler();\n        });\n      });\n    }\n\n    // Make sure pfe-navigation or a parent is a header/role=banner element\n    if (this.role !== \"banner\") {\n      const closestHeader = this.closest('header, [role=\"banner\"]');\n      if (!closestHeader) {\n        this.role = \"banner\";\n        this.log(`Added role=banner to ${this.tag}`);\n      }\n    }\n\n    this.classList.add(\"pfe-navigation--processed\");\n    this.addEventListener(\"focusout\", this._focusOutOfNav);\n  } // end connectedCallback()\n\n  disconnectedCallback() {\n    this._observer.disconnect();\n\n    window.removeEventListener(\"resize\", this._debouncedPreResizeAdjustments);\n    window.removeEventListener(\"resize\", this._debouncedPostResizeAdjustments);\n    this._searchSlot.removeEventListener(\n      \"slotchange\",\n      this._processSearchSlotChange\n    );\n    this._overlay.removeEventListener(\"click\", this._overlayClickHandler);\n    this._mobileToggle.removeEventListener(\"click\", this._toggleMobileMenu);\n    this._searchToggle.removeEventListener(\"click\", this._toggleSearch);\n    document.removeEventListener(\"keydown\", this._generalKeyboardListener);\n\n    if (this._siteSwitcherBackButton) {\n      this._siteSwitcherBackButton.removeEventListener(\n        \"click\",\n        this._siteSwitcherBackClickHandler\n      );\n    }\n\n    const mobileSliderObserverKeys = Object.keys(\n      this._mobileSliderMutationObservers\n    );\n    for (let index = 0; index < mobileSliderObserverKeys.length; index++) {\n      this._mobileSliderMutationObservers[\n        mobileSliderObserverKeys[index]\n      ].disconnect();\n    }\n\n    const customDropdownAlertsObserversKeys = Object.keys(\n      this._customDropdownAlertsObservers\n    );\n    for (\n      let index = 0;\n      index < customDropdownAlertsObserversKeys.length;\n      index++\n    ) {\n      const currentId = customDropdownAlertsObserversKeys[index];\n      this._customDropdownAlertsObservers[currentId].disconnect();\n    }\n\n    const mobileSliderFocusTrapKeys = Object.keys(\n      this._mobileSliderFocusTrapEvents\n    );\n    for (let index = 0; index < mobileSliderFocusTrapKeys.length; index++) {\n      const currentId = mobileSliderFocusTrapKeys[index];\n      this._mobileSliderFocusTrapElements[currentId].removeEventListener(\n        \"keydown\",\n        this._mobileSliderFocusTrapEvents[currentId]\n      );\n    }\n\n    const menuBreakpointQueriesKeys = Object.keys(this._menuBreakpointQueries);\n    for (let index = 0; index < menuBreakpointQueriesKeys.length; index++) {\n      const menuBreakpointQueryKey = menuBreakpointQueriesKeys[index];\n      if (this._menuBreakpointQueries[menuBreakpointQueryKey]) {\n        this._removeMediaQueryListener(\n          this._menuBreakpointQueries[menuBreakpointQueryKey],\n          menuBreakpointQueryKey === \"mainMenu\"\n            ? this._collapseMainMenu\n            : this._collapseSecondaryLinks\n        );\n      }\n    }\n\n    if (this.sticky) {\n      window.removeEventListener(\"scroll\", () => {\n        window.requestAnimationFrame(() => {\n          this._stickyHandler();\n        });\n      });\n    }\n\n    if (this._accountToggle) {\n      this._accountToggle.removeEventListener(\n        \"click\",\n        this._accountToggleClick\n      );\n    }\n\n    // Remove main menu dropdown listeners\n    const dropdownButtons = this.shadowRoot.querySelectorAll(\n      \".pfe-navigation__menu-link--has-dropdown\"\n    );\n    for (let index = 0; index < dropdownButtons.length; index++) {\n      const dropdownButton = dropdownButtons[index];\n      dropdownButton.removeEventListener(\"click\", this._dropdownItemToggle);\n    }\n  } // end disconnectedCallback()\n\n  /**\n   * Get the translated text, or english as fallback\n   * @param {string} key The key from this.navTranslations[this._lang][KEY]\n   * @returns {string}\n   */\n  getTranslatedText(key) {\n    const lang = this.lang ? this.lang : 'en';\n    if (key in this.navTranslations.en) {\n      if (lang in this.navTranslations) {\n        if (this.navTranslations[lang][key]) {\n          return this.navTranslations[lang][key];\n        }\n        else {\n          console.error(`pfe-navigation.getTranslatedText: Missing translation for ${key} in ${lang}`);\n        }\n      }\n      else {\n        console.error(`pfe-navigation.getTranslatedText: Couldn't find ${lang} in available translations. See available lang codes:`, Object.keys(this.navTranslations));\n      }\n      return this.navTranslations.en[key];\n    }\n    console.error(`pfe-navigation.getTranslatedText: Couldn't find ${key} as translated string.`);\n    return '';\n  }\n\n  /**\n   * Utility function to polyfill media query listeners\n   */\n  _addMediaQueryListener(mediaQueryObject, eventHandler) {\n    if (\n      mediaQueryObject &&\n      typeof mediaQueryObject.addEventListener !== \"undefined\"\n    ) {\n      mediaQueryObject.addEventListener(\"change\", eventHandler);\n    }\n    // @note Removed IE Support for breakpoints\n    // else if (mediaQueryObject && typeof mediaQueryObject.addListener === \"function\") {\n    // mediaQueryObject.addListener(eventHandler);\n    // }\n  }\n\n  /**\n   * Utility function to polyfill media query listeners\n   */\n  _removeMediaQueryListener(mediaQueryObject, eventHandler) {\n    if (\n      mediaQueryObject &&\n      typeof mediaQueryObject.removeEventListener !== \"undefined\"\n    ) {\n      mediaQueryObject.removeEventListener(\"change\", eventHandler);\n    }\n    // @note Removed IE Support for breakpoints\n    // else if (mediaQueryObject && typeof mediaQueryObject.removeListener === \"function\") {\n    // mediaQueryObject.removeListener(eventHandler);\n    // }\n  }\n\n  /**\n   * Utility function that is used to display more console logging in non-prod env\n   */\n  _isDevelopment() {\n    return this.hasAttribute(\"debug\");\n  }\n\n  /**\n   * Utility function to return DOM Object for a toggle, since it may be in the parent or shadow DOM\n   * @param {string} toggleId Id of toggle to retrieve\n   * @return {object} DOM Object of desired toggle\n   */\n  getToggleElement(toggleId) {\n    if (stringStartsWith(toggleId, \"pfe-navigation__secondary-link--\")) {\n      return this.querySelector(`#${toggleId}`);\n    } else if (\n      toggleId === \"pfe-navigation__account-toggle\" &&\n      this.classList.contains(\"pfe-navigation--has-custom-account-dropdown\")\n    ) {\n      return this.querySelector(`#${toggleId}`);\n    } else {\n      return this.shadowRoot.getElementById(toggleId);\n    }\n  }\n\n  /**\n   * Utility function to return DOM Object for a dropdown, since it may be in the parent or shadow DOM\n   * @param {string} dropdownId Id of dropdown to retrieve\n   * @return {object} DOM Object of desired dropdown\n   */\n  getDropdownElement(dropdownId) {\n    if (stringStartsWith(dropdownId, \"pfe-navigation__custom-dropdown--\")) {\n      return this.querySelector(`#${dropdownId}`);\n    } else if (\n      dropdownId === \"pfe-navigation__account-dropdown\" &&\n      this.classList.contains(\"pfe-navigation--has-custom-account-dropdown\")\n    ) {\n      return this.querySelector(`#${dropdownId}`);\n    } else {\n      return this.shadowRoot.getElementById(dropdownId);\n    }\n  }\n\n  /**\n   * Checks to see if anything in the menu, or if a specific part of it is open\n   * @param {string} toggleId Optional. Check if specific part of menu is open, if blank will check if anything is open\n   * @return {boolean}\n   */\n  isOpen(toggleId) {\n    const openToggleId = this.openToggle;\n    // Is anything open\n    if (openToggleId) {\n      if (typeof toggleId === \"undefined\") {\n        // Something is open, and a toggleId wasn't set\n        return true;\n      }\n      // Figure out if the mobile menu is open due to it's children, account toggle is not a child dropdown\n      if (\n        toggleId === \"mobile__button\" &&\n        openToggleId !== \"pfe-navigation__account-toggle\"\n      ) {\n        // If the link is main menu, they're all children of the mobile toggle, the mobile toggle should be open\n        if (stringStartsWith(openToggleId, \"main-menu\")) {\n          return true;\n        }\n        // If we're at mobile, and any link other than account toggle is open, the mobile toggle should be open\n        if (this.isSecondaryLinksSectionCollapsed()) {\n          return true;\n        }\n      }\n\n      // If there isn't a parent/child dropdown situation, then see if the requested toggle is currently open\n      return toggleId === openToggleId;\n    }\n\n    return false;\n  }\n\n  /**\n   * Use for elements that stop being dropdowns\n   *\n   * @param {object} toggleElement Toggle Button DOM Element\n   * @param {object} dropdownWrapper Dropdown wrapper DOM element\n   */\n  _removeDropdownAttributes(toggleElement, dropdownWrapper) {\n    let toggleId = null;\n\n    if (toggleElement) {\n      toggleId = toggleElement.id;\n      toggleElement.removeAttribute(\"aria-expanded\");\n      toggleElement.parentElement.classList.remove(\n        \"pfe-navigation__menu-item--open\"\n      );\n    }\n\n    // this.log(\n    //   \"_removeDropdownAttributes\",\n    //   toggleId,\n    //   dropdownWrapper ? dropdownWrapper.id : 'undefined'\n    // );\n\n    if (dropdownWrapper) {\n      dropdownWrapper.removeAttribute(\"aria-hidden\");\n      dropdownWrapper.classList.remove(\n        \"pfe-navigation__dropdown-wrapper--invisible\"\n      );\n      dropdownWrapper.style.removeProperty(\"height\");\n    }\n  }\n\n  /**\n   * Utility function to set height of a dropdown\n   * Depends on a dropdown having 2 wrappers and the parameter should be the outer wrapper\n   * @param {object} dropdownWrapper DOM Object of dropdown wrapper\n   */\n  _setDropdownHeight(dropdownWrapper) {\n    const dropdownHeight = dropdownWrapper.children[0].offsetHeight;\n    // @NOTE not sure this is needed since offsetHeight will always return a number\n    if (typeof dropdownHeight === \"number\") {\n      dropdownWrapper.style.setProperty(\"height\", `${dropdownHeight}px`);\n    } else {\n      dropdownWrapper.style.setProperty(\"height\", \"auto\");\n    }\n  }\n\n  /**\n   * Finds the current dropdown and sets the height\n   * assuming that the the nav state is at a point where a dropdown height is set with JS\n   */\n  updateOpenDropdownHeight() {\n    // Quick exit if it's open\n    if (!this.isOpen()) {\n      this.warn(\"There doesn't seem to be an open dropdown.\");\n      return;\n    }\n    // Quick exit if we're on desktop\n    if (this.breakpoint === \"desktop\") {\n      this.warn(\"Dropdown height is not set for desktop breakpoint.\");\n    }\n\n    // Do what we came to\n    const openToggleId = this.openToggle;\n    const dropdownId = this._getDropdownId(openToggleId);\n    if (!dropdownId) {\n      this.warn(`Couldn't find dropdown for the open toggle: ${openToggleId}`);\n      return;\n    }\n\n    const dropdown = this.getDropdownElement(dropdownId);\n    if (dropdown) {\n      this._setDropdownHeight(dropdown);\n    } else {\n      this.warn(`Couldn't get dropdown element with the id: ${dropdownId}`);\n    }\n  }\n\n  /**\n   * Sets attributes for an open element, but DOES NOT update navigation state\n   * Only use to update DOM State to reflect nav state\n   * Almost all open/close actions should go through this._changeNavigationState, not this function\n   *\n   * @param {object} toggleElement Toggle Button DOM Element\n   * @param {object} dropdownWrapper Dropdown wrapper DOM element\n   */\n  _addOpenDropdownAttributes(toggleElement, dropdownWrapper) {\n    // Toggle Button DOM Element ID attribute\n    let toggleId = null;\n    // Dropdown wrapper DOM element ID attribute\n    let dropdownWrapperId = null;\n    const isMobileSlider =\n      this.breakpoint === \"mobile\" &&\n      toggleElement.parentElement.hasAttribute(\"mobile-slider\");\n    let isMainMenuToggle = false;\n    let isCustomLink = false;\n\n    if (toggleElement) {\n      toggleId = toggleElement.id;\n      isMainMenuToggle = stringStartsWith(toggleId, \"main-menu__button--\");\n      if (!isMainMenuToggle) {\n        isCustomLink = stringStartsWith(\n          toggleId,\n          \"pfe-navigation__secondary-link--\"\n        );\n      }\n    }\n\n    if (dropdownWrapper) {\n      dropdownWrapperId = dropdownWrapper.id;\n    } else {\n      dropdownWrapperId = toggleElement.getAttribute(\"aria-controls\");\n      dropdownWrapper = this.querySelector(`#${dropdownWrapperId}`);\n    }\n\n    // this.log(\n    //   \"_addOpenDropdownAttributes\",\n    //   toggleId,\n    //   dropdownWrapper ? dropdownWrapper.id : 'undefined'\n    // );\n\n    if (toggleElement) {\n      toggleElement.setAttribute(\"aria-expanded\", \"true\");\n      if (!toggleElement.hasAttribute(\"aria-controls\")) {\n        toggleElement.setAttribute(\"aria-controls\", dropdownWrapperId);\n      }\n\n      // Main menu specific actions\n      if (stringStartsWith(toggleId, \"main-menu__\")) {\n        toggleElement.parentElement.classList.add(\n          \"pfe-navigation__menu-item--open\"\n        );\n      }\n    }\n\n    if (dropdownWrapper) {\n      dropdownWrapper.setAttribute(\"aria-hidden\", \"false\");\n      dropdownWrapper.removeAttribute(\"tabindex\");\n      dropdownWrapper.classList.remove(\n        \"pfe-navigation__dropdown-wrapper--invisible\"\n      );\n\n      // Setting up CSS transforms by setting height with JS\n      let setHeight = false;\n\n      // Handle animation state and attributes\n      if (toggleId) {\n        if (this.breakpoint === \"mobile\" && isMobileSlider) {\n          this.mobileSlide = true;\n        }\n        // No animations at desktop, and for expanding elements in mobile menu dropdown\n        // (mobile slides over instead of expanding)\n        else if (\n          this.breakpoint === \"mobile\" &&\n          (isMainMenuToggle || isCustomLink)\n        ) {\n          setHeight = true;\n        } else if (this.breakpoint === \"tablet\" && isMainMenuToggle) {\n          setHeight = true;\n        }\n      }\n\n      if (setHeight) {\n        this._setDropdownHeight(dropdownWrapper);\n      }\n    }\n  }\n\n  /**\n   * Sets attributes for a closed element, but DOES NOT update navigation state\n   * Only use to update DOM State to reflect nav state\n   * Almost all open/close actions should go through this._changeNavigationState, not this function\n   *\n   * @param {object} toggleElement Toggle Button DOM Element\n   * @param {object} dropdownWrapper Dropdown wrapper DOM element\n   * @param {number} invisibleDelay Delay on visibility hidden style, in case we need to wait for an animation\n   */\n  _addCloseDropdownAttributes(\n    toggleElement,\n    dropdownWrapper,\n    invisibleDelay = 0\n  ) {\n    // Toggle Button DOM Element ID attribute\n    let toggleId = null;\n    // Dropdown wrapper DOM element ID attribute\n    let dropdownWrapperId = null;\n\n    if (toggleElement) {\n      toggleId = toggleElement.id;\n    }\n    if (dropdownWrapper) {\n      dropdownWrapperId = dropdownWrapper.id;\n    }\n\n    if (toggleElement) {\n      toggleElement.setAttribute(\"aria-expanded\", \"false\");\n      if (!toggleElement.hasAttribute(\"aria-controls\") && dropdownWrapperId) {\n        toggleElement.setAttribute(\"aria-controls\", dropdownWrapperId);\n      }\n      // Main menu specific code\n      if (stringStartsWith(toggleId, \"main-menu\")) {\n        toggleElement.parentElement.classList.remove(\n          \"pfe-navigation__menu-item--open\"\n        );\n      }\n    }\n\n    // Handle dropdown wrapper\n    if (dropdownWrapper) {\n      dropdownWrapper.style.removeProperty(\"height\");\n      dropdownWrapper.setAttribute(\"aria-hidden\", \"true\");\n      // Set tabindex in conjuction with aria-hidden true\n      dropdownWrapper.setAttribute(\"tabindex\", \"-1\");\n\n      if (!this._prefersReducedMotion && invisibleDelay) {\n        // Sometimes need a delay visibility: hidden so animation can finish\n        window.setTimeout(\n          () =>\n            dropdownWrapper.classList.add(\n              \"pfe-navigation__dropdown-wrapper--invisible\"\n            ),\n          invisibleDelay // Should be slightly longer than the animation time\n        );\n      } else {\n        dropdownWrapper.classList.add(\n          \"pfe-navigation__dropdown-wrapper--invisible\"\n        );\n      }\n    }\n\n    this.mobileSlide = false;\n  }\n\n  /**\n   * Create dash delimited string with no special chars for use in HTML attributes\n   * @param {string}\n   * @return {string} String that can be used as a class or ID (no spaces or special chars)\n   */\n  _createMachineName(text) {\n    if (typeof text !== \"string\") return;\n    return (\n      text\n        // Get rid of special characters\n        .replace(/[!\\\"#$%&'\\(\\)\\*\\+,\\.\\/:;<=>\\?\\@\\[\\\\\\]\\^`\\{\\|\\}~]/g, \"\")\n        // Get rid of extra space\n        .trim()\n        // Replace remaining single spaces between words with -\n        .replace(/[\\s\\-]+/g, \"-\")\n    );\n  }\n\n  /**\n   * Figures out if secondary links are collapsed\n   * @param {boolean} forceRecalculation\n   * @returns {boolean}\n   */\n  isSecondaryLinksSectionCollapsed(forceRecalculation) {\n    // Trying to avoid running getComputedStyle too much by caching it on the web component object\n    if (\n      forceRecalculation ||\n      this.secondaryLinksSectionCollapsed === null ||\n      window.innerWidth !== this._windowInnerWidth\n    ) {\n      const secondaryLinksWrapperFlexDirection = window.getComputedStyle(\n        this._secondaryLinksWrapper,\n        false\n      ).flexDirection;\n      this.secondaryLinksSectionCollapsed =\n        secondaryLinksWrapperFlexDirection === \"column\";\n\n      // Update the stored windowInnerWidth variable so we don't recalculate for no reason\n      if (window.innerWidth !== this._windowInnerWidth) {\n        this._windowInnerWidth = window.innerWidth;\n        // Update the other layout state function, but avoid infinite loop :P\n        this.isMobileMenuButtonVisible(true);\n      }\n      this.log(\n        \"isSecondaryLinksSectionCollapsed recalculated\",\n        `Secondary Links Wrapper Flex Direction is ${secondaryLinksWrapperFlexDirection}`,\n        `isSecondaryLinksSectionCollapsed is ${this.secondaryLinksSectionCollapsed}`\n      );\n    }\n    return this.secondaryLinksSectionCollapsed;\n  }\n\n  /**\n   * Figures out if the mobile menu toggle (aka hamburger icon) is visible\n   * @param {boolean} forceRecalculation\n   * @returns {boolean}\n   */\n  isMobileMenuButtonVisible(forceRecalculation) {\n    // Trying to avoid running getComputedStyle too much by caching iton the web component object\n    if (\n      forceRecalculation ||\n      this.mainMenuButtonVisible === null ||\n      window.innerWidth !== this._windowInnerWidth\n    ) {\n      const mobileToggleDisplay = window.getComputedStyle(\n        this._mobileToggle,\n        false\n      ).display;\n      this.mainMenuButtonVisible = mobileToggleDisplay !== \"none\";\n\n      // Update the stored windowInnerWidth variable so we don't recalculate for no reason\n      if (window.innerWidth !== this._windowInnerWidth) {\n        this._windowInnerWidth = window.innerWidth;\n        this.isSecondaryLinksSectionCollapsed(true);\n      }\n      this.log(\n        \"isMobileMenuButtonVisible recalculated\",\n        `mobileToggle's display is ${mobileToggleDisplay}`,\n        `isMobileMenuButtonVisible is ${this.mainMenuButtonVisible}`\n      );\n    }\n    return this.mainMenuButtonVisible;\n  }\n\n  /**\n   * Sets the current breakpoint as an attribute on the component\n   */\n  _calculateBreakpointAttribute() {\n    if (_isCrustyBrowser()) {\n      if (!this.breakpoint) {\n        this.breakpoint = \"desktop\";\n      }\n      return;\n    }\n    let currentBreakpoint = null;\n    if (this.isMobileMenuButtonVisible()) {\n      if (this.isSecondaryLinksSectionCollapsed()) {\n        currentBreakpoint = \"mobile\";\n      } else {\n        currentBreakpoint = \"tablet\";\n      }\n    } else {\n      currentBreakpoint = \"desktop\";\n    }\n    this.breakpoint = currentBreakpoint;\n    return currentBreakpoint;\n  }\n\n  /**\n   * Sets this._currentMobileDropdown depending on breakpoint\n   */\n  _setCurrentMobileDropdown() {\n    if (this.isMobileMenuButtonVisible()) {\n      if (this.isSecondaryLinksSectionCollapsed()) {\n        this._currentMobileDropdown = this._menuDropdownXs;\n        this._currentMobileDropdown.classList.add(\n          \"pfe-navigation__mobile-dropdown\"\n        );\n\n        if (this._menuDropdownMd) {\n          this._menuDropdownMd.classList.remove(\n            \"pfe-navigation__mobile-dropdown\"\n          );\n        }\n      } else {\n        if (this._menuDropdownMd) {\n          this._currentMobileDropdown = this._menuDropdownMd;\n          this._currentMobileDropdown.classList.add(\n            \"pfe-navigation__mobile-dropdown\"\n          );\n        }\n        this._menuDropdownXs.classList.remove(\n          \"pfe-navigation__mobile-dropdown\"\n        );\n      }\n    } else {\n      this._currentMobileDropdown = null;\n      this._menuDropdownXs.classList.remove(\"pfe-navigation__mobile-dropdown\");\n      if (this._menuDropdownMd) {\n        this._menuDropdownMd.classList.remove(\n          \"pfe-navigation__mobile-dropdown\"\n        );\n      }\n\n      // Ran into a circumstance where these elements didn't exist... ? Don't know how that's possible.\n      if (this._menuDropdownXs) {\n        this._menuDropdownXs.classList.remove(\n          \"pfe-navigation__mobile-dropdown\"\n        );\n      }\n      if (this._menuDropdownMd) {\n        this._menuDropdownMd.classList.remove(\n          \"pfe-navigation__mobile-dropdown\"\n        );\n      }\n    }\n  }\n\n  /**\n   * Get the dropdownId based on the toggleId\n   * @param {string} toggleId ID of a toggle button\n   * @return {string} ID of the corresponding dropdown\n   */\n  _getDropdownId(toggleId) {\n    if (toggleId === \"mobile__button\") {\n      if (this._currentMobileDropdown) {\n        return this._currentMobileDropdown.id;\n      }\n    }\n    if (stringStartsWith(toggleId, \"main-menu\")) {\n      return this.shadowRoot.getElementById(toggleId).parentElement.dataset\n        .dropdownId;\n    }\n    if (stringStartsWith(toggleId, \"secondary-links\")) {\n      switch (toggleId) {\n        case \"secondary-links__button--search\":\n          return \"pfe-navigation__search-wrapper--md\";\n      }\n    }\n\n    const toggleElement = this.getToggleElement(toggleId);\n    if (toggleElement && toggleElement.hasAttribute(\"aria-controls\")) {\n      return toggleElement.getAttribute(\"aria-controls\");\n    }\n    this.error(`Could not find corresponding dropdown for #${toggleId}`);\n  }\n\n  /**\n   * Figure out if a toggle is a child of a dropdown, returns DOM Objects for the parent\n   * @param {string} toggleId Id attribute of toggle\n   * @return {array|false} An array with the DOM object of the toggle and the dropdown, in that order, false if it's not a child\n   */\n  _getParentToggleAndDropdown(toggleId) {\n    // At mobile and tablet main menu items are in the mobile dropdown\n    if (\n      (this.breakpoint === \"tablet\" || this.breakpoint === \"mobile\") &&\n      stringStartsWith(toggleId, \"main-menu\")\n    ) {\n      return [this._mobileToggle, this._currentMobileDropdown];\n    }\n\n    // At mobile secondary links are in the mobile dropdown\n    if (\n      this.breakpoint === \"mobile\" &&\n      stringStartsWith(toggleId, \"pfe-navigation__secondary-link--\")\n    ) {\n      return [this._mobileToggle, this._currentMobileDropdown];\n    }\n    return false;\n  }\n\n  /**\n   * Manages all dropdowns and ensures only one is open at a time\n   * @param {string} toggleId Id to use in open-toggle param\n   * @param {string} toState Optional, use to set the end state as 'open' or 'close', instead of toggling the current state\n   * @return {boolean} True if the final state is open, false if closed\n   */\n  _changeNavigationState(toggleId, toState) {\n    // Preventing issues in IE11 & Edge\n    if (_isCrustyBrowser()) {\n      this._observer.disconnect();\n    }\n    const isOpen = this.isOpen(toggleId);\n    // Set toState param to go to opposite of current state if toState isn't set\n    if (typeof toState === \"undefined\") {\n      toState = isOpen ? \"close\" : \"open\";\n    }\n    const dropdownId = this._getDropdownId(toggleId);\n    const currentlyOpenToggleId = this.openToggle;\n    const toggleElementToToggle = this.getToggleElement(toggleId);\n\n    /**\n     * Local utility function to open a dropdown (shouldn't be used outside of parent function)\n     * @param {object} toggleElement Toggle Button DOM Element\n     * @param {object} dropdownWrapper Dropdown wrapper DOM element\n     */\n    const _openDropdown = (toggleElement, dropdownWrapper) => {\n      const toggleIdToOpen = toggleElement.id;\n\n      this._addOpenDropdownAttributes(toggleElement, dropdownWrapper);\n\n      this.openToggle = toggleIdToOpen;\n\n      this.emitEvent(PfeNavigation.events.expandedItem, {\n        detail: {\n          toggle: toggleElement,\n          pane: dropdownWrapper,\n          parent: this,\n        },\n      });\n\n      this.emitEvent(PfeNavigation.events.pfeNavigationItemOpen, {\n        detail: {\n          toggle: toggleElement,\n          pane: dropdownWrapper,\n          parent: this,\n        },\n      });\n\n      // Show overlay\n      this._overlay.hidden = false;\n    };\n\n    /**\n     * Local utility function to close a dropdown (shouldn't be used outside of parent function)\n     * @param {object} toggleElement Toggle Button DOM Element\n     * @param {object} dropdownWrapper Dropdown wrapper DOM element\n     * @param {boolean} backOut If we're in a subdropdown, should we keep the parent one open, false will close all dropdowns\n     */\n    const _closeDropdown = (toggleElement, dropdownWrapper, backOut = true) => {\n      const toggleIdToClose = toggleElement.id;\n\n      let invisibleDelay = 0;\n      // Dropdowns with a parent dropdown animate open and need a delay\n      if (this._getParentToggleAndDropdown(toggleIdToClose)) {\n        invisibleDelay = 300;\n      }\n\n      this._addCloseDropdownAttributes(\n        toggleElement,\n        dropdownWrapper,\n        invisibleDelay\n      );\n\n      // If we're backing out close child dropdown, but not parent\n      let closed = false;\n      const parentToggleAndDropdown =\n        this._getParentToggleAndDropdown(toggleIdToClose);\n      if (backOut) {\n        if (parentToggleAndDropdown) {\n          _openDropdown(parentToggleAndDropdown[0], parentToggleAndDropdown[1]);\n          closed = true;\n        }\n      } else {\n        this._addCloseDropdownAttributes(\n          parentToggleAndDropdown[0],\n          parentToggleAndDropdown[1]\n        );\n      }\n\n      // If we weren't able to back out, close everything by removing the open-toggle attribute\n      if (!closed) {\n        this.removeAttribute(\"open-toggle\");\n        this._overlay.hidden = true;\n      }\n\n      this.emitEvent(PfeNavigation.events.collapsedItem, {\n        detail: {\n          toggle: toggleElement,\n          pane: dropdownWrapper,\n          parent: this,\n        },\n      });\n\n      this.emitEvent(PfeNavigation.events.pfeNavigationItemClose, {\n        detail: {\n          toggle: toggleElement,\n          pane: dropdownWrapper,\n          parent: this,\n        },\n      });\n    };\n\n    // Shut any open dropdowns before we open any other\n    if (currentlyOpenToggleId) {\n      const parentToggleAndDropdown =\n        this._getParentToggleAndDropdown(toggleId);\n      const currentlyOpenParentToggleAndDropdown =\n        this._getParentToggleAndDropdown(currentlyOpenToggleId);\n      // Don't close a parent dropdown if we're opening the child\n      if (\n        !parentToggleAndDropdown ||\n        parentToggleAndDropdown[0].id !== currentlyOpenToggleId\n      ) {\n        const openToggle = this.getToggleElement(currentlyOpenToggleId);\n        const openDropdownId = this._getDropdownId(currentlyOpenToggleId);\n        const keepParentOpen =\n          currentlyOpenParentToggleAndDropdown &&\n          parentToggleAndDropdown &&\n          currentlyOpenParentToggleAndDropdown[0].id ===\n            parentToggleAndDropdown[0].id;\n        _closeDropdown(\n          openToggle,\n          this.getDropdownElement(openDropdownId),\n          keepParentOpen\n        );\n      }\n    }\n\n    if (toState !== \"close\" && toState !== \"open\") {\n      this.error(\n        `toState param was set to ${toState}, can only be 'close' or 'open'`\n      );\n    }\n\n    // Update the element we came to update\n    if (toState === \"close\") {\n      _closeDropdown(\n        toggleElementToToggle,\n        this.getDropdownElement(dropdownId)\n      );\n    } else if (toState === \"open\") {\n      _openDropdown(toggleElementToToggle, this.getDropdownElement(dropdownId));\n    }\n\n    // Clone state attribute inside of Shadow DOM to avoid compound :host() selectors\n    this._shadowDomOuterWrapper.setAttribute(\"open-toggle\", this.openToggle);\n\n    // Reconnecting mutationObserver for IE11 & Edge\n    if (_isCrustyBrowser()) {\n      this._observer.observe(this, lightDomObserverConfig);\n    }\n\n    return toState === \"open\";\n  } // end _changeNavigationState\n\n  /**\n   * Close expanded elements if the focus leaves the nav\n   */\n  _focusOutOfNav(event) {\n    if (this.isOpen()) {\n      if (\n        event.relatedTarget &&\n        !event.relatedTarget.closest(\"pfe-navigation\")\n      ) {\n        const openToggleId = this.openToggle;\n        this._changeNavigationState(openToggleId, \"close\");\n      }\n    }\n  }\n\n  /**\n   * Add a class to component wrapper if we have a search slot\n   */\n  _processSearchSlotChange() {\n    if (this.hasSlot(\"search\")) {\n      this.classList.add(\"pfe-navigation--has-search\");\n      this._searchToggle.hidden = false;\n    } else {\n      this.classList.remove(\"pfe-navigation--has-search\");\n      this._searchToggle.hidden = true;\n    }\n  }\n\n  /**\n   * Creates HTML for icon in a secondary link\n   * @param {string} icon Name of icon from pfe-icon\n   * @return {object} DOM Object for pfe-icon\n   */\n  _createPfeIcon(icon) {\n    const iconElement = document.createElement(\"pfe-icon\");\n    iconElement.setAttribute(\"icon\", icon);\n    iconElement.setAttribute(\"size\", \"sm\");\n    iconElement.setAttribute(\"aria-hidden\", \"true\");\n    return iconElement;\n  }\n\n  /**\n   * Update alert count on a custom dropdown\n   * @param {object} pfeNavigationDropdown DOM Object for the dropdown we need to update\n   */\n  _updateAlerts(pfeNavigationDropdown) {\n    // No alerts for IE11\n    if (_isCrustyBrowser()) {\n      return;\n    }\n    const toggle =\n      pfeNavigationDropdown.parentElement.parentElement.querySelector(\n        \".pfe-navigation__secondary-link\"\n      );\n    let alertsContainer = toggle.querySelector(\".secondary-link__alert-count\");\n    if (pfeNavigationDropdown.alerts) {\n      if (!alertsContainer) {\n        alertsContainer = document.createElement(\"div\");\n        alertsContainer.classList.add(\"secondary-link__alert-count\");\n        alertsContainer.innerText = pfeNavigationDropdown.alerts;\n        toggle\n          .querySelector(\".secondary-link__icon-wrapper\")\n          .appendChild(alertsContainer);\n      } else {\n        alertsContainer.innerText = pfeNavigationDropdown.alerts;\n      }\n    } else if (alertsContainer) {\n      alertsContainer.innerText = \"\";\n    }\n  }\n\n  /**\n   * Translate strings based on passed in object\n   */\n  _translateStrings() {\n    this._mobileToggleText.innerText = this.getTranslatedText('menu');\n    this._searchButtonText.innerText = this.getTranslatedText('search');\n    if (this._accountLogInLink) {\n      this._accountLogInLink.innerText = this.getTranslatedText('login');\n      this._accountLogInLink.prepend(this._createPfeIcon(\"web-icon-user\"));\n    }\n    if (this._siteSwitcherBackButton) {\n      this._siteSwitcherBackButton.innerText = this.getTranslatedText('returnToMainMenu')\n    }\n    if (this._accountToggle) {\n      this._accountToggle.setAttribute(\"aria-label\", this.getTranslatedText('openAccountMenu'));\n    }\n\n    // Widths have changed, should recalculate dynamic breakpoints\n    this._menuBreakpoints.secondaryLinks = null;\n    window.setTimeout(this._calculateMenuBreakpoints, 0);\n  }\n\n  /**\n   * Translate mobile menu button string\n   */\n  _updateMobileMenuText() {\n    this._mobileButton.textContent = this.mobileButtonTranslation;\n  }\n\n  /**\n   * Translate search button string\n   */\n  _updateSearchButtonText() {\n    this._searchButtonText.textContent = this.searchButtonTranslation;\n  }\n\n  /**\n   * Create a custom dropdown toggle\n   * @param {Element} pfeNavigationDropdown DOM object for a pfe-navigation-dropdown tag in the secondary-links slot\n   * @param {String} buttonText The text for the button\n   * @param {String} icon The name of the icon for pfe-icon\n   * @returns {Element} Button with necessary HTML\n   */\n  _createCustomDropdownToggle(pfeNavigationDropdown, buttonText, icon) {\n    const toggleMachineName = pfeNavigationDropdown.dataset.idSuffix\n      ? pfeNavigationDropdown.dataset.idSuffix\n      : this._createMachineName(buttonText);\n    const toggle = document.createElement(\"button\");\n    const iconWrapper = document.createElement(\"div\");\n\n    // Set the id suffix in case it's needed later\n    if (!pfeNavigationDropdown.dataset.idSuffix) {\n      pfeNavigationDropdown.dataset.idSuffix = toggleMachineName;\n    }\n\n    toggle.innerText = buttonText;\n    toggle.classList.add(\"pfe-navigation__secondary-link\");\n\n    iconWrapper.classList.add(\"secondary-link__icon-wrapper\");\n    iconWrapper.prepend(this._createPfeIcon(icon));\n    toggle.prepend(iconWrapper);\n\n    return toggle;\n  }\n\n  /**\n   * Process secondary dropdown, a toggle button, behaviors, and necessary attributes\n   * @param {array|NodeList} pfeNavigationDropdowns List of DOM object for a pfe-navigation-dropdown tag in the secondary-links slot\n   */\n  _processCustomDropdowns(pfeNavigationDropdowns) {\n    // Preventing issues in IE11 & Edge\n    this.log(\"Processing Custom Dropdowns\");\n    if (_isCrustyBrowser()) {\n      this._observer.disconnect();\n    }\n\n    for (let index = 0; index < pfeNavigationDropdowns.length; index++) {\n      const pfeNavigationDropdown = pfeNavigationDropdowns[index];\n      const isSecondaryLink =\n        pfeNavigationDropdown.parentElement.getAttribute(\"slot\") ===\n        \"secondary-links\";\n      const isAccountDropdown =\n        pfeNavigationDropdown.parentElement.getAttribute(\"slot\") === \"account\";\n\n      /**\n       * Validate the custom dropdowns\n       */\n      if (\n        isSecondaryLink ||\n        // Is it an unprocessed account dropdown\n        (isAccountDropdown &&\n          !pfeNavigationDropdown.classList.contains(\"pfe-navigation__dropdown\"))\n      ) {\n        const toggleAndDropdownWrapper = pfeNavigationDropdown.parentElement;\n        if (isAccountDropdown) {\n          this.classList.add(\"pfe-navigation--has-custom-account-dropdown\");\n        }\n\n        // Check for provided toggle element\n        let toggle = toggleAndDropdownWrapper.querySelector(\n          \".pfe-navigation__secondary-link, .pfe-navigation__account-toggle\"\n        );\n        const attributeValues = {};\n        let toggleMachineName = pfeNavigationDropdown.dataset.idSuffix;\n\n        // Validate the toggle if we have one\n        if (toggle) {\n          if (!toggle.querySelector(\"pfe-icon\")) {\n            this.error(\n              \"A pfe-navigation-dropdown in the secondary-links slot is missing an icon\"\n            );\n            break;\n          }\n\n          if (!toggleMachineName) {\n            toggleMachineName = this._createMachineName(toggle.innerText);\n          }\n        }\n        // Validate we have the necessary properties to create the toggle\n        else {\n          const requiredAttributes = [\"name\", \"icon\"];\n          for (let index = 0; index < requiredAttributes.length; index++) {\n            const attribute = requiredAttributes[index];\n            if (!pfeNavigationDropdown.getAttribute(attribute)) {\n              this.error(\n                `A pfe-navigation-dropdown in the secondary-links slot doesn't seem to have a toggle and is missing the attribute ${attribute}, which is required to make a toggle`\n              );\n              break;\n            } else {\n              attributeValues[attribute] =\n                pfeNavigationDropdown.getAttribute(attribute);\n            }\n          }\n\n          if (!toggleMachineName && attributeValues[\"name\"]) {\n            toggleMachineName = this._createMachineName(\n              attributeValues[\"name\"]\n            );\n          }\n        }\n\n        /**\n         * Process the custom dropdown markup\n         */\n        const dropdownWrapper = document.createElement(\"div\");\n        let dropdownId;\n        if (isSecondaryLink) {\n          dropdownId = `pfe-navigation__custom-dropdown--${toggleMachineName}`;\n        } else if (isAccountDropdown) {\n          dropdownId = `pfe-navigation__account-dropdown`;\n        }\n\n        // Set the id suffix in case it's needed later\n        if (!pfeNavigationDropdown.dataset.idSuffix) {\n          pfeNavigationDropdown.dataset.idSuffix = toggleMachineName;\n        }\n\n        // Create a toggle if there isn't one\n        let createdNewToggle = false;\n        if (!toggle) {\n          if (attributeValues[\"name\"]) {\n            toggle = this._createCustomDropdownToggle(\n              pfeNavigationDropdown,\n              attributeValues[\"name\"],\n              attributeValues[\"icon\"]\n            );\n            createdNewToggle = true;\n          } else {\n            this.error(\n              \"Could not find or create a toggle. Please add a button.pfe-navigation__secondary-link or add the attributes name & icon to pfe-navigation dropdown\"\n            );\n            break;\n          }\n        }\n\n        if (isSecondaryLink) {\n          toggle.id = `pfe-navigation__secondary-link--${toggleMachineName}`;\n        } else if (isAccountDropdown) {\n          toggle.id = \"pfe-navigation__account-toggle\";\n        }\n\n        toggle.addEventListener(\"click\", this._dropdownItemToggle);\n\n        // Add Dropdown attributes\n        dropdownWrapper.setAttribute(\"id\", dropdownId);\n        dropdownWrapper.classList.add(\"pfe-navigation__dropdown-wrapper\");\n        dropdownWrapper.appendChild(pfeNavigationDropdown);\n        pfeNavigationDropdown.classList.add(\"pfe-navigation__dropdown\");\n\n        switch (pfeNavigationDropdown.getAttribute(\"dropdown-width\")) {\n          case \"single\":\n            dropdownWrapper.classList.add(\n              \"pfe-navigation__custom-dropdown--single-column\"\n            );\n            toggleAndDropdownWrapper.classList.add(\n              \"pfe-navigation__custom-dropdown__wrapper--single-column\"\n            );\n            break;\n\n          case \"full\":\n          default:\n            dropdownWrapper.classList.add(\n              \"pfe-navigation__custom-dropdown--full\"\n            );\n            toggleAndDropdownWrapper.classList.add(\n              \"pfe-navigation__custom-dropdown__wrapper--full\"\n            );\n            break;\n        }\n\n        if (\n          pfeNavigationDropdown.classList.contains(\n            \"pfe-navigation__dropdown--default-styles\"\n          )\n        ) {\n          dropdownWrapper.classList.add(\n            \"pfe-navigation__dropdown-wrapper--default-styles\"\n          );\n        }\n\n        // For some reason setting this earlier causes the value to be null in the DOM\n        toggle.setAttribute(\"aria-controls\", dropdownId);\n\n        // Adding closed dropdown attributes\n        this._addCloseDropdownAttributes(toggle, dropdownWrapper);\n\n        // Add everything to the DOM that needs to be added\n        if (createdNewToggle) {\n          toggleAndDropdownWrapper.prepend(toggle);\n        }\n        toggleAndDropdownWrapper.classList.add(\n          \"pfe-navigation__custom-dropdown__wrapper\"\n        );\n        toggleAndDropdownWrapper.appendChild(dropdownWrapper);\n\n        // Deal with alerts on dropdown\n        if (isSecondaryLink) {\n          this._updateAlerts(pfeNavigationDropdown);\n        }\n\n        // No alerts for IE11\n        if (!window.ShadyCSS || window.ShadyCSS.nativeShadow) {\n          // Set up observer to catch any updates to the alerts attribute\n          const observerCallback = (mutationList) => {\n            // Call updateAlerts for update targets (should only be 1 per update)\n            for (let index = 0; index < mutationList.length; index++) {\n              this._updateAlerts(mutationList[index].target);\n            }\n          };\n\n          this._customDropdownAlertsObservers[toggle.id] = new MutationObserver(\n            observerCallback\n          );\n          this._customDropdownAlertsObservers[toggle.id].observe(\n            pfeNavigationDropdown,\n            {\n              attributeFilter: [\"alerts\", \"pfe-alerts\"],\n            }\n          );\n        }\n\n        // Process Site Switcher Dropdown\n        if (\n          toggleAndDropdownWrapper.classList.contains(\n            \"pfe-navigation__site-switcher\"\n          )\n        ) {\n          this._siteSwitcherToggle = toggle;\n          const siteSwitcherBackButtonWrapper = document.createElement(\"div\");\n          const siteSwitcherBackButton = document.createElement(\"button\");\n\n          toggleAndDropdownWrapper.setAttribute(\"mobile-slider\", \"\");\n\n          siteSwitcherBackButtonWrapper.classList.add(\n            \"pfe-navigation__site-switcher__back-wrapper\"\n          );\n\n          siteSwitcherBackButton.classList.add(\n            \"pfe-navigation__site-switcher__back-button\"\n          );\n          siteSwitcherBackButton.innerText = this.getTranslatedText('returnToMainMenu');\n\n          siteSwitcherBackButton.addEventListener(\n            \"click\",\n            this._siteSwitcherBackClickHandler\n          );\n\n          this._siteSwitcherBackButton = siteSwitcherBackButton;\n          siteSwitcherBackButtonWrapper.appendChild(siteSwitcherBackButton);\n          pfeNavigationDropdown.prepend(siteSwitcherBackButtonWrapper);\n        }\n      }\n    }\n    this.classList.add(\"pfe-navigation--custom-dropdowns--processed\");\n    this._shadowDomOuterWrapper.setAttribute(\n      \"class\",\n      `pfe-navigation__wrapper ${this.getAttribute(\"class\")}`\n    );\n\n    // Reconnecting mutationObserver for IE11 & Edge\n    if (_isCrustyBrowser()) {\n      this._observer.observe(this, lightDomObserverConfig);\n    }\n  }\n\n  /**\n   * Event handler to capture interactions that occur in the shadow DOM\n   * @param {object} event\n   */\n  _shadowDomInteraction(event) {\n    if (!window.ShadyCSS || window.ShadyCSS.nativeShadow) {\n      this.emitEvent(PfeNavigation.events.shadowDomInteraction, {\n        detail: {\n          target: event.target,\n          parent: this,\n        },\n      });\n    }\n  }\n\n  /**\n   * Adds max-width to logo so logo can squish at mobile sizes\n   * If the logo doesn't squish it may push other menu controls off the side of the screen\n   */\n  _postProcessLogo() {\n    // How many times we'll poll for image dimensions\n    let timesToCheckForImageDimensions = 8;\n    const logoCheckInterval = 500;\n    const logoSelector =\n      \".pfe-navigation__logo-image--screen, .pfe-navigation__logo-image, img, svg\";\n    const logoLink = this._logoWrapper.querySelector(\"a\");\n\n    // Adding event listener so analytics knows when the logo is clicked\n    logoLink.addEventListener(\"click\", () => {\n      this.emitEvent(PfeNavigation.events.shadowDomInteraction, {\n        detail: {\n          target: logoLink,\n          parent: this,\n        },\n      });\n    });\n\n    /**\n     * Sets a max width for the logo the logo can be squished at mobile sizes\n     * @param {Object} logoDimensions Object with width and height key\n     * @param {Integer} maxHeight The maximum height the logo should be\n     */\n    const setLogoMaxWidth = (logoDimensions, maxHeight) => {\n      // Use the proportions of the image and the desired height to calculate the max-width\n      const maxWidth = Math.ceil(\n        (logoDimensions.width * maxHeight) / logoDimensions.height\n      );\n      // Need to apply the max-width to the image because the wrappers have padding\n      const shadowLogo = this._logoWrapper.querySelector(logoSelector);\n      if (shadowLogo) {\n        shadowLogo.style.maxWidth = `var(--pfe-navigation--logo--maxWidth, ${maxWidth}px)`;\n      } else {\n        this.error(\"Couldn't find logo image for \");\n      }\n    };\n\n    /**\n     * Gets the dimensions of the logo\n     * @param {Element} logoElement Logo element, should be an img or svg\n     * @returns {Object} Logo dimensions as an object with width and height keys\n     */\n    const getLogoDimensions = (logoElement) => {\n      const logoDimensions = { width: 0, height: 0 };\n      const logoTag = logoElement.tagName.toLowerCase();\n      if (logoTag === \"svg\") {\n        const svgBounds = logoElement.getBBox();\n        logoDimensions.width = svgBounds.width;\n        logoDimensions.height = svgBounds.height;\n      } else if (logoTag === \"img\") {\n        logoDimensions.width = logoElement.naturalWidth;\n        logoDimensions.height = logoElement.naturalHeight;\n      } else {\n        // Don't poll since we don't know how to handle the logoElement tag\n        timesToCheckForImageDimensions = 0;\n        this.error(\n          `Logo image wasn\\'t a HTML tag that was expected. Expected img or svg, was ${logoTag}`\n        );\n      }\n\n      return logoDimensions;\n    };\n\n    /**\n     * Polls to see when the logo dimensions are available so we can set max width\n     * @param {Element} logoElement Logo element, should be an img or svg\n     */\n    const pollForLogoDimensions = (logoElement) => {\n      this.log(\"Polling for logo dimensions\");\n      let logoDimensions = getLogoDimensions(logoElement);\n      if (logoDimensions.width > 0 && logoDimensions.height > 0) {\n        // Figure out desired height per design spec by checking for small class\n        let logoHeight = this.logoHeights.default;\n        if (\n          logoElement.classList.contains(\"pfe-navigation__logo-image--small\")\n        ) {\n          logoHeight = this.logoHeights.small;\n        }\n        this.log(\n          \"Got logo dimensions\",\n          logoDimensions.width,\n          logoDimensions.height\n        );\n        setLogoMaxWidth(logoDimensions, logoHeight);\n      }\n      // If we didn't get logo dimensions wait a bit and try again\n      else if (timesToCheckForImageDimensions) {\n        window.setTimeout(() => {\n          timesToCheckForImageDimensions--;\n          pollForLogoDimensions(logoElement);\n        }, logoCheckInterval);\n      }\n    };\n\n    // Kicks everything off\n    if (this._logoWrapper) {\n      const logoElement = this._logoWrapper.querySelector(logoSelector);\n      if (logoElement) {\n        pollForLogoDimensions(logoElement);\n      } else {\n        this.error(\n          \"Was not able to identify a logo image, this may cause issues with mobile logo display.\"\n        );\n      }\n    }\n  }\n\n  /**\n   * Handle initialization or changes in light DOM\n   * Clone them into the shadowRoot\n   * @param {array} mutationList Provided by mutation observer\n   */\n  _processLightDom(mutationList) {\n    // If we're mutating because an attribute on the web component starting with pfe- changed, don't reprocess dom\n    let cancelLightDomProcessing = true;\n    let componentClassesChange = false;\n    let needToRecalculateBreakpoints = false;\n    const ignoredTags = [\n      \"PFE-NAVIGATION\",\n      \"PFE-ICON\",\n      \"PFE-NAVIGATION-DROPDOWN\",\n      \"PFE-CTA\",\n    ];\n    const ie11IgnoredClasses = [\n      \"pfe-navigation__dropdown-wrapper\",\n      \"pfe-navigation__dropdown\",\n      \"pfe-cta\",\n    ];\n\n    const recalculateBreakpoints = () => {\n      this._calculateMenuBreakpoints();\n      this._calculateBreakpointAttribute();\n      this._setCurrentMobileDropdown();\n      // If we have a mobile dropdown make sure it has dropdown attributes\n      if (this._currentMobileDropdown) {\n        this._addCloseDropdownAttributes(\n          this._mobileToggle,\n          this._currentMobileDropdown\n        );\n      }\n      this._moveSearchSlot();\n    };\n\n    // On initialization\n    if (!mutationList) {\n      cancelLightDomProcessing = false;\n\n      // Process Custom Dropdowns in secondary links area\n      // @note Running into issue where custom button text returns \"\" without the timeout\n      window.setTimeout(() => {\n        const pfeNavigationDropdowns = this.querySelectorAll(\n          \"pfe-navigation-dropdown\"\n        );\n        this._processCustomDropdowns(pfeNavigationDropdowns);\n      }, 0);\n    }\n    // On Mutation we get a mutationList, check to see if there are important changes to react to\n    // If not hop out of this function early\n    else if (mutationList.length) {\n      for (let index = 0; index < mutationList.length; index++) {\n        const mutationItem = mutationList[index];\n        const oneXSlotsNotIn2x = [\"skip\", \"logo\", \"trigger\", \"tray\"];\n\n        // Ignore common mutations that we don't care about\n        let ignoreThisMutation = false;\n\n        if (mutationItem.type === \"childList\") {\n          // @note Prevent preprocess thrashing in IE11 from pfe-cta\n          if (_isCrustyBrowser()) {\n            for (let j = 0; j < ie11IgnoredClasses.length; j++) {\n              const className = ie11IgnoredClasses[j];\n              if (mutationItem.target.classList.contains(className)) {\n                ignoreThisMutation = true;\n              }\n            }\n          }\n\n          // Don't worry about site switcher content updates\n          if (mutationItem.target.tagName.toLowerCase() === \"site-switcher\") {\n            ignoreThisMutation = true;\n          }\n\n          if (!ignoreThisMutation) {\n            const customDropdownsToProcess = [];\n            if (mutationItem && mutationItem.addedNodes) {\n              for (let k = 0; k < mutationItem.addedNodes.length; k++) {\n                const addedNode = mutationItem.addedNodes[k];\n                if (\n                  addedNode.nodeType === 1 &&\n                  addedNode.hasAttribute(\"slot\") &&\n                  addedNode.parentElement.tagName === \"PFE-NAVIGATION\"\n                ) {\n                  switch (addedNode.getAttribute(\"slot\")) {\n                    case \"secondary-links\":\n                      const customDropdown = addedNode.querySelector(\n                        \"pfe-navigation-dropdown\"\n                      );\n                      if (customDropdown) {\n                        customDropdownsToProcess.push(customDropdown);\n                      }\n                      break;\n                  }\n                }\n\n                // Recalculate both breakpoints\n                this._menuBounds.mainMenuRight = null;\n                this._menuBounds.secondaryLinksLeft = null;\n                needToRecalculateBreakpoints = true;\n              }\n            }\n            // @todo Handle removed nodes\n            // for (let index = 0; index < mutationItem.removedNodes.length; index++) {\n            //   const removedNode = mutationItem.removedNodes[index];\n            // }\n            if (customDropdownsToProcess.length) {\n              this._processCustomDropdowns(customDropdownsToProcess);\n            }\n          }\n          // for (let index = 0; index < mutationItem.removedNodes.length; index++) {\n          //   const removedNode = mutationItem.removedNodes[index];\n          // }\n        }\n\n        // Capture any changes to pfe-navigation copy those classes shadow DOM wrapper\n        // This is to help with styling, due to the limitations of :host()\n        if (\n          !ignoreThisMutation &&\n          mutationItem.target.tagName === \"PFE-NAVIGATION\" &&\n          mutationItem.type === \"attributes\" &&\n          mutationItem.attributeName === \"class\"\n        ) {\n          componentClassesChange = true;\n        }\n\n        if (!ignoreThisMutation && mutationItem.type === \"attributes\") {\n          // User has set breakpoints\n          if (\n            mutationItem.attributeName === 'breakpoint-tablet'\n            || mutationItem.attributeName === 'breakpoint-desktop'\n          ) {\n            needToRecalculateBreakpoints = true;\n          }\n\n          // Updates to PFE elements inside of PFE Nav should be ignored\n          if (!mutationItem.target && stringStartsWith(mutationItem.target.tagName, \"PFE\")) {\n            if (\n              mutationItem.attributeName === \"pfelement\" ||\n              mutationItem.attributeName === \"class\" ||\n              mutationItem.attributeName === \"type\"\n            ) {\n              ignoreThisMutation = true;\n            }\n          }\n        }\n\n        if (!ignoreThisMutation) {\n          if (\n            mutationItem.target.tagName === \"PFE-NAVIGATION-ACCOUNT\" ||\n            mutationItem.target.tagName === \"RH-ACCOUNT-DROPDOWN\"\n          ) {\n            this._processAccountDropdownChange(mutationItem);\n          } else if (mutationItem.type === \"characterData\") {\n            // Process text changes\n            cancelLightDomProcessing = false;\n          }\n          // Slotted tags shouldn't cause lightDomProcessing\n          // Unless it's a slot from 1.x that we're not using anymore\n          else if (\n            !mutationItem.target.hasAttribute(\"slot\") ||\n            oneXSlotsNotIn2x.includes(mutationItem.target.getAttribute(\"slot\"))\n          ) {\n            // Elements with slotted parents should also be ignored\n            const slottedParent = mutationItem.target.closest(\"[slot]\");\n            if (\n              !slottedParent ||\n              oneXSlotsNotIn2x.includes(slottedParent.getAttribute(\"slot\"))\n            ) {\n              // Make sure it's not an ignored tag\n              if (!ignoredTags.includes(mutationItem.target.tagName)) {\n                if (mutationItem.attributeName) {\n                  // We need to update attribute changes\n                  cancelLightDomProcessing = false;\n                }\n                if (\n                  mutationItem.type === \"childList\" &&\n                  mutationList.addedNodes &&\n                  mutationList.addedNodes.length\n                ) {\n                  for (let j = 0; index < mutationList.addedNodes.length; j++) {\n                    const addedNode = mutationList.addedNodes[j];\n                    // We need to update on tree changes if they aren't in a slot\n                    if (\n                      !addedNode.hasAttribute(\"slot\") ||\n                      !addedNode.closest(\"[slot]\")\n                    ) {\n                      cancelLightDomProcessing = false;\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    // Preventing issues in IE11 & Edge\n    if (_isCrustyBrowser()) {\n      this._observer.disconnect();\n    }\n\n    // Handle class updates to the parent component\n    // Copying them to shadow DOM to avoid compound :host() selectors\n    if (componentClassesChange) {\n      this._shadowDomOuterWrapper.setAttribute(\n        \"class\",\n        `pfe-navigation__wrapper ${this.getAttribute(\"class\")}`\n      );\n    }\n\n    if (cancelLightDomProcessing) {\n      if (needToRecalculateBreakpoints) recalculateBreakpoints();\n\n      // Reconnecting mutationObserver for IE11 & Edge\n      if (_isCrustyBrowser()) {\n        this._observer.observe(this, lightDomObserverConfig);\n      }\n\n      this.log(\"Cancelled light DOM processing\", mutationList);\n\n      return;\n    }\n\n    // Begins the wholesale replacement of most of the shadowDOM -------------------------------\n    this.log(\"_processLightDom: replacing shadow DOM\", mutationList);\n    // New nav element we'll populate and replace the old one with later\n    const newShadowMenuWrapper = document.createElement(\"nav\");\n\n    ///\n    // @note v1.x markup:\n    // Address skip links, put them at the beginning of the document\n    ///\n    const htmlBody = document.querySelector(\"body\");\n    const skipLinks = this.querySelectorAll('[slot=\"skip\"]');\n    if (skipLinks.length) {\n      // Wrapper used to make sure we don't duplicate skip links\n      const skipLinksWrapper = document.createElement(\"div\");\n      skipLinksWrapper.id = \"pfe-navigation__1x-skip-links\";\n      for (let index = 0; index < skipLinks.length; index++) {\n        skipLinks[index].removeAttribute(\"slot\");\n\n        // Add visually-hidden to the link tags so we can show them when focused on with CSS\n        if (skipLinks[index].tagName === \"A\") {\n          skipLinks[index].classList.add(\"visually-hidden\", \"skip-link\");\n        } else {\n          const theRealSkipLinks = skipLinks[index].querySelectorAll(\"a\");\n          for (let j = 0; j < theRealSkipLinks.length; j++) {\n            theRealSkipLinks[j].classList.add(\"visually-hidden\", \"skip-link\");\n          }\n        }\n        skipLinksWrapper.appendChild(skipLinks[index]);\n      }\n\n      // If we already have an oldSkipLinks, replace it\n      const oldSkipLinksWrapper = document.getElementById(\n        \"pfe-navigation__1x-skip-links\"\n      );\n      if (oldSkipLinksWrapper) {\n        oldSkipLinksWrapper.parentElement.replaceChild(\n          skipLinksWrapper,\n          oldSkipLinksWrapper\n        );\n      } else {\n        // Put skip links as the first thing after the body tag\n        htmlBody.prepend(skipLinksWrapper);\n      }\n    }\n\n    ///\n    // Add the logo to the correct part of the shadowDom\n    ///\n    let lightLogo = this.querySelector(\"#pfe-navigation__logo-wrapper\");\n    if (lightLogo) {\n      const newShadowLogoWrapper = lightLogo.cloneNode(true);\n      if (this._logoWrapper) {\n        this._shadowDomOuterWrapper.replaceChild(\n          newShadowLogoWrapper,\n          this._logoWrapper\n        );\n      } else {\n        this._shadowDomOuterWrapper.prepend(newShadowLogoWrapper);\n      }\n      // Re-set pointer since old element doesn't exist\n      this._logoWrapper = newShadowLogoWrapper;\n    }\n    // @note v1.x markup:\n    // Address logo\n    else {\n      lightLogo = this.querySelector('[slot=\"logo\"]');\n      if (lightLogo) {\n        const logoLinkCopy = lightLogo.cloneNode(true);\n        const logoLinkWrapper = document.createElement(\"div\");\n        logoLinkWrapper.classList.add(\"pfe-navigation__logo-wrapper\");\n        logoLinkWrapper.setAttribute(\"id\", \"pfe-navigation__logo-wrapper\");\n\n        logoLinkCopy.removeAttribute(\"slot\");\n        logoLinkCopy.classList.add(\"pfe-navigation__logo-link\");\n        logoLinkWrapper.prepend(logoLinkCopy);\n\n        // Add it to the shadow DOM\n        if (this._logoWrapper) {\n          this._logoWrapper.parentElement.replaceChild(\n            logoLinkWrapper,\n            this._logoWrapper\n          );\n        } else {\n          this._shadowDomOuterWrapper.prepend(logoLinkWrapper);\n        }\n        // Re-set pointer since old element doesn't exist\n        this._logoWrapper = logoLinkWrapper;\n      } else {\n        this.log(\"Cannot find a logo in the component tag.\");\n      }\n    }\n\n    this._postProcessLogo();\n\n    ///\n    // Add the menu to the correct part of the shadowDom\n    ///\n    let lightMenu = this.querySelector(\"#pfe-navigation__menu\");\n    let hasOneXMenuMarkup = false;\n    const pfeNavigationMain = this.querySelector(\"pfe-navigation-main\");\n    if (pfeNavigationMain || this.querySelector(\"pfe-navigation-item\")) {\n      hasOneXMenuMarkup = true;\n    }\n\n    // @note v1.x markup:\n    // Add selectors needed for the menu to behave well in 2.x\n    if (!lightMenu) {\n      if (pfeNavigationMain) {\n        lightMenu = this.querySelector(\"pfe-navigation-main > ul\");\n        if (lightMenu && lightMenu.id !== \"pfe-navigation__menu\") {\n          lightMenu.id = \"pfe-navigation__menu\";\n          lightMenu.classList.add(\"pfe-navigation__menu\");\n\n          // Add necessary classes to li\n          for (let index = 0; index < lightMenu.children.length; index++) {\n            lightMenu.children[index].classList.add(\n              \"pfe-navigation__menu-item\"\n            );\n          }\n        }\n\n        // Add necessary classes to top level links\n        const oneXTopLevelLinks =\n          lightMenu.querySelectorAll('[slot=\"trigger\"] a');\n        for (let index = 0; index < oneXTopLevelLinks.length; index++) {\n          oneXTopLevelLinks[index].classList.add(\"pfe-navigation__menu-link\");\n        }\n      }\n    }\n\n    ///\n    // @note v1.x markup:\n    // Address secondary links by transforming markup and adding it\n    ///\n    const customDropdownsToProcess = [];\n    // Storing transformed markup in a document fragment to minimize DOM writes\n    const transformedSecondaryLinks = document.createDocumentFragment();\n    if (hasOneXMenuMarkup) {\n      for (let index = 0; index < this.children.length; index++) {\n        const pfeNavigationChild = this.children[index];\n        if (pfeNavigationChild.tagName === \"PFE-NAVIGATION-ITEM\") {\n          // Trigger is optional\n          const trigger = pfeNavigationChild.querySelector('[slot=\"trigger\"]');\n          // Trigger link is also optional\n          const triggerLink = trigger ? trigger.querySelector(\"a\") : null;\n          // Tray is optional\n          const tray = pfeNavigationChild.querySelector('[slot=\"tray\"]');\n\n          // These have to be set depending on the markup\n          let shadowTrigger = null;\n          let toggleName = null;\n          if (triggerLink) {\n            shadowTrigger = triggerLink.cloneNode(true);\n            toggleName = triggerLink.innerText;\n          } else if (trigger) {\n            toggleName = trigger.innerText;\n            shadowTrigger = trigger.cloneNode(true);\n            shadowTrigger.removeAttribute(\"slot\");\n          } else {\n            const unslottedChildLink = pfeNavigationChild.querySelector(\"a\");\n            if (unslottedChildLink) {\n              toggleName = unslottedChildLink.innerText;\n              shadowTrigger = unslottedChildLink;\n            }\n            // If we can't find any of that markup we can't transform the markup\n            else {\n              this.error(\n                \"Attempted to transform 1.x secondary link and couldn't find what we needed.\",\n                pfeNavigationChild\n              );\n              break;\n            }\n          }\n\n          // Div Wrapper for secondary links\n          const divWrapper = document.createElement(\"div\");\n          divWrapper.setAttribute(\"slot\", \"secondary-links\");\n          // If there's a tray, it's a dropdown, setup a pfe-navigation-dropdown\n          if (tray) {\n            // If it's a dropdown, wrap it in pfe-navigation-dropdown\n            const dropdown = document.createElement(\"pfe-navigation-dropdown\");\n            dropdown.dataset.idSuffix = this._createMachineName(toggleName);\n            const toggle = this._createCustomDropdownToggle(\n              dropdown,\n              toggleName,\n              pfeNavigationChild.getAttribute(\"pfe-icon\")\n            );\n\n            // Copy over any data attributes to the toggle\n            if (triggerLink) {\n              const datasetKeys = Object.keys(triggerLink.dataset);\n              for (let j = 0; j < datasetKeys.length; j++) {\n                const dataKey = datasetKeys[j];\n                toggle.dataset[dataKey] = triggerLink.dataset[dataKey];\n              }\n            }\n\n            dropdown.dropdownWidth = \"full\";\n            dropdown.classList.add(\n              \"pfe-navigation__dropdown--default-styles\",\n              \"pfe-navigation__dropdown--1-x\"\n            );\n            dropdown.appendChild(pfeNavigationChild);\n\n            divWrapper.appendChild(toggle);\n            divWrapper.appendChild(dropdown);\n            transformedSecondaryLinks.appendChild(divWrapper);\n            customDropdownsToProcess.push(dropdown);\n          }\n          // Otherwise this is just a link with an icon\n          else {\n            shadowTrigger.classList.add(\"pfe-navigation__secondary-link\");\n            shadowTrigger.innerHTML = toggleName;\n            shadowTrigger.prepend(this._createPfeIcon(pfeNavigationChild.icon));\n            divWrapper.appendChild(shadowTrigger);\n            transformedSecondaryLinks.appendChild(divWrapper);\n          }\n        }\n      }\n    }\n\n    // Write our transformed 1.x markup to the DOM\n    this.appendChild(transformedSecondaryLinks);\n\n    // Process any custom dropdowns\n    if (customDropdownsToProcess.length) {\n      this._processCustomDropdowns(customDropdownsToProcess);\n    }\n\n    // Ensure we're still disconnected after _processCustomDropdowns\n    // Preventing issues in IE11 & Edge\n    if (_isCrustyBrowser()) {\n      this._observer.disconnect();\n    }\n\n    ///\n    // Process Main Menu\n    ///\n    if (lightMenu) {\n      //--------------------------------------------------\n      // Begin best time to manipulate DOM in nav\n      // Modify elements when they're in the shadow vars before they get appended to the shadow DOM\n      //--------------------------------------------------\n\n      // Add attributres we need on the shadow DOM menu wrapper\n      newShadowMenuWrapper.setAttribute(\"id\", \"pfe-navigation__menu-wrapper\");\n      newShadowMenuWrapper.classList.add(\"pfe-navigation__menu-wrapper\");\n\n      // Copy light DOM menu into new wrapper, to be put in shadow DOM after manipulations\n      newShadowMenuWrapper.appendChild(lightMenu.cloneNode(true));\n\n      // @note v1.x markup:\n      // Address menu items by adding class hooks we need to import into shadowDom\n      // and classes we need to maintain appropriate styles\n      if (hasOneXMenuMarkup) {\n        // Remove pfe-navigation-item tag, but keep the important children elements\n        const pfeNavigationItems = newShadowMenuWrapper.querySelectorAll(\n          \"pfe-navigation-item\"\n        );\n        for (let index = 0; index < pfeNavigationItems.length; index++) {\n          const pfeNavigationItem = pfeNavigationItems[index];\n\n          const menuListItem = pfeNavigationItem.closest(\"li\");\n          menuListItem.classList.add(\"pfe-navigation__menu-item\");\n          // Address menu toggle\n          let menuItemLink =\n            pfeNavigationItem.querySelector('[slot=\"trigger\"] a');\n          if (!menuItemLink && pfeNavigationItem.children[0].tagName === \"A\") {\n            menuItemLink = pfeNavigationItem.children[0];\n          }\n          if (menuItemLink) {\n            menuItemLink.classList.add(\"pfe-navigation__menu-link\");\n            menuListItem.prepend(menuItemLink);\n          } else {\n            this.error(\"Wasn't able to process toggle\", pfeNavigationItem);\n          }\n\n          // Address menu dropdown\n          let menuItemDropdown =\n            pfeNavigationItem.querySelector(\".pfe-navigation-grid\") ||\n            pfeNavigationItem.querySelector(\".pfe-navigation__dropdown\") ||\n            pfeNavigationItem.querySelector(\"[slot='tray']\");\n          if (menuItemDropdown) {\n            menuItemDropdown.classList.add(\"pfe-navigation__dropdown\");\n            const pfeNavigationItemFooter = pfeNavigationItem.querySelector(\n              \".pfe-navigation--footer\"\n            );\n            if (pfeNavigationItemFooter) {\n              pfeNavigationItemFooter.classList.add(\"pfe-navigation__footer\");\n              menuItemDropdown.appendChild(pfeNavigationItemFooter);\n            }\n            menuListItem.appendChild(menuItemDropdown);\n          } else {\n            this.error(\"Wasn't able to process dropdown\", pfeNavigationItem);\n          }\n\n          // Remove the rest\n          menuListItem.removeChild(pfeNavigationItem);\n        }\n      }\n\n      // Add menu dropdown toggle behavior\n      const dropdowns = newShadowMenuWrapper.querySelectorAll(\n        \".pfe-navigation__dropdown\"\n      );\n      for (let index = 0; index < dropdowns.length; index++) {\n        const dropdown = dropdowns[index];\n        const dropdownLink = dropdown.parentElement.querySelector(\n          \".pfe-navigation__menu-link\"\n        );\n\n        if (!dropdownLink) {\n          this.warn(\n            \"Could not find link to create toggle for dropdown\",\n            dropdown\n          );\n          break;\n        }\n\n        // Convert dropdown links into buttons\n        const dropdownButton = document.createElement(\"button\");\n\n        // Move over or add important attributes and content\n        dropdownButton.setAttribute(\n          \"class\",\n          dropdownLink.getAttribute(\"class\")\n        );\n        dropdownButton.classList.add(\"pfe-navigation__menu-link--has-dropdown\");\n\n        dropdownButton.innerHTML = dropdownLink.innerHTML;\n        // Keep data attributes from link with the button\n        const dropdownLinkAttributes = dropdownLink.getAttributeNames();\n        for (let index = 0; index < dropdownLinkAttributes.length; index++) {\n          const currentAttribute = dropdownLinkAttributes[index];\n          if (stringStartsWith(currentAttribute, \"data-\")) {\n            dropdownButton.setAttribute(\n              currentAttribute,\n              dropdownLink.getAttribute(currentAttribute)\n            );\n          }\n        }\n        dropdownButton.dataset.machineName = this._createMachineName(\n          dropdownLink.innerText\n        );\n\n        // Add dropdown behavior\n        dropdownButton.addEventListener(\"click\", this._dropdownItemToggle);\n        dropdownLink.parentElement.replaceChild(dropdownButton, dropdownLink);\n\n        // Set Id's for the button and dropdown and add their ID's to the parent li for easy access\n        const dropdownButtonId = `main-menu__button--${dropdownButton.dataset.machineName}`;\n        const dropdownId = `main-menu__dropdown--${dropdownButton.dataset.machineName}`;\n        dropdownButton.setAttribute(\"id\", dropdownButtonId);\n\n        // Create wrapper for dropdown and give it appropriate classes and attributes\n        const dropdownWrapper = document.createElement(\"div\");\n        dropdownWrapper.setAttribute(\n          \"part\",\n          \"pfe-navigation__dropdown-wrapper\"\n        );\n\n        dropdownWrapper.classList.add(\"pfe-navigation__dropdown-wrapper\");\n        if (\n          dropdown.classList.contains(\"pfe-navigation__dropdown--single-column\")\n        ) {\n          dropdownWrapper.classList.add(\n            \"pfe-navigation__dropdown-wrapper--single-column\"\n          );\n        }\n        dropdownWrapper.setAttribute(\"id\", dropdownId);\n\n        dropdownWrapper.appendChild(dropdown);\n        dropdownButton.parentElement.appendChild(dropdownWrapper);\n        dropdownButton.parentElement.dataset.dropdownId = dropdownId;\n        dropdownButton.setAttribute(\"aria-controls\", dropdownId);\n\n        // Add custom event for interactive elements in shadowDom so anayltics can capture them acccurately\n        // We'll omit elements that have custom events already to avoid double reporting\n        const focusableElements = dropdownWrapper.querySelectorAll(\n          this._focusableElements\n        );\n        for (let index = 0; index < focusableElements.length; index++) {\n          const currentElement = focusableElements[index];\n          currentElement.addEventListener(\"click\", this._shadowDomInteraction);\n        }\n\n        // Set everything to closed by default\n        this._addCloseDropdownAttributes(dropdownButton, dropdownWrapper);\n      }\n    }\n    //--------------------------------------------------\n    // End best time to manipulate DOM in nav\n    //--------------------------------------------------\n\n    // Replace the menu in the shadow DOM\n    this._shadowMenuWrapper.parentElement.replaceChild(\n      newShadowMenuWrapper,\n      this._shadowMenuWrapper\n    );\n    this._shadowMenuWrapper = newShadowMenuWrapper;\n\n    // Recalculate main menu breakpoint\n    this._menuBounds.mainMenuRight = null;\n    needToRecalculateBreakpoints = true;\n\n    // Re-set pointers to commonly used elements that just got paved over\n    this._menuDropdownXs = this.shadowRoot.getElementById(\"mobile__dropdown\");\n    this._menuDropdownMd = this.shadowRoot.getElementById(\n      \"pfe-navigation__menu-wrapper\"\n    );\n    if (!this._menuDropdownMd) {\n      this.classList.add(\"pfe-navigation--no-main-menu\");\n    }\n\n    // Add menu burger behavior\n    this._mobileToggle.addEventListener(\"click\", this._toggleMobileMenu);\n\n    // Add search toggle behavior\n    this._searchToggle.addEventListener(\"click\", this._toggleSearch);\n\n    // General keyboard listener attached to the entire component\n    document.addEventListener(\"keydown\", this._generalKeyboardListener);\n\n    // Set initial on page load aria settings on all original buttons and their dropdowns\n    if (this._currentMobileDropdown) {\n      this._addCloseDropdownAttributes(\n        this._mobileToggle,\n        this._currentMobileDropdown\n      );\n    }\n\n    // Setup dropdown attributes appropriately\n    this._addCloseDropdownAttributes(null, this._accountDropdownWrapper);\n    if (this.classList.contains('pfe-navigation--inline-search')) {\n      this._removeDropdownAttributes(this._searchToggle, this._searchSpotMd);\n    }\n    else {\n      this._addCloseDropdownAttributes(this._searchToggle, this._searchSpotMd);\n    }\n\n    // Reconnecting mutationObserver for IE11 & Edge\n    if (_isCrustyBrowser()) {\n      this._observer.observe(this, lightDomObserverConfig);\n    }\n\n    // Putting off heavy DOM calculations\n    if (needToRecalculateBreakpoints) {\n      window.setTimeout(recalculateBreakpoints, 0);\n    }\n\n    const menuAnchorTags = this._shadowMenuWrapper.querySelectorAll(\n      \"a.pfe-navigation__menu-link\"\n    );\n    for (let index = 0; index < menuAnchorTags.length; index++) {\n      const menuAnchorTag = menuAnchorTags[index];\n      menuAnchorTag.addEventListener(\"click\", () => {\n        this.emitEvent(PfeNavigation.events.shadowDomInteraction, {\n          detail: {\n            target: menuAnchorTag,\n            parent: this,\n          },\n        });\n      });\n    }\n\n    if (this.isOpen()) {\n      this._changeNavigationState(this.openToggle, \"open\");\n    }\n\n    // Some cleanup and state management for after render\n    const postProcessLightDom = () => {\n      // Preventing issues in IE11 & Edge\n      if (_isCrustyBrowser()) {\n        this._observer.disconnect();\n      }\n\n      if (this.isMobileMenuButtonVisible() && !this.isOpen(\"mobile__button\")) {\n        this._addCloseDropdownAttributes(\n          this._mobileToggle,\n          this._currentMobileDropdown\n        );\n      }\n\n      // Mobile slider elements have a tab trap that will need to be updated if content has been updated\n      const mobileSliderElements = this.querySelectorAll(\"[mobile-slider]\");\n      for (let index = 0; index < mobileSliderElements.length; index++) {\n        const currentMobileSliderElement = mobileSliderElements[index];\n        this._getLastFocusableItemInMobileSlider(currentMobileSliderElement);\n        const toggle = currentMobileSliderElement.querySelector(\n          \".pfe-navigation__secondary-link\"\n        );\n        const dropdown = currentMobileSliderElement.querySelector(\n          \".pfe-navigation__dropdown\"\n        );\n\n        // Add mutation observer if we don't have one already\n        if (\n          toggle &&\n          toggle.id &&\n          dropdown &&\n          !this._mobileSliderMutationObservers[toggle.id]\n        ) {\n          this._mobileSliderMutationObservers[toggle.id] = new MutationObserver(\n            () =>\n              this._getLastFocusableItemInMobileSlider(\n                currentMobileSliderElement\n              )\n          );\n          this._mobileSliderMutationObservers[toggle.id].observe(dropdown, {\n            subtree: true,\n            childList: true,\n          });\n        }\n      }\n\n      // Reconnecting mutationObserver for IE11 & Edge\n      if (_isCrustyBrowser()) {\n        this._observer.observe(this, lightDomObserverConfig);\n      }\n    };\n\n    window.setTimeout(postProcessLightDom, 0);\n  } // end _processLightDom()\n\n  /**\n   * Behavior for main menu breakpoint\n   * @param {object} event Event from MediaQueryList\n   */\n  _collapseMainMenu(event) {\n    if (event.matches) {\n      this.classList.add(\"pfe-navigation--collapse-main-menu\");\n    } else {\n      this.classList.remove(\"pfe-navigation--collapse-main-menu\");\n    }\n  }\n\n  /**\n   * Behavior for secondary links breakpoint\n   * @param {object} event Event from MediaQueryList\n   */\n  _collapseSecondaryLinks(event) {\n    if (event.matches) {\n      this.classList.add(\"pfe-navigation--collapse-secondary-links\");\n    } else {\n      this.classList.remove(\"pfe-navigation--collapse-secondary-links\");\n    }\n  }\n\n  /**\n   * Calculate the points where the main menu and secondary links should be collapsed and adds them\n   * To recalculate a breakpoint set this.menuBreakpoint[name] to null and run this function.\n   */\n  _calculateMenuBreakpoints() {\n    if (_isCrustyBrowser()) {\n      return;\n    }\n\n    const hardcodedBreakpointTablet = parseInt(this.getAttribute('breakpoint-tablet'));\n    const hardcodedBreakpointDesktop = parseInt(this.getAttribute('breakpoint-desktop'));\n\n    // Only recreate media queries if something changed\n    let recreateMediaQueries = false;\n    const someExtraWhiteSpace = 20;\n\n    if (hardcodedBreakpointTablet && this._menuBreakpoints.secondaryLinks !== hardcodedBreakpointTablet) {\n      recreateMediaQueries = true;\n    }\n    else if (hardcodedBreakpointDesktop && this._menuBreakpoints.mainMenu !== hardcodedBreakpointDesktop) {\n      recreateMediaQueries = true;\n    }\n\n    if (!hardcodedBreakpointTablet || !hardcodedBreakpointDesktop) {\n      // How much white space to add to some of these calculations\n      // @todo future - 20 should probably be based on a CSS value or DOM measurement\n\n      // Calculate space needed for logo\n      if (this._menuBounds.logoRight === null) {\n        if (this._logoWrapper) {\n          const logoBoundingRect = this._logoWrapper.getBoundingClientRect();\n          // Getting the right boundary, which will include menu padding and the image's width\n          const logoRight = Math.ceil(logoBoundingRect.right);\n          // Compare new value with old value to see if there was any change\n          if (logoRight && logoRight !== this._menuBounds.logoRight) {\n            this._menuBounds.logoRight = logoRight;\n            recreateMediaQueries = true;\n          }\n        }\n      }\n\n      // Calculate space needed for logo and main menu\n      if (!this._menuBounds.mainMenuRight && !this.isMobileMenuButtonVisible()) {\n        const navigation = this.shadowRoot.getElementById(\"pfe-navigation__menu\");\n        if (navigation) {\n          const navigationBoundingRect = navigation.getBoundingClientRect();\n\n          // Gets the length from the left edge of the screen to the right side of the navigation\n          const mainMenuRight = Math.ceil(navigationBoundingRect.right);\n          // Compare new value with old value to see if there was any change\n          if (mainMenuRight && mainMenuRight !== this._menuBounds.mainMenuRight) {\n            this._menuBounds.mainMenuRight = mainMenuRight;\n            recreateMediaQueries = true;\n          }\n        }\n      }\n\n      // Calculate space needed for right padding and secondary links\n      if (\n        !this._menuBounds.secondaryLinksLeft &&\n        !this.isSecondaryLinksSectionCollapsed()\n      ) {\n        let leftMostSecondaryLink = null;\n        let secondaryLinksLeft = null;\n        let leftMostSecondaryLinkBoundingRect = null;\n\n        if (this.hasSlot(\"search\")) {\n          if (this.classList.contains('pfe-navigation--inline-search')) {\n            leftMostSecondaryLink = this._searchSpotMd;\n          }\n          else {\n            leftMostSecondaryLink = this._searchToggle;\n          }\n        } else if (this.hasSlot(\"secondary-links\")) {\n          leftMostSecondaryLink = this.getSlot(\"secondary-links\")[0];\n        } else if (this._accountToggle) {\n          leftMostSecondaryLink = this._accountToggle;\n        } else if (this._accountLogInLink) {\n          leftMostSecondaryLink = this._accountLogInLink;\n        } else {\n          // We don't have a left most secondary link, use padding on the nav\n          secondaryLinksLeft = parseInt(\n            window.getComputedStyle(this._shadowDomOuterWrapper, false)\n              .paddingRight\n          );\n        }\n        if (leftMostSecondaryLink) {\n          leftMostSecondaryLinkBoundingRect =\n            leftMostSecondaryLink.getBoundingClientRect();\n\n          // Gets the length from the right edge of the screen to the left side of the left most secondary link\n          secondaryLinksLeft =\n            window.innerWidth - Math.ceil(leftMostSecondaryLinkBoundingRect.left);\n        }\n        // Compare new value with old value to see if there was any change\n        if (\n          leftMostSecondaryLinkBoundingRect &&\n          secondaryLinksLeft &&\n          secondaryLinksLeft !== this._menuBounds.secondaryLinksLeft\n        ) {\n          this._menuBounds.secondaryLinksLeft =\n            window.innerWidth - Math.ceil(leftMostSecondaryLinkBoundingRect.left);\n          recreateMediaQueries = true;\n        }\n      }\n    }\n\n    // Only true if a length has changed\n    if (recreateMediaQueries) {\n      // Set the desktop breakpoint (aka mainMenu) if we have the info we need\n      let updatedMainMenuBreakpoint = false;\n      if (hardcodedBreakpointDesktop) {\n        updatedMainMenuBreakpoint = this._menuBreakpoints.mainMenu !== hardcodedBreakpointDesktop;\n        this._menuBreakpoints.mainMenu = hardcodedBreakpointDesktop;\n      }\n      else if (this._menuBounds.secondaryLinksLeft) {\n        if (this._menuBounds.mainMenuRight) {\n          updatedMainMenuBreakpoint = true;\n          this._menuBreakpoints.mainMenu =\n            this._menuBounds.mainMenuRight +\n            this._menuBounds.secondaryLinksLeft;\n        } else if (this._menuBounds.logoRight) {\n          updatedMainMenuBreakpoint = true;\n          this._menuBreakpoints.mainMenu =\n            this._menuBounds.logoRight +\n            this._menuBounds.secondaryLinksLeft +\n            someExtraWhiteSpace;\n        }\n      }\n\n      // Update our media queries if needed\n      if (updatedMainMenuBreakpoint) {\n        // Remove old listener\n        if (this._menuBreakpointQueries.mainMenu) {\n          this._removeMediaQueryListener(\n            this._menuBreakpointQueries.mainMenu,\n            this._collapseMainMenu\n          );\n        }\n        // Create new one\n        this._menuBreakpointQueries.mainMenu = window.matchMedia(\n          `(max-width: ${this._menuBreakpoints.mainMenu}px)`\n        );\n        this._addMediaQueryListener(\n          this._menuBreakpointQueries.mainMenu,\n          this._collapseMainMenu\n        );\n      }\n\n      // Set the tablet breakpoint (aka secondary links) if we have the info we need\n      let updatedSecondaryLinksBreakpoint = false;\n      if (hardcodedBreakpointTablet) {\n        updatedSecondaryLinksBreakpoint = this._menuBreakpoints.secondaryLinks !== hardcodedBreakpointTablet;\n        this._menuBreakpoints.secondaryLinks = hardcodedBreakpointTablet;\n      }\n      else if (this._menuBounds.logoRight && this._menuBounds.secondaryLinksLeft) {\n        updatedSecondaryLinksBreakpoint = true;\n        this._menuBreakpoints.secondaryLinks =\n          this._menuBounds.logoRight +\n          this._menuBounds.secondaryLinksLeft +\n          this._mobileToggle.offsetWidth +\n          someExtraWhiteSpace;\n      }\n\n      // Update our media queries if needed\n      if (updatedSecondaryLinksBreakpoint) {\n        // Remove old listener\n        if (this._menuBreakpointQueries.secondaryLinks) {\n          this._removeMediaQueryListener(\n            this._menuBreakpointQueries.secondaryLinks,\n            this._collapseSecondaryLinks\n          );\n        }\n        // Create new listener\n        this._menuBreakpointQueries.secondaryLinks = window.matchMedia(\n          `(max-width: ${this._menuBreakpoints.secondaryLinks}px)`\n        );\n        this._addMediaQueryListener(\n          this._menuBreakpointQueries.secondaryLinks,\n          this._collapseSecondaryLinks\n        );\n      }\n\n      this.log(\"Menu Bounds updated, updating mediaQueries\", {\n        // Flattening object so what it was at the time of logging doesn't get updated\n        menuBounds: `logoRight: ${this._menuBounds.logoRight}, mainMenuRight: ${this._menuBounds.mainMenuRight}, secondaryLinksLeft: ${this._menuBounds.secondaryLinksLeft}`,\n        menuBreakpoints: `secondaryLinks: ${this._menuBreakpoints.secondaryLinks}, mainMenu: ${this._menuBreakpoints.mainMenu}`,\n      });\n    }\n  }\n\n  /**\n   * Depending on breakpoint we need to move the search slot to one of two places to make a logical tab order\n   */\n  _moveSearchSlot() {\n    // Preventing issues in IE11 & Edge\n    if (_isCrustyBrowser()) {\n      this._observer.disconnect();\n    }\n\n    if (this.isSecondaryLinksSectionCollapsed()) {\n      this._removeDropdownAttributes(null, this._searchSpotMd);\n      if (this._searchSlot.parentElement !== this._searchSpotXs) {\n        this._searchSpotXs.appendChild(this._searchSlot);\n      }\n    } else {\n      if (this._searchSlot.parentElement !== this._searchSpotMd) {\n        this._searchSpotMd.appendChild(this._searchSlot);\n      }\n      if (this.isOpen(\"secondary-links__button--search\")) {\n        this._addOpenDropdownAttributes(null, this._searchSpotMd);\n      } else {\n        this._addCloseDropdownAttributes(null, this._searchSpotMd);\n      }\n    }\n\n    // Reconnecting mutationObserver for IE11 & Edge\n    if (_isCrustyBrowser()) {\n      this._observer.observe(this, lightDomObserverConfig);\n    }\n  }\n\n  /**\n   * Adjustments to behaviors and DOM that need to be made after a resize event\n   */\n  _postResizeAdjustments() {\n    if (\n      this._menuBreakpoints.mainMenu === null ||\n      this._menuBreakpoints.secondaryLinks === null\n    ) {\n      this._calculateMenuBreakpoints();\n    }\n\n    // Track current navigation state\n    const openToggle = this.openToggle\n      ? this.getToggleElement(this.openToggle)\n      : null;\n    const openDropdownId = this.openToggle\n      ? this._getDropdownId(this.openToggle)\n      : null;\n    const openDropdown = openDropdownId\n      ? this.getDropdownElement(openDropdownId)\n      : null;\n\n    // Track previous state and new state\n    const oldMobileDropdown = this._currentMobileDropdown;\n\n    this._setCurrentMobileDropdown();\n    const breakpointWas = this.breakpoint;\n    const breakpointIs = this._calculateBreakpointAttribute();\n\n    // Things that need to be checked if b\n    if (breakpointIs !== breakpointWas) {\n      // Make sure search slot is in the right spot, based on breakpoint\n      this._moveSearchSlot();\n\n      ///\n      // Manage mobile toggle & dropdown state\n      ///\n      if (breakpointIs === \"desktop\") {\n        // Mobile button doesn't exist on desktop, so we need to clear the state if that's the only thing that's open\n        if (this.openToggle === \"mobile__button\") {\n          this._changeNavigationState(\"mobile__button\", \"close\");\n        }\n\n        // At desktop the mobile dropdown is just a wrapper\n        this._removeDropdownAttributes(\n          this._mobileToggle,\n          this._currentMobileDropdown\n        );\n      } else {\n        // Make sure old dropdown doesn't have dropdown aria and state attributes\n        if (\n          this._currentMobileDropdown !== oldMobileDropdown &&\n          oldMobileDropdown !== null\n        ) {\n          this._removeDropdownAttributes(null, oldMobileDropdown);\n        }\n\n        // Make sure the current mobile dropdown has the correct attributes\n        if (this.isOpen(\"mobile__button\")) {\n          this._addOpenDropdownAttributes(\n            this._mobileToggle,\n            this._currentMobileDropdown\n          );\n        } else {\n          this._addCloseDropdownAttributes(\n            this._mobileToggle,\n            this._currentMobileDropdown\n          );\n        }\n      }\n\n      ///\n      // Manage overlay state\n      ///\n      if (this.isOpen()) {\n        this._overlay.hidden = false;\n      } else {\n        this._overlay.hidden = true;\n      }\n\n      if (breakpointIs === \"mobile\") {\n        if (openToggle) {\n          const mobileSlideParent = openToggle.closest(\"[mobile-slider]\");\n          if (mobileSlideParent) {\n            this.mobileSlide = true;\n          }\n        }\n      }\n    }\n\n    ///\n    // Manage Dropdown Heights\n    ///\n    if (openToggle && openDropdown) {\n      // Main menu needs a height set at mobile/tablet\n      if (stringStartsWith(openToggle.id, \"main-menu__button--\")) {\n        if (breakpointIs !== \"desktop\") {\n          this._setDropdownHeight(openDropdown);\n        } else {\n          openDropdown.style.removeProperty(\"height\");\n        }\n      }\n      // Secondary menu dropdowns get set at mobile only\n      else if (\n        stringStartsWith(openToggle.id, \"pfe-navigation__secondary-link--\")\n      ) {\n        if (this.breakpoint === \"mobile\") {\n          this._setDropdownHeight(openDropdown);\n        } else {\n          openDropdown.style.removeProperty(\"height\");\n        }\n      }\n    }\n\n    ///\n    // ! Begin lines need to be at the end of this function\n    ///\n    // Remove class that hides nav while it's resizing\n    this.classList.remove(\"pfe-navigation--is-resizing\");\n\n    // Set layout state vars for next resize\n    this._wasMobileMenuButtonVisible = this.isMobileMenuButtonVisible();\n    this._wasSecondaryLinksSectionCollapsed =\n      this.isSecondaryLinksSectionCollapsed();\n\n    this.breakpoint = breakpointIs;\n    ///\n    // ! End lines that need to be at the end of this function\n    ///\n  } // end _postResizeAdjustments()\n\n  /**\n   * Event listeners for toggles\n   */\n  _toggleMobileMenu() {\n    if (!this.isOpen(\"mobile__button\")) {\n      this._changeNavigationState(\"mobile__button\", \"open\");\n      // Show main menu when mobile All Red Hat menu is closed\n      this._showMobileMainMenu();\n    } else {\n      this._changeNavigationState(\"mobile__button\", \"close\");\n      // @todo: (KS) decide if I need this (i do not think so rn)\n      // Hide main menu when mobile All Red Hat menu is open\n      // this._hideMobileMainMenu();\n    }\n  }\n\n  _toggleSearch() {\n    this._changeNavigationState(\"secondary-links__button--search\");\n    // Move focus to search field when Desktop search button is activated\n    this._searchFieldFocusHandler();\n  }\n\n  _dropdownItemToggle(event) {\n    event.preventDefault();\n    const dropdownItem = event.target;\n    const toggleId = dropdownItem.id;\n    this._changeNavigationState(toggleId);\n  }\n\n  /**\n   * Default Keydown Keyboard event handler\n   * @param {object} event\n   */\n  _generalKeyboardListener(event) {\n    const key = event.key;\n    // If Escape wasn't pressed, or the nav is closed, SMOKE BOMB\n    if (key !== \"Escape\" || !this.isOpen()) {\n      return;\n    }\n\n    // event.which is deprecated\n    // see @resource: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/which\n    event.preventDefault();\n    event.stopPropagation();\n\n    const currentlyOpenToggleId = this.openToggle;\n    const openToggle = this.getDropdownElement(currentlyOpenToggleId);\n    const currentBreakpoint = this.breakpoint;\n\n    switch (currentBreakpoint) {\n      case \"mobile\":\n        // close mobile menu\n        this._changeNavigationState(\"mobile__button\", \"close\");\n        // Set the focus back onto the mobile menu trigger toggle only when escape is pressed\n        this._mobileToggle.focus();\n        break;\n\n      case \"tablet\":\n        // if it's a child of main menu (e.g. currentlyOpenToggleId.startsWith(\"main-menu\") -- accordion dropdown) close mobile__button\n        // Else close currentlyOpenToggleId -- desktop menu\n        if (stringStartsWith(currentlyOpenToggleId, \"main-menu\")) {\n          this._changeNavigationState(\"mobile__button\", \"close\");\n          // Set the focus back onto the mobile menu trigger toggle only when escape is pressed\n          this._mobileToggle.focus();\n        } else {\n          this._changeNavigationState(currentlyOpenToggleId, \"close\");\n          // Set the focus back onto the trigger toggle only when escape is pressed\n          openToggle.focus();\n        }\n        break;\n\n      case \"desktop\":\n        this._changeNavigationState(currentlyOpenToggleId, \"close\");\n        // Set the focus back onto the trigger toggle only when escape is pressed\n        openToggle.focus();\n        break;\n    }\n  }\n\n  /**\n   * Back to Menu Event Handler\n   * close All Red Hat Menu and go back to Main Mobile Menu and set focus back to All Red Hat Toggle\n   * Show main menu\n   */\n  _siteSwitcherBackClickHandler() {\n    this._changeNavigationState(\"mobile__button\", \"open\");\n    // Show main menu when All Red Hat menu is closed\n    this._showMobileMainMenu();\n    if (this._siteSwitcherToggle) {\n      this._siteSwitcherToggle.focus();\n    }\n  }\n\n  /**\n   * Overlay Event Handler\n   * close menu when overlay is clicked\n   */\n  _overlayClickHandler() {\n    if (this.openToggle) {\n      this._changeNavigationState(this.openToggle, \"close\");\n    }\n    // @todo Check a11y expectations\n    switch (this.breakpoint) {\n      case \"mobile\":\n        this._changeNavigationState(\"mobile__button\", \"close\");\n        break;\n      case \"tablet\":\n        // if it's a child of main menu (e.g. openToggleId.startsWith(\"main-menu\") -- accordion dropdown) close mobile__button\n        // Else close openToggleId -- desktop menu\n        if (this.openToggle && stringStartsWith(this.openToggle, \"main-menu\")) {\n          this._changeNavigationState(\"mobile__button\", \"close\");\n        }\n        break;\n    }\n  }\n\n  /**\n   * Sticky Handler\n   * turn nav into sticky nav\n   */\n  _stickyHandler() {\n    const stuckClass = \"pfe-navigation--stuck\";\n    if (window.pageYOffset >= this._top) {\n      if (!this.classList.contains(stuckClass)) this.classList.add(stuckClass);\n    } else {\n      if (this.classList.contains(stuckClass))\n        this.classList.remove(stuckClass);\n    }\n  }\n\n  /**\n   * Hide main menu from screen readers and keyboard when mobile All Red Hat menu is open\n   */\n  _hideMobileMainMenu() {\n    // Search\n    this._searchSpotXs.setAttribute(\"hidden\", \"\");\n\n    // Main menu\n    if (this._menuDropdownMd) {\n      this._menuDropdownMd.setAttribute(\"hidden\", \"\");\n    }\n  }\n\n  /**\n   * Show main menu to screen readers and keyboard users when Back to main menu button is pressed\n   */\n  _showMobileMainMenu() {\n    // Search\n    this._searchSpotXs.removeAttribute(\"hidden\");\n\n    // Main menu\n    if (this._menuDropdownMd) {\n      this._menuDropdownMd.removeAttribute(\"hidden\");\n    }\n  }\n\n  /**\n   * Set focus to search field when search button is pressed on Desktop\n   * if search input exists set to the light dom search input field (either type=text or type=search) so focus is in the correct place for screen readers and keyboards\n   */\n  _searchFieldFocusHandler() {\n    const searchBox = this.querySelector(\n      \"[slot='search']  input[type='text'], [slot='search']  input[type='search']\"\n    );\n\n    // Accomodate cp-search-autocomplete or similar, which doesn't have a lightDom input\n    if (!searchBox) {\n      const $pfComponent = this.querySelector('[slot=\"search\"] .PFElement');\n      if ($pfComponent && $pfComponent.shadowRoot) {\n        const $shadowRootInput = $pfComponent.shadowRoot.querySelector(\"input\");;\n        if ($shadowRootInput) {\n          $shadowRootInput.focus();\n        }\n      }\n    }\n\n    if (searchBox) {\n      searchBox.focus();\n    }\n  }\n\n  /**\n   * Utility function to create log in link\n   * @param {string} logInUrl URL for login\n   * @return {object} DOM Object for link\n   */\n  _createLogInLink(logInUrl) {\n    if (this._accountLogInLink === null) {\n      const logInLink = document.createElement(\"a\");\n      logInLink.setAttribute(\"href\", logInUrl);\n      logInLink.innerText = this.getTranslatedText('login');\n      logInLink.classList.add(\"pfe-navigation__log-in-link\");\n      logInLink.prepend(this._createPfeIcon(\"web-icon-user\"));\n      logInLink.dataset.analyticsLevel = 1;\n      logInLink.dataset.analyticsText = \"Log In\";\n      logInLink.dataset.analyticsCategory = \"Log In\";\n      logInLink.id = \"pfe-navigation__log-in-link\";\n\n      // Adding event listener so analytics knows when the login link is clicked\n      logInLink.addEventListener(\"click\", () => {\n        this.emitEvent(PfeNavigation.events.shadowDomInteraction, {\n          detail: {\n            target: logInLink,\n            parent: this,\n          },\n        });\n      });\n\n      this._accountLogInLink = logInLink;\n      return logInLink;\n    }\n  }\n\n  /**\n   * Creates Avatar Markup\n   * @param {string} name User's Name\n   * @param {string} src Optional, Path to avatar image\n   */\n  _createPfeAvatar(name, src) {\n    const pfeAvatar = document.createElement(`pfe-avatar`);\n    pfeAvatar.setAttribute(\"name\", name);\n    pfeAvatar.setAttribute(\"shape\", \"circle\");\n    pfeAvatar.setAttribute('aria-hidden', 'true');\n\n    if (typeof src === \"string\") {\n      pfeAvatar.setAttribute(\"src\", src);\n    }\n\n    return pfeAvatar;\n  }\n\n  /**\n   * Create Account menu button\n   * @param {string} fullName Full name of the user\n   * @param {string} avatarSrc URL for an avatar image\n   * @return {object} Reference to toggle\n   */\n  _createAccountToggle(fullName, avatarSrc) {\n    if (this._accountToggle === null) {\n      const accountToggle = document.createElement(\"button\");\n      accountToggle.classList.add(\"pfe-navigation__account-toggle\");\n      accountToggle.id = \"pfe-navigation__account-toggle\";\n      // @todo translate\n      accountToggle.setAttribute(\"aria-label\", this.getTranslatedText('openAccountMenu'));\n\n      accountToggle.dataset.analyticsLevel = 1;\n      accountToggle.dataset.analyticsText = \"Account\";\n      accountToggle.dataset.analyticsCategory = \"Account\";\n\n      const pfeAvatar = this._createPfeAvatar(fullName, avatarSrc);\n      accountToggle.appendChild(pfeAvatar);\n      this._accountToggle = accountToggle;\n\n      return accountToggle;\n    }\n  }\n\n  _accountToggleClick() {\n    this._changeNavigationState(this._accountToggle.id);\n  }\n\n  /**\n   * Handle DOM updates on the account dropdown\n   * @param {object} mutationItem Part of a mutationObserver event object for the change\n   */\n  _processAccountDropdownChange(mutationItem) {\n    // If the account component doesn't exist yet we can't do anything\n    if (!this._accountComponent) {\n      // If we don't have accountComponent set yet and we can confirm this is it, set the var.\n      if (\n        mutationItem.target.getAttribute(\"slot\") === \"account\" &&\n        mutationItem.target.parentElement.tagName === \"PFE-NAVIGATION\"\n      ) {\n        this._accountComponent = mutationItem.target;\n      }\n      // If we can't find the accountComponent and it isn't set, we can't do anything else.\n      else {\n        return;\n      }\n    }\n    if (this._accountLogInLink === null) {\n      // Create login link\n      const logInLink = this._accountComponent.getAttribute(\"login-link\");\n      if (logInLink) {\n        this._accountOuterWrapper.prepend(this._createLogInLink(logInLink));\n      }\n    } else if (\n      mutationItem &&\n      mutationItem.type === \"attributes\" &&\n      mutationItem.attributeName === \"login-link\"\n    ) {\n      // Deal with login link changes\n      this.shadowRoot\n        .getElementById(\"pfe-navigation__log-in-link\")\n        .setAttribute(\n          \"href\",\n          this._accountComponent.getAttribute(\"login-link\")\n        );\n    }\n\n    if (this._accountToggle === null) {\n      // Create account toggle\n      const fullName = this._accountComponent.getAttribute(\"full-name\");\n      if (fullName) {\n        this._accountOuterWrapper.prepend(\n          this._createAccountToggle(\n            fullName,\n            this._accountComponent.getAttribute(\"avatar-url\")\n          )\n        );\n        this._accountOuterWrapper.classList.add(\n          \"pfe-navigation__account-wrapper--logged-in\"\n        );\n        this._accountToggle.setAttribute(\n          \"aria-controls\",\n          this._accountDropdownWrapper.id\n        );\n        this._addCloseDropdownAttributes(\n          this._accountToggle,\n          this._accountDropdownWrapper\n        );\n\n        this._accountToggle.addEventListener(\"click\", this._accountToggleClick);\n\n        // Recalculate secondary links breakpoint\n        this._menuBreakpoints.secondaryLinks = null;\n      }\n    } else {\n      // Deal with account toggle changes\n      if (mutationItem.type === \"attributes\") {\n        if (mutationItem.attributeName === \"avatar-url\") {\n          this._accountToggle\n            .querySelector(\"pfe-avatar\")\n            .setAttribute(\n              \"src\",\n              this._accountComponent.getAttribute(\"avatar-url\")\n            );\n        }\n        if (mutationItem.attributeName === \"full-name\") {\n          this._accountToggle\n            .querySelector(\"pfe-avatar\")\n            .setAttribute(\n              \"full-name\",\n              this._accountComponent.getAttribute(\"full-name\")\n            );\n        }\n      }\n    }\n\n    // Unset the secondaryLinks bound because it will update with an account toggle\n    // Then recalculate the JS breakpoints\n    this._menuBounds.secondaryLinksLeft = null;\n    window.setTimeout(this._calculateMenuBreakpoints, 0);\n  }\n\n  /**\n   * Handle the slot change event\n   */\n  _processAccountSlotChange() {\n    const slottedElements = this.getSlot(\"account\");\n    let customAccountDropdown;\n    if (slottedElements) {\n      // Check for an account component\n      for (let index = 0; index < slottedElements.length; index++) {\n        if (\n          slottedElements[index].tagName.toUpperCase() ===\n            \"PFE-NAVIGATION-ACCOUNT\" ||\n          slottedElements[index].tagName.toUpperCase() === \"RH-ACCOUNT-DROPDOWN\"\n        ) {\n          // We have one, make sure it's in the right location in the Shadow DOM\n          if (\n            this._accountSlot.parentElement.id !==\n            this._accountDropdownWrapper.id\n          ) {\n            this._accountDropdownWrapper.appendChild(this._accountSlot);\n          }\n          this._accountComponent = slottedElements[index];\n          this._processAccountDropdownChange();\n          this._accountOuterWrapper.hidden = false;\n        }\n        if (\n          slottedElements[index].tagName.toUpperCase() ===\n          \"PFE-NAVIGATION-DROPDOWN\"\n        ) {\n          customAccountDropdown = slottedElements[index];\n        }\n      }\n      // If we don't have an account dropdown, move the slot so it can behave as a top level link\n      if (!this._accountComponent) {\n        this._accountOuterWrapper.hidden = true;\n        if (\n          this._accountSlot.parentElement.id !== this._shadowDomOuterWrapper.id\n        ) {\n          this._shadowDomOuterWrapper.appendChild(this._accountSlot);\n        }\n      }\n\n      // Add dropdown functionlity to pfe-navigation-dropdown\n      if (customAccountDropdown) {\n        this._processCustomDropdowns([customAccountDropdown]);\n      }\n    }\n    // If we don't have slotted elements we can hide the dropdown wrapper\n    else {\n      this._accountOuterWrapper.hidden = true;\n    }\n  }\n\n  /**\n   * Gets the last focusable element in a mobile-slider so we can trap focus\n   * @param {object} mobileSwipeParent DOM Element that is slotted and has the mobile-slider attribute\n   * @return {object} DOM Reference to last focusable element\n   */\n  _getLastFocusableItemInMobileSlider(mobileSwipeParent) {\n    const dropdown = mobileSwipeParent.querySelector(\n      \".pfe-navigation__dropdown\"\n    );\n    let focusableChildren = null;\n    if (dropdown) {\n      focusableChildren = dropdown.querySelectorAll(this._focusableElements);\n    }\n    if (focusableChildren.length) {\n      const toggle = mobileSwipeParent.querySelector(\n        \".pfe-navigation__secondary-link\"\n      );\n      const firstFocusableElement = focusableChildren[0];\n      const lastFocusableElement =\n        focusableChildren[focusableChildren.length - 1];\n\n      // Initialize arrays for first and last elements and events if they don't exist\n      if (!this._mobileSliderFocusTrapElements[toggle.id]) {\n        this._mobileSliderFocusTrapElements[toggle.id] = [];\n      }\n      if (!this._mobileSliderFocusTrapEvents[toggle.id]) {\n        this._mobileSliderFocusTrapEvents[toggle.id] = [];\n      }\n\n      // If there was any change in the first or last element, redo everything\n      if (\n        !this._mobileSliderFocusTrapElements[toggle.id] ||\n        this._mobileSliderFocusTrapElements[toggle.id][\"last\"] !==\n          lastFocusableElement ||\n        !this._mobileSliderFocusTrapElements[toggle.id] ||\n        this._mobileSliderFocusTrapElements[toggle.id][\"first\"] !==\n          firstFocusableElement\n      ) {\n        // Preventing issues in IE11 & Edge\n        if (\n          _isCrustyBrowser() &&\n          this._mobileSliderMutationObservers[toggle.id]\n        ) {\n          this._mobileSliderMutationObservers[toggle.id].disconnect();\n        }\n\n        // Cleanup any previous last focusable elements\n        const previousLastFocusableElement = this\n          ._mobileSliderFocusTrapElements[toggle.id]\n          ? this._mobileSliderFocusTrapElements[toggle.id][\"last\"]\n          : null;\n        if (previousLastFocusableElement) {\n          previousLastFocusableElement.removeEventListener(\n            \"keydown\",\n            this._mobileSliderFocusTrapEvents[toggle.id][\"last\"]\n          );\n        }\n\n        // Setup new last focusable element\n        this._mobileSliderFocusTrapElements[toggle.id][\"last\"] =\n          lastFocusableElement;\n        this._mobileSliderFocusTrapEvents[toggle.id][\"last\"] = (event) => {\n          if (event.key === \"Tab\") {\n            if (this.breakpoint === \"mobile\") {\n              if (!event.shiftKey) {\n                event.preventDefault();\n                firstFocusableElement.focus();\n              }\n            }\n          }\n        };\n        lastFocusableElement.addEventListener(\n          \"keydown\",\n          this._mobileSliderFocusTrapEvents[toggle.id][\"last\"]\n        );\n\n        // Handle first focusable element\n        // Cleanup any previous first focusable elements\n        const previousFirstFocusableElement = this\n          ._mobileSliderFocusTrapElements[toggle.id]\n          ? this._mobileSliderFocusTrapElements[toggle.id][\"first\"]\n          : null;\n        if (previousFirstFocusableElement) {\n          previousFirstFocusableElement.removeEventListener(\n            \"keydown\",\n            this._mobileSliderFocusTrapEvents[toggle.id][\"first\"]\n          );\n        }\n\n        // Setup new first focusable element\n        this._mobileSliderFocusTrapElements[toggle.id][\"first\"] =\n          firstFocusableElement;\n        this._mobileSliderFocusTrapEvents[toggle.id][\"first\"] = (event) => {\n          if (event.key === \"Tab\") {\n            if (this.breakpoint === \"mobile\") {\n              if (event.shiftKey) {\n                event.preventDefault();\n                lastFocusableElement.focus();\n              }\n            }\n          }\n        };\n        firstFocusableElement.addEventListener(\n          \"keydown\",\n          this._mobileSliderFocusTrapEvents[toggle.id][\"first\"]\n        );\n\n        // Reconnecting mutationObserver for IE11 & Edge\n        if (\n          _isCrustyBrowser() &&\n          this._mobileSliderMutationObservers[toggle.id]\n        ) {\n          this._mobileSliderMutationObservers[toggle.id].observe(dropdown, {\n            subtree: true,\n            childList: true,\n          });\n        }\n      }\n    } else {\n      this.log(\n        \"Couldn't find any focusable children in a mobile-slide element\",\n        mobileSwipeParent\n      );\n    }\n  }\n}\n\nPFElement.create(PfeNavigation);\n\nclass PfeNavigationDropdown extends PFElement {\n  static get version() {\n    return \"1.0.127\";\n  }\n\n  get html() {\n    return `<style>.element-invisible,.sr-only,.visually-hidden{position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}:host{display:block}:host([hidden]){display:none}:host(.pfe-navigation__dropdown--default-styles) #dropdown-container{display:block;width:calc(100% + 32px);max-width:1136px;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);margin-left:-16px;margin-right:-16px;padding-top:12px;padding-bottom:12px;-moz-column-count:auto;column-count:auto;gap:0;grid-column:1/-1;width:100%;margin:0;padding:0}@media (min-width:768px){:host(.pfe-navigation__dropdown--default-styles) #dropdown-container{display:block;-moz-column-count:3;column-count:3;gap:32px;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-top:12px;padding-bottom:12px;margin:0;padding:0}}@media (min-width:1200px){:host(.pfe-navigation__dropdown--default-styles) #dropdown-container{display:flex;flex-wrap:wrap;-moz-column-count:auto;column-count:auto;padding-top:32px;padding-bottom:32px;margin:0;padding:0}@supports (display:grid){:host(.pfe-navigation__dropdown--default-styles) #dropdown-container{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:32px;gap:32px;gap:var(--pfe-navigation--gutter,32px);grid-auto-flow:row}}}.pfe-navigation--collapse-main-menu :host(.pfe-navigation__dropdown--default-styles) #dropdown-container,:host(.pfe-navigation--collapse-main-menu) :host(.pfe-navigation__dropdown--default-styles) #dropdown-container{display:block;-moz-column-count:3;column-count:3;gap:32px;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-top:12px;padding-bottom:12px;margin:0;padding:0}.pfe-navigation--collapse-secondary-links :host(.pfe-navigation__dropdown--default-styles) #dropdown-container,:host(.pfe-navigation--collapse-secondary-links) :host(.pfe-navigation__dropdown--default-styles) #dropdown-container{display:block;width:calc(100% + 32px);max-width:1136px;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);margin-left:-16px;margin-right:-16px;padding-top:12px;padding-bottom:12px;-moz-column-count:auto;column-count:auto;gap:0;margin:0;padding:0}\n/*# sourceMappingURL=pfe-navigation-dropdown.min.css.map */\n</style><div id=\"dropdown-container\">\n  <slot></slot>\n</div>`;\n  }\n\n  static get properties() {\n    return {\"icon\":{\"title\":\"Icon\",\"type\":\"string\",\"enum\":[],\"default\":\"\",\"prefixed\":true},\"name\":{\"title\":\"Name\",\"type\":\"string\",\"enum\":[],\"default\":\"\",\"prefixed\":true},\"alerts\":{\"title\":\"Alerts\",\"type\":\"string\",\"enum\":[],\"default\":\"\",\"prefixed\":true},\"state\":{\"title\":\"State\",\"type\":\"string\",\"enum\":[],\"default\":\"\",\"prefixed\":true},\"height\":{\"title\":\"Height\",\"type\":\"string\",\"enum\":[],\"default\":\"\",\"prefixed\":true}};\n  }\n\n  static get slots() {\n    return {\"default\":{\"title\":\"Default slot\",\"type\":\"array\",\"namedSlot\":false,\"items\":{\"oneOf\":[{\"$ref\":\"raw\"}]}}};\n  }\n  static get tag() {\n    return \"pfe-navigation-dropdown\";\n  }\n\n  get schemaUrl() {\n    return \"pfe-navigation-dropdown.json\";\n  }\n\n  get templateUrl() {\n    return \"pfe-navigation-dropdown.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-navigation-dropdown.css\";\n  }\n\n  static get events() {\n    return {};\n  }\n\n  static get properties() {\n    return {\n      name: {\n        title: \"Button text/Dropdown name\",\n        type: String,\n      },\n      icon: {\n        title: \"What icon to use, must be available in pfe-icon\",\n        type: String,\n      },\n      dropdownWidth: {\n        type: String,\n        title:\n          \"Width of the dropdown, 'single' or 'full' for single column, or full screen width\",\n        default: \"full\",\n        values: [\"single\", \"full\"],\n      },\n      alerts: {\n        type: String,\n        title: \"Adds bubble next to icon with the value of the attribute\",\n      },\n    };\n  }\n\n  static get slots() {\n    return {};\n  }\n\n  // Declare the type of this component\n  static get PfeType() {\n    return PFElement.PfeTypes.Container;\n  }\n\n  constructor() {\n    super(PfeNavigationDropdown, { type: PfeNavigationDropdown.PfeType });\n\n    // Make sure 'this' is set to the component in our methods\n    this._processDom = this._processDom.bind(this);\n\n    // Setting up vars\n    this.processDomObserverConfig = {\n      subtree: true,\n      childList: true,\n    };\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // Process DOM on connect\n    this._processDom();\n    // Observe in case there are updates\n    this._processDomMutationObserver = new MutationObserver(this._processDom);\n    this._processDomMutationObserver.observe(\n      this,\n      this.processDomObserverConfig\n    );\n  }\n\n  /*\n   * @note v1.x markup:\n   * 1.x secondary links with special slots should appear in dropdown\n   * Have to run this in a mutation observer in case we're in an Angular context\n   * @see https://medium.com/patternfly-elements/more-resilientweb-components-in-angular-or-anywhere-else-with-mutationobserver-72a91cd7cf22\n   */\n  _processDom() {\n    // Preventing issues in IE11 & Edge\n    if (_isCrustyBrowser() && this._processDomMutationObserver) {\n      this._processDomMutationObserver.disconnect();\n    }\n\n    // Iterate over children and create new slots based on old nav slots\n    for (let index = 0; index < this.children.length; index++) {\n      const child = this.children[index];\n      const childSlot = child.getAttribute(\"slot\");\n\n      if (\n        childSlot &&\n        !this.shadowRoot.querySelector(`[slot=\"${childSlot}\"]`)\n      ) {\n        const newSlot = document.createElement(\"slot\");\n        newSlot.setAttribute(\"name\", childSlot);\n        this.shadowRoot\n          .getElementById(\"dropdown-container\")\n          .appendChild(newSlot);\n      }\n\n      // Hide the trigger, since we don't use it in this version of nav\n      const trigger = this.querySelector('[slot=\"trigger\"]');\n      if (trigger) {\n        trigger.hidden = true;\n      }\n\n      // Unhide tray which is generally the default\n      const tray = this.querySelector('[slot=\"tray\"]');\n      if (tray) {\n        tray.hidden = false;\n      }\n\n      // Reconnecting mutationObserver for IE11 & Edge\n      if (_isCrustyBrowser() && this._processDomMutationObserver) {\n        this._processDomMutationObserver.observe(this, lightDomObserverConfig);\n      }\n    }\n  }\n}\n\nPFElement.create(PfeNavigationDropdown);\n\nexport default PfeNavigation;\n"],"names":["stringStartsWith","haystack","needle","substring","length","debounce","func","delay","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","_isCrustyBrowser","window","ShadyCSS","nativeShadow","lightDomObserverConfig","characterData","attributes","subtree","childList","mergeObjectData","source","update","updateKeys","Object","keys","forEach","key","PfeNavigation","_navTranslations","data","console","error","dataKeys","index","langCode","_lang","title","attr","type","String","default","observer","breakpoint","openToggle","mobileSlide","Boolean","role","sticky","pfeSticky","alias","search","description","namedSlot","secondaryLinks","slotName","account","expandedItem","tag","collapsedItem","shadowDomInteraction","ready","pfeNavigationItemOpen","pfeNavigationItemClose","PFElement","PfeTypes","Combo","PfeType","_shadowDomOuterWrapper","shadowRoot","getElementById","_logoWrapper","_shadowMenuWrapper","_mobileToggle","_mobileToggleText","_mobileButton","querySelector","_menuDropdownXs","_menuDropdownMd","_secondaryLinksWrapper","_searchToggle","_searchToggleText","_searchSlot","_searchSpotXs","_searchSpotMd","_customLinksSlot","_mobileNavSearchSlot","_overlay","_shadowNavWrapper","_accountOuterWrapper","_accountSlot","_accountDropdownWrapper","_searchButtonText","_siteSwitcherToggle","_siteSwitcherBackButton","_accountComponent","_accountToggle","_accountLogInLink","_currentMobileDropdown","_focusableElements","_menuBreakpoints","mainMenu","_menuBounds","logoRight","mainMenuRight","secondaryLinksLeft","_customDropdownAlertsObservers","_mobileSliderMutationObservers","_mobileSliderFocusTrapEvents","_mobileSliderFocusTrapElements","_debouncedPreResizeAdjustments","_debouncedPostResizeAdjustments","_menuBreakpointQueries","_prefersReducedMotion","_windowInnerWidth","mainMenuButtonVisible","secondaryLinksSectionCollapsed","logoHeights","small","en","login","menu","returnToMainMenu","openAccountMenu","ja","ko","zh","de","fr","it","es","pt","functionsToBind","functionName","bind","addEventListener","_processSearchSlotChange","_processAccountSlotChange","_observer","MutationObserver","_processLightDom","_overlayClickHandler","_isDevelopment","_debugLog","prefersReducedMotionQuery","matchMedia","matches","_resizeDebounce","hasAttribute","classList","add","emitEvent","events","detail","nav","observe","preResizeAdjustments","innerWidth","contains","_postResizeAdjustments","passive","_calculateBreakpointAttribute","_top","getBoundingClientRect","top","_stickyHandler","requestAnimationFrame","closestHeader","closest","log","_focusOutOfNav","disconnect","removeEventListener","_toggleMobileMenu","_toggleSearch","document","_generalKeyboardListener","_siteSwitcherBackClickHandler","mobileSliderObserverKeys","customDropdownAlertsObserversKeys","currentId","mobileSliderFocusTrapKeys","menuBreakpointQueriesKeys","menuBreakpointQueryKey","_removeMediaQueryListener","_collapseMainMenu","_collapseSecondaryLinks","_accountToggleClick","dropdownButtons","querySelectorAll","dropdownButton","_dropdownItemToggle","lang","navTranslations","mediaQueryObject","eventHandler","toggleId","dropdownId","openToggleId","isSecondaryLinksSectionCollapsed","toggleElement","dropdownWrapper","id","removeAttribute","parentElement","remove","style","removeProperty","dropdownHeight","children","offsetHeight","setProperty","isOpen","warn","_getDropdownId","dropdown","getDropdownElement","_setDropdownHeight","dropdownWrapperId","isMobileSlider","isMainMenuToggle","isCustomLink","getAttribute","setAttribute","setHeight","invisibleDelay","text","replace","trim","forceRecalculation","secondaryLinksWrapperFlexDirection","getComputedStyle","flexDirection","isMobileMenuButtonVisible","mobileToggleDisplay","display","currentBreakpoint","dataset","getToggleElement","toState","currentlyOpenToggleId","toggleElementToToggle","_openDropdown","toggleIdToOpen","_addOpenDropdownAttributes","toggle","pane","parent","hidden","_closeDropdown","backOut","toggleIdToClose","_getParentToggleAndDropdown","_addCloseDropdownAttributes","closed","parentToggleAndDropdown","currentlyOpenParentToggleAndDropdown","openDropdownId","keepParentOpen","event","relatedTarget","_changeNavigationState","hasSlot","icon","iconElement","createElement","pfeNavigationDropdown","alertsContainer","alerts","innerText","appendChild","getTranslatedText","prepend","_createPfeIcon","_calculateMenuBreakpoints","textContent","mobileButtonTranslation","searchButtonTranslation","buttonText","toggleMachineName","idSuffix","_createMachineName","iconWrapper","pfeNavigationDropdowns","isSecondaryLink","isAccountDropdown","toggleAndDropdownWrapper","attributeValues","requiredAttributes","attribute","createdNewToggle","_createCustomDropdownToggle","_updateAlerts","observerCallback","mutationList","target","attributeFilter","siteSwitcherBackButtonWrapper","siteSwitcherBackButton","timesToCheckForImageDimensions","logoCheckInterval","logoSelector","logoLink","setLogoMaxWidth","logoDimensions","maxHeight","maxWidth","Math","ceil","width","height","shadowLogo","getLogoDimensions","logoElement","logoTag","tagName","toLowerCase","svgBounds","getBBox","naturalWidth","naturalHeight","pollForLogoDimensions","logoHeight","cancelLightDomProcessing","componentClassesChange","needToRecalculateBreakpoints","ignoredTags","ie11IgnoredClasses","recalculateBreakpoints","_setCurrentMobileDropdown","_moveSearchSlot","_processCustomDropdowns","mutationItem","oneXSlotsNotIn2x","ignoreThisMutation","j","className","customDropdownsToProcess","addedNodes","k","addedNode","nodeType","customDropdown","push","attributeName","_processAccountDropdownChange","includes","slottedParent","newShadowMenuWrapper","htmlBody","skipLinks","skipLinksWrapper","theRealSkipLinks","oldSkipLinksWrapper","replaceChild","lightLogo","newShadowLogoWrapper","cloneNode","logoLinkCopy","logoLinkWrapper","_postProcessLogo","lightMenu","hasOneXMenuMarkup","pfeNavigationMain","oneXTopLevelLinks","transformedSecondaryLinks","createDocumentFragment","pfeNavigationChild","trigger","triggerLink","tray","shadowTrigger","toggleName","unslottedChildLink","divWrapper","datasetKeys","dataKey","dropdownWidth","innerHTML","pfeNavigationItems","pfeNavigationItem","menuListItem","menuItemLink","menuItemDropdown","pfeNavigationItemFooter","removeChild","dropdowns","dropdownLink","dropdownLinkAttributes","getAttributeNames","currentAttribute","machineName","dropdownButtonId","focusableElements","currentElement","_shadowDomInteraction","_removeDropdownAttributes","menuAnchorTags","menuAnchorTag","postProcessLightDom","mobileSliderElements","currentMobileSliderElement","_getLastFocusableItemInMobileSlider","hardcodedBreakpointTablet","parseInt","hardcodedBreakpointDesktop","recreateMediaQueries","someExtraWhiteSpace","logoBoundingRect","right","navigation","navigationBoundingRect","leftMostSecondaryLink","leftMostSecondaryLinkBoundingRect","getSlot","paddingRight","left","updatedMainMenuBreakpoint","_addMediaQueryListener","updatedSecondaryLinksBreakpoint","offsetWidth","menuBounds","menuBreakpoints","openDropdown","oldMobileDropdown","breakpointWas","breakpointIs","mobileSlideParent","_wasMobileMenuButtonVisible","_wasSecondaryLinksSectionCollapsed","_showMobileMainMenu","_searchFieldFocusHandler","preventDefault","dropdownItem","stopPropagation","focus","stuckClass","pageYOffset","searchBox","$pfComponent","$shadowRootInput","logInUrl","logInLink","analyticsLevel","analyticsText","analyticsCategory","name","src","pfeAvatar","fullName","avatarSrc","accountToggle","_createPfeAvatar","_createLogInLink","_createAccountToggle","slottedElements","customAccountDropdown","toUpperCase","mobileSwipeParent","focusableChildren","firstFocusableElement","lastFocusableElement","previousLastFocusableElement","shiftKey","previousFirstFocusableElement","create","PfeNavigationDropdown","values","Container","_processDom","processDomObserverConfig","_processDomMutationObserver","child","childSlot","newSlot"],"mappings":"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"}